<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test T·ª´ V·ª±ng Ng√†y 10 - Cyberpunk Quiz</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ===== RESET & VARIABLES ===== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-glow: #00a8ff;
        --secondary-glow: #00ffcc;
        --danger-glow: #ff3366;
        --warning-glow: #ff9900;
        --bg-primary: #0a0e17;
        --bg-secondary: rgba(0, 20, 40, 0.6);
        --bg-tertiary: rgba(0, 30, 60, 0.5);
        --border-glow: rgba(0, 150, 255, 0.3);
        --text-primary: #e0f7ff;
        --text-secondary: #a0c8e0;
        --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        --sidebar-width: 320px;
        --sidebar-collapsed-width: 60px;
      }

      body {
        font-family: "Exo 2", sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        min-height: 100vh;
        overflow-x: hidden;
        background-image:
          radial-gradient(
            circle at 20% 30%,
            rgba(16, 64, 120, 0.15) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 80% 70%,
            rgba(0, 150, 200, 0.1) 0%,
            transparent 20%
          ),
          linear-gradient(to bottom, #0a0e17, #0c1220);
        padding: 20px;
        max-width: 1600px;
        margin: auto;
        position: relative;
        z-index: 1;
      }

      /* ===== BACKGROUND EFFECTS ===== */
      .cyber-grid {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image:
          linear-gradient(rgba(0, 150, 255, 0.05) 1px, transparent 1px),
          linear-gradient(90deg, rgba(0, 150, 255, 0.05) 1px, transparent 1px);
        background-size: 40px 40px;
        z-index: -1;
        opacity: 0.4;
      }

      .cyber-line {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .cyber-line::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 1px;
        background: linear-gradient(
          to right,
          transparent,
          #00ffcc,
          transparent
        );
        animation: scan 4s linear infinite;
      }

      @keyframes scan {
        0% {
          top: 0%;
        }

        100% {
          top: 100%;
        }
      }

      /* ===== FLOATING BUTTONS ===== */
      .floating-btn-container {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        gap: 15px;
        transition: var(--transition-smooth);
      }

      .floating-btn-container.left {
        left: 20px;
      }

      .floating-btn-container.right {
        right: 20px;
      }

      .floating-btn-container.hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      .floating-btn {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #1a2a3a, #0f1a24);
        border: 2px solid var(--primary-glow);
        color: var(--primary-glow);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 24px;
        box-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
        transition: var(--transition-smooth);
        position: relative;
      }

      .floating-btn:hover {
        transform: scale(1.1);
        border-color: var(--secondary-glow);
        color: var(--secondary-glow);
        box-shadow: 0 0 30px rgba(0, 255, 204, 0.5);
      }

      .floating-btn .badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background: linear-gradient(135deg, #ff3366, #ff0066);
        color: white;
        border-radius: 50%;
        width: 22px;
        height: 22px;
        font-size: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        border: 2px solid var(--bg-primary);
      }

      .btn-tooltip {
        position: absolute;
        background: rgba(0, 20, 40, 0.95);
        color: var(--secondary-glow);
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 14px;
        white-space: nowrap;
        pointer-events: none;
        opacity: 0;
        transition: var(--transition-smooth);
        border: 1px solid var(--border-glow);
        font-family: "Orbitron", sans-serif;
        font-weight: 500;
        backdrop-filter: blur(10px);
      }

      .floating-btn.left .btn-tooltip {
        left: 70px;
      }

      .floating-btn.right .btn-tooltip {
        right: 70px;
      }

      .floating-btn:hover .btn-tooltip {
        opacity: 1;
      }

      /* ===== SIDEBAR PANELS ===== */
      .sidebar-panel {
        position: fixed;
        top: 100px;
        bottom: 30px;
        width: var(--sidebar-width);
        background: rgba(0, 15, 30, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid var(--border-glow);
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
        z-index: 9998;
        transition: var(--transition-smooth);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        border-radius: 16px;
      }

      .sidebar-panel.left {
        left: 20px;
        transform: translateX(
          calc(var(--sidebar-collapsed-width) - var(--sidebar-width) - 20px)
        );
        border-right: 2px solid var(--danger-glow);
      }

      .sidebar-panel.right {
        right: 20px;
        transform: translateX(
          calc(var(--sidebar-width) - var(--sidebar-collapsed-width) + 20px)
        );
        border-left: 2px solid var(--primary-glow);
      }

      .sidebar-panel.left.active,
      .sidebar-panel.right.active {
        transform: translateX(0);
      }

      .sidebar-panel.left:not(.active) .sidebar-content,
      .sidebar-panel.right:not(.active) .sidebar-content {
        opacity: 0;
        visibility: hidden;
      }

      .sidebar-panel.left:not(.active) .sidebar-header,
      .sidebar-panel.right:not(.active) .sidebar-header {
        justify-content: center;
        padding: 20px 0;
        height: 100%;
        display: flex;
        align-items: center;
      }

      .sidebar-panel.left:not(.active) .sidebar-header h3 span,
      .sidebar-panel.right:not(.active) .sidebar-header h3 span {
        display: none;
      }

      .sidebar-panel.left:not(.active) .sidebar-header h3 i,
      .sidebar-panel.right:not(.active) .sidebar-header h3 i {
        margin: 0;
        font-size: 28px;
      }

      .sidebar-panel.left:not(.active) .sidebar-close,
      .sidebar-panel.right:not(.active) .sidebar-close {
        display: none;
      }

      .sidebar-toggle {
        position: absolute;
        width: 30px;
        height: 60px;
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        border: none;
        border-radius: 8px;
        color: #0a0e17;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        font-weight: bold;
        transition: var(--transition-smooth);
        z-index: 100;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        top: 50%;
        transform: translateY(-50%);
      }

      .sidebar-panel.left.active .sidebar-toggle {
        right: -15px;
        display: flex;
      }

      .sidebar-panel.right.active .sidebar-toggle {
        left: -15px;
        display: flex;
      }

      .sidebar-toggle:hover {
        transform: translateY(-50%) scale(1.1);
        box-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
      }

      .sidebar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 25px;
        border-bottom: 1px solid rgba(0, 255, 204, 0.3);
        transition: var(--transition-smooth);
      }

      .sidebar-header h3 {
        font-family: "Orbitron", sans-serif;
        color: var(--secondary-glow);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 0;
      }

      .sidebar-close {
        background: rgba(255, 50, 50, 0.2);
        border: 1px solid rgba(255, 50, 50, 0.5);
        color: #ff6666;
        width: 36px;
        height: 36px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.25s;
        font-family: Orbitron, sans-serif;
      }

      .sidebar-close:hover {
        background: rgba(255, 50, 50, 0.4);
        box-shadow: 0 0 10px rgba(255, 50, 50, 0.4);
        transform: translateY(-1px);
      }

      .sidebar-close i {
        font-size: 16px; /* ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc icon n·∫øu c·∫ßn */
      }

      .sidebar-content {
        flex: 1;
        overflow-y: auto;
        padding: 25px;
        transition: var(--transition-smooth);
      }

      /* ===== TIMER PANEL ===== */
      .timer-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 10000;
        background: rgba(0, 20, 40, 0.95);
        border-radius: 15px;
        padding: 15px 20px;
        border: 1px solid var(--border-glow);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(15px);
        width: 350px;
        display: flex;
        align-items: center;
        transition: var(--transition-smooth);
      }

      .timer-controls {
        display: flex;
        align-items: center;
        width: 100%;
        gap: 10px;
      }

      .timer-input-group {
        display: flex;
        gap: 8px;
      }

      .timer-input {
        width: 70px;
        height: 42px;
        padding: 0 12px;
        background: rgba(0, 10, 25, 0.9);
        border: 1px solid rgba(0, 150, 255, 0.6);
        border-radius: 10px;
        color: var(--text-primary);
        text-align: center;
        font-family: "Orbitron", sans-serif;
        font-size: 16px;
        font-weight: 600;
        transition: var(--transition-smooth);
      }

      .timer-input:focus {
        outline: none;
        border-color: var(--secondary-glow);
        box-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
      }

      .set-btn {
        width: 50px;
        height: 42px;
        background: linear-gradient(135deg, #0066cc, var(--primary-glow));
        border: none;
        border-radius: 10px;
        color: white;
        font-family: "Orbitron", sans-serif;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-smooth);
      }

      .set-btn:hover {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 168, 255, 0.4);
      }

      .start-btn {
        width: 44px;
        height: 42px;
        background: linear-gradient(135deg, #00cc66, #00ff88);
        border: none;
        border-radius: 10px;
        color: #0a0e17;
        font-size: 16px;
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .start-btn:hover {
        background: linear-gradient(135deg, #00ff88, var(--secondary-glow));
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
      }

      .timer-display {
        min-width: 110px;
        height: 42px;
        font-family: "Orbitron", sans-serif;
        font-size: 20px;
        font-weight: 900;
        color: var(--warning-glow);
        text-shadow: 0 0 10px rgba(255, 153, 0, 0.5);
        background: rgba(0, 0, 0, 0.4);
        padding: 0 15px;
        border-radius: 10px;
        border: 1px solid rgba(255, 153, 0, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        font-variant-numeric: tabular-nums;
      }

      /* ===== MAIN CONTENT WRAPPER ===== */
      .main-content-wrapper {
        margin-left: calc(var(--sidebar-collapsed-width) + 20px);
        margin-right: calc(var(--sidebar-collapsed-width) + 20px);
        transition: var(--transition-smooth);
        padding: 20px;
        margin-top: 80px;
      }

      .main-content-wrapper.left-expanded {
        margin-left: calc(var(--sidebar-width) + 40px);
      }

      .main-content-wrapper.right-expanded {
        margin-right: calc(var(--sidebar-width) + 40px);
      }

      .main-quiz-container {
        background: rgba(0, 20, 40, 0.6);
        border-radius: 16px;
        padding: 30px;
        border: 1px solid var(--border-glow);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .main-quiz-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(
          to right,
          var(--primary-glow),
          var(--secondary-glow)
        );
      }

      /* ===== QUIZ STYLES ===== */
      .question-block {
        background: var(--bg-tertiary);
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 25px;
        border: 1px solid rgba(0, 150, 255, 0.2);
        transition: var(--transition-smooth);
        position: relative;
      }

      .question-block:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 100, 255, 0.3);
        border-color: var(--primary-glow);
      }

      .question-number {
        font-size: 20px;
        font-weight: 700;
        color: var(--secondary-glow);
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .question-text {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .answer-option {
        display: block;
        margin-bottom: 12px;
        padding: 15px 20px;
        background: rgba(0, 40, 80, 0.4);
        border: 1px solid rgba(0, 150, 255, 0.2);
        border-radius: 10px;
        color: var(--text-primary);
        cursor: pointer;
        transition: var(--transition-smooth);
      }

      .answer-option:hover {
        background: rgba(0, 80, 160, 0.5);
        border-color: var(--primary-glow);
        transform: translateX(8px);
        box-shadow: 0 5px 15px rgba(0, 100, 255, 0.3);
      }

      .answer-option input[type="radio"] {
        margin-right: 15px;
        transform: scale(1.2);
        accent-color: var(--secondary-glow);
      }

      .detail-btn {
        padding: 12px 24px;
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        color: #0a0e17;
        border: none;
        border-radius: 8px;
        font-family: "Orbitron", sans-serif;
        font-weight: 600;
        cursor: pointer;
        margin-top: 15px;
        transition: var(--transition-smooth);
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .detail-btn:hover {
        background: linear-gradient(
          135deg,
          var(--secondary-glow),
          var(--primary-glow)
        );
        box-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
        transform: translateY(-2px);
      }

      /* ===== READING COMPREHENSION ===== */
      .reading-comprehension {
        background: rgba(0, 30, 80, 0.6);
        border-left: 4px solid var(--secondary-glow);
        padding: 25px;
        border-radius: 12px;
        position: relative;
        margin-bottom: 20px;
        padding-top: 70px;
      }

      .reading-title {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(0, 255, 204, 0.2);
        position: relative;
        z-index: 5;
      }

      .reading-timer-container {
        position: absolute;
        top: 15px;
        right: 25px;
        width: 350px;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid var(--border-glow);
        border-radius: 30px;
        padding: 8px 15px;
        display: flex;
        align-items: center;
        gap: 8px;
        z-index: 20;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        transition: var(--transition-smooth);
      }

      .highlight-controls {
        position: absolute;
        top: 15px;
        right: 400px;
        display: flex;
        gap: 8px;
        background: rgba(0, 20, 40, 0.9);
        padding: 8px 15px;
        border-radius: 30px;
        border: 1px solid var(--border-glow);
        z-index: 20;
        backdrop-filter: blur(10px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        align-items: center;
        height: 46px;
        width: auto;
      }

      .highlight-btn {
        width: 30px;
        height: 30px;
        border-radius: 8px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .highlight-btn:hover {
        transform: scale(1.15);
        box-shadow: 0 0 15px currentColor;
        border-color: white;
      }

      .highlight-btn.red {
        background-color: #ff3333;
        color: white;
      }

      .highlight-btn.blue {
        background-color: #00a8ff;
        color: white;
      }

      .highlight-btn.purple {
        background-color: #aa00ff;
        color: white;
      }

      .highlight-btn.black {
        background-color: #000000;
        color: white;
        border-color: rgba(255, 255, 255, 0.5);
      }

      .highlight-btn.remove-btn {
        background: linear-gradient(135deg, #ff3333, #ff6600);
        color: white;
        font-size: 16px;
        font-weight: bold;
      }

      .reading-timer-input {
        width: 50px;
        height: 32px;
        background: rgba(0, 10, 25, 0.9);
        border: 1px solid rgba(0, 150, 255, 0.4);
        border-radius: 20px;
        color: var(--text-primary);
        text-align: center;
        font-size: 13px;
        padding: 0 8px;
        transition: var(--transition-smooth);
      }

      .reading-timer-input:focus {
        outline: none;
        border-color: var(--secondary-glow);
        box-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
      }

      .reading-timer-btn {
        padding: 6px 14px;
        background: linear-gradient(135deg, #0066cc, var(--primary-glow));
        border: none;
        border-radius: 20px;
        color: white;
        font-size: 12px;
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 4px;
        font-weight: 500;
        white-space: nowrap;
      }

      .reading-timer-btn i {
        font-size: 11px;
      }

      .reading-timer-btn:hover {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 168, 255, 0.4);
      }

      .reading-timer-display {
        font-family: "Orbitron", sans-serif;
        font-size: 16px;
        font-weight: 700;
        color: var(--secondary-glow);
        padding: 0 8px;
        min-width: 60px;
        text-align: center;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 20px;
        padding: 4px 10px;
        border: 1px solid rgba(0, 255, 204, 0.3);
        letter-spacing: 1px;
      }

      .reading-label {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        color: #0a0e17;
        padding: 5px 18px;
        border-radius: 30px;
        font-family: "Orbitron", sans-serif;
        font-weight: 700;
        font-size: 16px;
        text-transform: uppercase;
        letter-spacing: 1px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.3);
        position: relative;
        overflow: hidden;
        transition: var(--transition-smooth);
        animation: reading-pulse 3s infinite ease-in-out;
      }

      .reading-label::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s ease;
      }

      .reading-label:hover {
        transform: translateY(-2px);
        box-shadow: 0 0 25px rgba(0, 255, 204, 0.5);
      }

      .reading-label:hover::before {
        left: 100%;
      }

      @keyframes reading-pulse {
        0% {
          box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        }

        50% {
          box-shadow: 0 0 25px rgba(0, 255, 204, 0.5);
        }

        100% {
          box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        }
      }

      .sub-question-container {
        margin: 25px 0 15px 25px;
        padding-left: 20px;
        border-left: 3px solid rgba(0, 150, 255, 0.3);
      }

      .sub-question-box {
        background: rgba(0, 40, 80, 0.4);
        border: 1px solid rgba(0, 150, 255, 0.2);
        border-radius: 10px;
        padding: 20px;
        margin-top: 15px;
      }

      .sub-question-box p {
        font-weight: 600;
        color: var(--secondary-glow);
        margin-bottom: 15px;
        font-size: 17px;
      }

      .sub-question-options {
        margin-top: 15px;
      }

      .sub-question-key {
        font-size: 12px;
        color: #888;
        margin-left: 10px;
        font-family: monospace;
      }

      /* ===== QUIZ HISTORY ===== */
      #quizHistory {
        max-height: 200px;
        overflow-y: auto;
        margin-top: 15px;
      }

      #quizHistory li {
        background: rgba(0, 40, 80, 0.5);
        padding: 10px;
        margin-bottom: 8px;
        border-radius: 6px;
        border-left: 3px solid var(--primary-glow);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      /* ===== WRONG ANSWERS LIST ===== */
      .wrong-answers-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .wrong-answer-item {
        background: rgba(255, 51, 51, 0.1);
        border-left: 4px solid #ff3366;
        padding: 15px;
        border-radius: 8px;
        transition: var(--transition-smooth);
      }

      .wrong-answer-item:hover {
        background: rgba(255, 51, 51, 0.2);
        transform: translateX(5px);
      }

      /* ===== BUTTON STYLES ===== */
      .cyber-button {
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        background: linear-gradient(135deg, #0066cc, var(--primary-glow));
        color: white;
        border: none;
        border-radius: 10px;
        font-family: "Orbitron", sans-serif;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        position: relative;
        overflow: hidden;
      }

      .cyber-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .cyber-button:hover {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        transform: translateY(-2px);
        box-shadow: 0 0 20px rgba(0, 168, 255, 0.5);
      }

      .cyber-button:hover::before {
        left: 100%;
      }

      /* ===== DETAIL POPUP (GI·∫¢I TH√çCH) - NEW STYLE ===== */
      .detail-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: min(760px, 94vw);
        max-height: 82vh;
        overflow: hidden;

        background: rgba(0, 18, 36, 0.98);
        border: 3px solid rgba(0, 255, 204, 0.65); /* ‚úÖ vi·ªÅn d√†y */
        border-radius: 18px;

        box-shadow:
          0 25px 60px rgba(0, 0, 0, 0.85),
          0 0 30px rgba(0, 255, 204, 0.18);
        backdrop-filter: blur(18px);

        z-index: 200000;
        animation: popup-appear 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .detail-popup::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        height: 5px;
        width: 100%;
        background: linear-gradient(
          90deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        opacity: 0.9;
      }

      .detail-popup-inner {
        padding: 22px 22px 18px;
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .detail-popup-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(0, 255, 204, 0.22);
      }

      .detail-popup-title {
        margin: 0;
        font-family: Orbitron, sans-serif;
        color: var(--secondary-glow);
        font-size: 18px;
        letter-spacing: 0.5px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      /* ‚úÖ N√∫t ƒê√≥ng gi·ªëng h·ªát style b·∫°n ƒë∆∞a */
      .detail-popup-close.test-modal-close {
        background: rgba(255, 50, 50, 0.2);
        border: 1px solid rgba(255, 50, 50, 0.5);
        color: #ff6666;
        padding: 6px 12px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.25s;
        font-size: 13px;
        font-family: Orbitron, sans-serif;
      }

      .detail-popup-close.test-modal-close:hover {
        background: rgba(255, 50, 50, 0.4);
        box-shadow: 0 0 10px rgba(255, 50, 50, 0.4);
        transform: translateY(-1px);
      }

      /* N·ªôi dung cu·ªôn */
      .detail-popup .detail-scroll {
        overflow-y: auto;
        max-height: calc(82vh - 120px);
        padding-right: 10px;
        line-height: 1.85;
        font-size: 16px;

        background: rgba(0, 0, 0, 0.18);
        border: 1px solid rgba(0, 255, 204, 0.18);
        border-radius: 12px;
        padding: 14px 14px;
      }

      /* Scrollbar ƒë·∫πp (Chrome/Edge) */
      .detail-popup .detail-scroll::-webkit-scrollbar {
        width: 10px;
      }
      .detail-popup .detail-scroll::-webkit-scrollbar-thumb {
        background: rgba(0, 255, 204, 0.35);
        border-radius: 10px;
        border: 2px solid rgba(0, 18, 36, 0.98);
      }
      .detail-popup .detail-scroll::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.25);
        border-radius: 10px;
      }

      /* ===== DETAIL POPUP SCROLL ===== */
      .detail-popup .detail-scroll {
        overflow-y: auto;
        max-height: calc(80vh - 120px);
        /* tr·ª´ ph·∫ßn header + padding */
        padding-right: 10px;
        /* ch·ª´a ch·ªó cho scrollbar */
      }

      /* (Tu·ª≥ ch·ªçn) l√†m scrollbar ƒë·∫πp h∆°n tr√™n Chrome/Edge */
      .detail-popup .detail-scroll::-webkit-scrollbar {
        width: 10px;
      }

      .detail-popup .detail-scroll::-webkit-scrollbar-thumb {
        background: rgba(0, 255, 204, 0.35);
        border-radius: 10px;
        border: 2px solid rgba(0, 20, 40, 0.98);
      }

      .detail-popup .detail-scroll::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.25);
        border-radius: 10px;
      }

      /* ===== DARK MODE TOGGLE ===== */
      #darkModeToggleBtn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4c7cff, #6f61e8);
        color: white;
        border: none;
        cursor: pointer;
        font-size: 24px;
        box-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
        z-index: 10001;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #darkModeToggleBtn:hover {
        transform: scale(1.1);
        box-shadow: 0 0 30px rgba(0, 255, 204, 0.5);
      }

      /* ===== CORRECT / WRONG ANSWER STYLES ===== */
      .correct-answer {
        color: #2e7d32;
        font-weight: bold;
        margin-left: 8px;
      }

      .wrong-answer {
        color: #c62828;
        font-weight: bold;
        margin-left: 8px;
      }

      /* ===== RESPONSIVE ===== */
      @media (max-width: 768px) {
        .timer-container {
          position: relative;
          width: 100%;
          top: 0;
          right: 0;
          margin-bottom: 20px;
        }

        .sidebar-panel {
          width: 100%;
          left: 0 !important;
          right: 0 !important;
          top: 0 !important;
          bottom: 0 !important;
          border-radius: 0;
        }

        .main-content-wrapper {
          margin-left: 0 !important;
          margin-right: 0 !important;
        }

        .floating-btn-container {
          display: none;
        }

        .highlight-controls {
          position: relative;
          top: auto;
          right: auto;
          margin-top: 15px;
        }
      }

      @media (max-width: 900px) {
        .reading-timer-container {
          position: relative;
          top: auto;
          right: auto;
          width: 100%;
          margin-top: 15px;
          margin-bottom: 10px;
          border-radius: 15px;
        }

        .highlight-controls {
          position: relative;
          top: auto;
          right: auto;
          width: 100%;
          margin-top: 10px;
          margin-bottom: 15px;
          justify-content: center;
          height: auto;
        }

        .reading-comprehension {
          padding-top: 25px;
        }
      }
      /* ===== BACK TO TOP BUTTON ===== */
      #backToTopBtn {
        position: fixed;
        bottom: 70px; /* n·∫±m ph√≠a tr√™n n√∫t dark mode ƒë·ªÉ kh√¥ng ƒë√® nhau */
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: rgba(0, 20, 40, 0.95);
        border: 2px solid var(--secondary-glow);
        color: var(--secondary-glow);
        cursor: pointer;
        font-size: 22px;
        z-index: 10002;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 20px rgba(0, 255, 204, 0.25);
        backdrop-filter: blur(10px);
        transition: var(--transition-smooth);

        /* ·∫©n m·∫∑c ƒë·ªãnh */
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transform: translateY(10px);
      }

      #backToTopBtn.show {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
        transform: translateY(0);
      }

      #backToTopBtn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 0 30px rgba(0, 255, 204, 0.45);
        border-color: var(--primary-glow);
        color: var(--primary-glow);
      }
      /* ===== FIREWORKS EFFECT ===== */
      .fireworks-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 999999;
      }

      .firework-particle {
        position: absolute;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        pointer-events: none;
        animation: firework-explode 1.5s ease-out forwards;
      }

      @keyframes firework-explode {
        0% {
          transform: translate(0, 0) scale(1);
          opacity: 1;
        }
        100% {
          transform: translate(var(--tx), var(--ty)) scale(0.2);
          opacity: 0;
        }
      }

      /* Hi·ªáu ·ª©ng confetti r∆°i (thay th·∫ø ho·∫∑c b·ªï sung) */
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background-color: #f00;
        position: fixed;
        top: -10px;
        z-index: 999999;
        animation: confetti-fall linear forwards;
      }

      @keyframes confetti-fall {
        to {
          transform: translateY(100vh) rotate(720deg);
        }
      }

      @keyframes bounce {
        from {
          transform: translateX(-50%) translateY(0);
        }
        to {
          transform: translateX(-50%) translateY(-20px);
        }
      }
      /* Kh√≥a scroll ngo√†i khi m·ªü popup */
      body.modal-open {
        overflow: hidden;
      }

      /* (Tu·ª≥ ch·ªçn) m∆∞·ª£t h∆°n tr√™n mobile */
      body.modal-open {
        touch-action: none;
      }
      /* ===== RESULT POPUP - GI·ªêNG DETAIL POPUP ===== */
      .result-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: min(500px, 90vw);
        max-height: 82vh;
        overflow: hidden;

        background: rgba(0, 18, 36, 0.98);

        /* 2 ƒê∆Ø·ªúNG VI·ªÄN */
        border: 6px solid #00ffcc; /* Vi·ªÅn ngo√†i d√†y */
        outline: 4px solid rgba(255, 102, 0, 0.3); /* Vi·ªÅn trong m·ªù */
        outline-offset: -10px; /* ƒêi·ªÅu ch·ªânh v·ªã tr√≠ vi·ªÅn trong */

        border-radius: 24px;

        box-shadow:
          0 25px 60px rgba(0, 0, 0, 0.85),
          0 0 40px rgba(255, 102, 0, 0.5);
        backdrop-filter: blur(18px);

        z-index: 200000;
        animation: popup-appear 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .result-popup-inner {
        padding: 22px 22px 18px;
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .result-popup-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(0, 255, 204, 0.22);
      }

      .result-popup-title {
        margin: 0;
        font-family: Orbitron, sans-serif;
        color: var(--secondary-glow);
        font-size: 18px;
        letter-spacing: 0.5px;
        display: flex;
        align-items: center;
        gap: 10px;
        text-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
      }

      .result-popup-content {
        overflow-y: auto;
        max-height: calc(82vh - 120px);
        padding-right: 10px;

        background: transparent; /* KH√îNG t√¥ m√†u ƒë·∫∑c */
        border: 1px solid rgba(0, 255, 204, 0.18);
        border-radius: 12px;
        padding: 20px 20px;
        text-align: center;
      }

      /* Scrollbar ƒë·∫πp cho result popup */
      .result-popup-content::-webkit-scrollbar {
        width: 10px;
      }

      .result-popup-content::-webkit-scrollbar-thumb {
        background: rgba(0, 255, 204, 0.35);
        border-radius: 10px;
        border: 2px solid rgba(0, 18, 36, 0.98);
      }

      .result-popup-content::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.25);
        border-radius: 10px;
      }

      /* Hi·ªáu ·ª©ng ƒë·∫∑c bi·ªát cho ƒëi·ªÉm 100% */
      .result-popup.perfect-score {
        animation:
          popup-appear 0.3s,
          glow-pulse 1s infinite;
        border-color: gold;
        box-shadow: 0 0 80px gold;
      }

      @keyframes glow-pulse {
        0%,
        100% {
          box-shadow: 0 0 50px gold;
        }
        50% {
          box-shadow: 0 0 100px #ffaa00;
        }
      }

      /* Trophy icon styling */
      .result-popup .fa-trophy {
        font-size: 50px;
        color: #ffd700;
        margin-bottom: 15px;
        filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.5));
      }

      /* Score styling */
      #popupScore {
        font-size: 56px;
        font-weight: 900;
        font-family: "Orbitron", sans-serif;
        color: var(--secondary-glow);
        text-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
        margin: 15px 0;
        letter-spacing: 2px;
      }

      /* Comment styling */
      #popupComment {
        font-size: 20px;
        color: var(--text-primary);
        padding: 15px 20px;
        background: linear-gradient(
          135deg,
          rgba(0, 150, 255, 0.1),
          rgba(0, 255, 204, 0.1)
        );
        border-radius: 50px;
        display: inline-block;
        border: 1px solid rgba(0, 255, 204, 0.3);
      }

      /* Hi·ªáu ·ª©ng ƒë·∫∑c bi·ªát cho ƒëi·ªÉm 100% */
      .result-popup.perfect-score {
        animation:
          popup-appear 0.3s,
          glow-pulse 1s infinite;
        border-color: gold;
        box-shadow: 0 0 80px gold;
      }

      @keyframes glow-pulse {
        0%,
        100% {
          box-shadow: 0 0 50px gold;
        }
        50% {
          box-shadow: 0 0 100px #ffaa00;
        }
      }

      /* ===== TIME UP ALERT - C≈®NG C·∫¶N TH√äM ===== */
      .time-up-alert {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #d32f2f, #b71c1c);
        color: white;
        padding: 30px 50px;
        border-radius: 20px;
        font-size: 28px;
        font-weight: bold;
        z-index: 200000;
        box-shadow: 0 0 50px rgba(211, 47, 47, 0.5);
        border: 2px solid #ff8a80;
        text-align: center;
        animation: popup-appear 0.3s;
      }
      /* Overlay l√†m t·ªëi m√†n h√¨nh */
      .result-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7); /* ƒê·ªô t·ªëi 70% */
        backdrop-filter: blur(5px); /* Hi·ªáu ·ª©ng m·ªù (t√πy ch·ªçn) */
        z-index: 199999; /* Th·∫•p h∆°n popup m·ªôt ch√∫t */
        display: none;
        animation: fadeIn 0.3s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    </style>
  </head>

  <body>
    <!-- Background Effects -->
    <div class="cyber-grid"></div>
    <div class="cyber-line"></div>

    <!-- Main Title - S·ª¨A: th√™m placeholder cho t√™n b√†i test v√† t·ªïng s·ªë c√¢u -->
    <h1 style="margin-bottom: 30px">
      üìö CYBERPUNK QUIZ - TEST T·ª™ V·ª∞NG NG√ÄY 10 (40 c√¢u)
    </h1>

    <!-- Timer Panel -->
    <div class="timer-container">
      <div class="timer-controls">
        <div class="timer-input-group">
          <input
            type="number"
            id="setTimeInput"
            class="timer-input"
            placeholder="20"
            min="1"
            max="120"
            value="20"
          />
          <button class="set-btn" onclick="setTimer()">ƒê·∫∑t</button>
        </div>
        <button class="start-btn" onclick="toggleTimer()">
          <i class="fas fa-play"></i>
        </button>
        <span id="timerDisplay" class="timer-display">20:00</span>
      </div>
    </div>

    <!-- Dark Mode Toggle -->
    <button id="darkModeToggleBtn" onclick="toggleDarkMode()">üåô</button>
    <!-- Back To Top -->
    <button id="backToTopBtn" onclick="scrollToTop()" title="L√™n ƒë·∫ßu trang">
      <i class="fas fa-arrow-up"></i>
    </button>

    <!-- FLOATING BUTTONS -->
    <div id="leftFloatingBtn" class="floating-btn-container left">
      <div class="floating-btn left" onclick="toggleSidebar('left')">
        <i class="fas fa-times-circle"></i>
        <span class="badge" id="wrongAnswersBadge">0</span>
        <span class="btn-tooltip">C√¢u ƒë√£ sai</span>
      </div>
    </div>
    <div id="rightFloatingBtn" class="floating-btn-container right">
      <div class="floating-btn right" onclick="toggleSidebar('right')">
        <i class="fas fa-cog"></i>
        <span class="btn-tooltip">ƒêi·ªÅu khi·ªÉn</span>
      </div>
    </div>

    <!-- LEFT SIDEBAR - Wrong Answers -->
    <div id="leftSidebarPanel" class="sidebar-panel left">
      <button class="sidebar-toggle" onclick="toggleSidebar('left')">
        <i class="fas fa-chevron-left"></i>
      </button>
      <div class="sidebar-header">
        <h3>
          <i class="fas fa-times-circle" style="color: #ff3366"></i
          ><span>C√ÇU ƒê√É SAI</span>
        </h3>
        <button class="sidebar-close" onclick="forceCloseSidebar('left')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="sidebar-content">
        <div style="margin-bottom: 20px; display: flex; gap: 10px">
          <button
            class="cyber-button"
            onclick="showWrongAnswers()"
            style="flex: 2"
          >
            <i class="fas fa-eye"></i> Xem
          </button>
          <button
            class="cyber-button"
            onclick="practiceWrongAnswers()"
            style="flex: 2"
          >
            <i class="fas fa-graduation-cap"></i> Luy·ªán
          </button>
          <button
            class="cyber-button"
            onclick="clearWrongAnswers()"
            style="
              flex: 1;
              background: linear-gradient(135deg, #ff3333, #ff6600);
            "
          >
            <i class="fas fa-trash"></i>
          </button>
        </div>
        <div id="wrongAnswersList" class="wrong-answers-list"></div>
      </div>
    </div>

    <!-- RIGHT SIDEBAR - Controls -->
    <div id="rightSidebarPanel" class="sidebar-panel right">
      <button class="sidebar-toggle" onclick="toggleSidebar('right')">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="sidebar-header">
        <h3>
          <i class="fas fa-tasks" style="color: var(--secondary-glow)"></i
          ><span>ƒêI·ªÄU KHI·ªÇN</span>
        </h3>
        <button class="sidebar-close" onclick="forceCloseSidebar('right')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="sidebar-content">
        <button class="cyber-button" onclick="submitQuiz()">
          <i class="fas fa-paper-plane"></i> N·ªôp b√†i
        </button>
        <button class="cyber-button" onclick="resetQuiz()">
          <i class="fas fa-redo-alt"></i> L√†m l·∫°i
        </button>
        <button
          id="showAnswersBtn"
          class="cyber-button"
          onclick="showCorrectAnswers()"
          style="
            display: none;
            background: linear-gradient(135deg, #00cc66, #00ff88);
          "
        >
          <i class="fas fa-check-circle"></i> Hi·ªán ƒë√°p √°n
        </button>

        <h4
          style="
            color: var(--secondary-glow);
            margin: 20px 0 10px;
            font-family: Orbitron;
          "
        >
          <i class="fas fa-history"></i> L·ªäCH S·ª¨
        </h4>
        <ul id="quizHistory"></ul>

        <h4
          style="
            color: var(--secondary-glow);
            margin: 20px 0 10px;
            font-family: Orbitron;
          "
        >
          <i class="fas fa-edit"></i> C·∫¨P NH·∫¨T ƒê√ÅP √ÅN
        </h4>
        <input
          type="text"
          id="editKey"
          placeholder="V√≠ d·ª•: q1 ho·∫∑c 4.1"
          style="
            width: 100%;
            margin-bottom: 10px;
            background: rgba(0, 10, 25, 0.9);
            color: white;
            border: 1px solid var(--border-glow);
            border-radius: 6px;
            padding: 10px;
          "
        />
        <input
          type="text"
          id="editValue"
          placeholder="S·ªë ƒë√°p √°n (1-4)"
          style="
            width: 100%;
            margin-bottom: 10px;
            background: rgba(0, 10, 25, 0.9);
            color: white;
            border: 1px solid var(--border-glow);
            border-radius: 6px;
            padding: 10px;
          "
        />
        <button
          class="cyber-button"
          onclick="updateAnswer()"
          style="margin-bottom: 5px"
        >
          <i class="fas fa-save"></i> C·∫≠p nh·∫≠t
        </button>
        <button
          class="cyber-button"
          id="clearAnswersBtn"
          style="background: linear-gradient(135deg, #ff3333, #ff6600)"
        >
          <i class="fas fa-eraser"></i> X√≥a c·∫≠p nh·∫≠t
        </button>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div id="mainContentWrapper" class="main-content-wrapper">
      <div class="main-quiz-container">
        <!-- H2 - S·ª¨A: th√™m placeholder cho t√™n b√†i test -->
        <h2
          style="
            margin-bottom: 25px;
            border-bottom: 2px solid rgba(0, 255, 204, 0.3);
            padding-bottom: 15px;
          "
        >
          <i class="fas fa-file-alt" style="color: var(--secondary-glow)"></i>
          TEST T·ª™ V·ª∞NG NG√ÄY 10
        </h2>
        <form id="quizForm"></form>
      </div>
    </div>

    <!-- Popups -->
    <div id="timeUpAlert" class="time-up-alert" style="display: none">
      <i
        class="fas fa-hourglass-end"
        style="font-size: 40px; margin-bottom: 20px"
      ></i>
      <h2>‚è∞ H·∫æT TH·ªúI GIAN!</h2>
      <p style="margin-top: 10px">B·∫°n ƒë√£ h·∫øt th·ªùi gian l√†m b√†i r·ªìi!</p>
    </div>
    <!-- Overlay l√†m t·ªëi m√†n h√¨nh -->
    <div id="resultOverlay" class="result-overlay"></div>

    <div id="resultPopup" class="result-popup" style="display: none">
      <div class="result-popup-inner">
        <div class="result-popup-header">
          <h3 class="result-popup-title">
            <i
              class="fas fa-trophy"
              style="color: #ffd700; font-size: 24px"
            ></i>
            K·∫æT QU·∫¢ C·ª¶A B·∫†N
          </h3>
          <button
            class="detail-popup-close test-modal-close"
            onclick="closeResultPopup()"
          >
            ƒê√≥ng
          </button>
        </div>

        <div class="result-popup-content">
          <i
            class="fas fa-trophy"
            style="font-size: 60px; color: #ffd700; margin-bottom: 15px"
          ></i>
          <div class="score" id="popupScore"></div>
          <div
            id="popupComment"
            style="font-size: 20px; margin-top: 15px"
          ></div>
        </div>
      </div>
    </div>

    <script>
      // ==================== INITIALIZATION ====================
      window.answers = JSON.parse(
        localStorage.getItem("customAnswers") || "{}",
      );
      let readingComprehensionCount = 0;
      const readingTimers = {};
      const savedRanges = {};

      // ==================== QUIZ DATA ====================
      const quizData = [
  {
    number: 1,
    question: 'Â¶¨„ÇÄ',
    options: ['„Å≠„Å∞„ÇÄ', '„Å≠„Åü„ÇÄ', '„Å≠„ÅØ„ÇÄ', '„Å≠„Åã„ÇÄ'],
    answer: '2',
    detail: 'üî¥ Â¶¨„ÇÄÔºà„Å≠„Åü„ÇÄÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Â¶¨Ôºàƒê·ªêÔºâÔºùghen<br>Nghƒ©a: Ghen t·ªµ, ƒë·ªë k·ªµ<br>üí¨ V√≠ d·ª•:<br>1. Âèã‰∫∫„ÇíÂ¶¨„ÇÄ„ÄÇ‚Üí Ghen t·ªµ v·ªõi b·∫°n b√®.<br>2. Â¶¨„Åø„ÇíÊä±„Åè„ÄÇ‚Üí Mang l√≤ng ƒë·ªë k·ªµ.<br>3. ÊàêÂäü„ÇíÂ¶¨„ÇÄ„ÄÇ‚Üí Ghen t·ªµ v·ªõi th√†nh c√¥ng.<br>üü¢ ƒê·ªìng nghƒ©a: Â´âÂ¶¨„Åô„ÇãÔºà„Åó„Å£„Å®„Åô„ÇãÔºâ<br>üî¥ Tr√°i nghƒ©a: Âñú„Å∂Ôºà„Çà„Çç„Åì„Å∂Ôºâ<br>üß† C√°ch nh·ªõ: ƒê·ªë k·ªµ ‚Üí ghen t·ªµ<br>üëâ T√≥m l·∫°i: Â¶¨„ÇÄ = ghen t·ªµ, ƒë·ªë k·ªµ',
    isReading: false
  },
  {
    number: 2,
    question: 'ÂÜ∑„ÇÑ„Åã„Åô',
    options: ['„Å≤„ÇÑ„Åã„Åô', '„Åç„ÇÑ„Åã„Åô', '„Åó„ÇÑ„Åã„Åô', '„Åø„ÇÑ„Åã„Åô'],
    answer: '1',
    detail: 'üî¥ ÂÜ∑„ÇÑ„Åã„ÅôÔºà„Å≤„ÇÑ„Åã„ÅôÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: ÂÜ∑ÔºàL√ÉNHÔºâÔºùl·∫°nh<br>Nghƒ©a: Tr√™u ch·ªçc, nh·∫°o b√°ng<br>üí¨ V√≠ d·ª•:<br>1. ÂèãÈÅî„ÇíÂÜ∑„ÇÑ„Åã„Åô„ÄÇ‚Üí Tr√™u ch·ªçc b·∫°n b√®.<br>2. ÂÜ∑„ÇÑ„Åã„ÅóÂçäÂàÜ„ÅßË©±„Åô„ÄÇ‚Üí N√≥i ƒë√πa n·ª≠a th·∫≠t.<br>3. ÂïÜÂ∫ó„ÅßÂÜ∑„ÇÑ„Åã„Åô„ÄÇ‚Üí Tham quan c·ª≠a h√†ng m√† kh√¥ng mua.<br>üü¢ ƒê·ªìng nghƒ©a: „Åã„Çâ„Åã„ÅÜ„ÄÅÂò≤„Çã<br>üî¥ Tr√°i nghƒ©a: ÁúüÂâ£„Å´ÂØæÂøú„Åô„Çã<br>üß† C√°ch nh·ªõ: L·∫°nh ‚Üí l√†m cho b·ªëi r·ªëi, tr√™u ch·ªçc<br>üëâ T√≥m l·∫°i: ÂÜ∑„ÇÑ„Åã„Åô = tr√™u ch·ªçc, nh·∫°o b√°ng',
    isReading: false
  },
  {
    number: 3,
    question: 'ÊÉë„Çè„Åô',
    options: ['„Åæ„Åì„Çè„Åô', '„Åæ„Å®„Çè„Åô', '„Åæ„Å©„Çè„Åô', '„Åæ„Åº„Çè„Åô'],
    answer: '3',
    detail: 'üî¥ ÊÉë„Çè„ÅôÔºà„Åæ„Å©„Çè„ÅôÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: ÊÉëÔºàHO·∫∂CÔºâÔºùl·∫°c<br>Nghƒ©a: L√†m l√∫ng t√∫ng, ƒë√°nh l·ª´a<br>üí¨ V√≠ d·ª•:<br>1. Ë®ÄËëâ„ÅßÊÉë„Çè„Åô„ÄÇ‚Üí ƒê√°nh l·ª´a b·∫±ng l·ªùi n√≥i.<br>2. Ë™òÊÉë„ÅßÊÉë„Çè„Åô„ÄÇ‚Üí L√†m l√∫ng t√∫ng b·∫±ng c√°m d·ªó.<br>3. ÂøÉ„ÇíÊÉë„Çè„Åô„ÄÇ‚Üí L√†m r·ªëi t√¢m tr√≠.<br>üü¢ ƒê·ªìng nghƒ©a: Ëø∑„Çè„Åõ„Çã„ÄÅÊ¨∫„Åè<br>üî¥ Tr√°i nghƒ©a: Â∞é„Åè„ÄÅÂä©„Åë„Çã<br>üß† C√°ch nh·ªõ: L√†m r·ªëi ‚Üí ƒë√°nh l·ª´a, l√∫ng t√∫ng<br>üëâ T√≥m l·∫°i: ÊÉë„Çè„Åô = l√†m l√∫ng t√∫ng, ƒë√°nh l·ª´a',
    isReading: false
  },
  {
    number: 4,
    question: 'Ê≤∏„Åè',
    options: ['„Åü„Åè', '„ÅØ„Åè', '„Åï„Åè', '„Çè„Åè'],
    answer: '4',
    detail: 'üî¥ Ê≤∏„ÅèÔºà„Çè„ÅèÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Ê≤∏ÔºàPH√çÔºâÔºùs√¥i<br>Nghƒ©a: S√¥i s·ª•c, n√°o nhi·ªát<br>üí¨ V√≠ d·ª•:<br>1. „ÅäÊπØ„ÅåÊ≤∏„Åè„ÄÇ‚Üí N∆∞·ªõc s√¥i.<br>2. ‰ºöÂ†¥„ÅåÊ≤∏„Åè„ÄÇ‚Üí H·ªôi tr∆∞·ªùng n√°o nhi·ªát.<br>3. ËààÂ•Æ„ÅßÂøÉ„ÅåÊ≤∏„Åè„ÄÇ‚Üí Tim s√¥i s·ª•c v√¨ h∆∞ng ph·∫•n.<br>üü¢ ƒê·ªìng nghƒ©a: Êπß„ÅèÔºà„Çè„ÅèÔºâ„ÄÅÁõõ„Çä‰∏ä„Åå„Çã<br>üî¥ Tr√°i nghƒ©a: ÂÜ∑„ÇÅ„Çã<br>üß† C√°ch nh·ªõ: S√¥i ‚Üí n√°o nhi·ªát, h∆∞ng ph·∫•n<br>üëâ T√≥m l·∫°i: Ê≤∏„Åè = s√¥i s·ª•c, n√°o nhi·ªát',
    isReading: false
  },
  {
    number: 5,
    question: 'ÊµÖ„Åæ„Åó„ÅÑ',
    options: ['„ÅÇ„Çâ„Åæ„Åó„ÅÑ', '„ÅÇ„Åã„Åæ„Åó„ÅÑ', '„ÅÇ„Åï„Åæ„Åó„ÅÑ', '„ÅÇ„ÇÑ„Åæ„Åó„ÅÑ'],
    answer: '3',
    detail: 'üî¥ ÊµÖ„Åæ„Åó„ÅÑÔºà„ÅÇ„Åï„Åæ„Åó„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: ÊµÖÔºàTHI·ªÇNÔºâÔºùc·∫°n<br>Nghƒ©a: H√®n h·∫°, ƒë√°ng khinh<br>üí¨ V√≠ d·ª•:<br>1. ÊµÖ„Åæ„Åó„ÅÑË°åÁÇ∫„ÄÇ‚Üí H√†nh vi h√®n h·∫°.<br>2. ÊµÖ„Åæ„Åó„ÅÑÊÖãÂ∫¶„ÄÇ‚Üí Th√°i ƒë·ªô ƒë√°ng khinh.<br>3. ÊµÖ„Åæ„Åó„ÅÑ‰∫∫Èñì„ÄÇ‚Üí Con ng∆∞·ªùi h√®n h·∫°.<br>üü¢ ƒê·ªìng nghƒ©a: Âçë„Åó„ÅÑÔºà„ÅÑ„ÇÑ„Åó„ÅÑÔºâ„ÄÅ„Åø„Åô„Åº„Çâ„Åó„ÅÑ<br>üî¥ Tr√°i nghƒ©a: È´òÊΩîÔºà„Åì„ÅÜ„Åë„Å§Ôºâ<br>üß† C√°ch nh·ªõ: C·∫°n ƒë·∫°o ƒë·ª©c ‚Üí h√®n h·∫°<br>üëâ T√≥m l·∫°i: ÊµÖ„Åæ„Åó„ÅÑ = h√®n h·∫°, ƒë√°ng khinh',
    isReading: false
  },
  {
    number: 6,
    question: 'Âãá„Åæ„Åó„ÅÑ',
    options: ['„ÅÑ„Åã„Åæ„Åó„ÅÑ', '„ÅÑ„ÇÑ„Åæ„Åó„ÅÑ', '„ÅÑ„Åï„Åæ„Åó„ÅÑ', '„ÅÑ„ÅØ„Åæ„Åó„ÅÑ'],
    answer: '3',
    detail: 'üî¥ Âãá„Åæ„Åó„ÅÑÔºà„ÅÑ„Åï„Åæ„Åó„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: ÂãáÔºàD≈®NGÔºâÔºùd≈©ng<br>Nghƒ©a: D≈©ng c·∫£m, m·∫°nh m·∫Ω<br>üí¨ V√≠ d·ª•:<br>1. Âãá„Åæ„Åó„ÅÑÂßø„ÄÇ‚Üí H√¨nh ·∫£nh d≈©ng c·∫£m.<br>2. Âãá„Åæ„Åó„ÅèÊà¶„ÅÜ„ÄÇ‚Üí Chi·∫øn ƒë·∫•u m·∫°nh m·∫Ω.<br>3. Âãá„Åæ„Åó„ÅÑÂ£∞Êè¥„ÄÇ‚Üí H√¥ vang d≈©ng c·∫£m.<br>üü¢ ƒê·ªìng nghƒ©a: Â§ßËÉÜÔºà„Å†„ÅÑ„Åü„ÇìÔºâ„ÄÅÂãáÊï¢Ôºà„ÇÜ„ÅÜ„Åã„ÇìÔºâ<br>üî¥ Tr√°i nghƒ©a: ËáÜÁóÖÔºà„Åä„Åè„Å≥„Çá„ÅÜÔºâ<br>üß† C√°ch nh·ªõ: D≈©ng ‚Üí d≈©ng c·∫£m, m·∫°nh m·∫Ω<br>üëâ T√≥m l·∫°i: Âãá„Åæ„Åó„ÅÑ = d≈©ng c·∫£m, m·∫°nh m·∫Ω',
    isReading: false
  },
  {
    number: 7,
    question: '„Åä„Å£„Åã„Å™„ÅÑ',
    options: ['H√®n h·∫°, t·∫ßm th∆∞·ªùng', 'S·ª£ h√£i, ƒë√°ng s·ª£', 'S√¥i l√™n, s√¥i s·ª•c', 'D·ªÖ ch·ªãu'],
    answer: '2',
    detail: 'üî¥ „Åä„Å£„Åã„Å™„ÅÑ<br>üà∂ Nghƒ©a: Gh√™ g·ªõm, ƒë√°ng s·ª£<br>üí¨ V√≠ d·ª•:<br>1. ÂΩº„ÅØ„Åä„Å£„Åã„Å™„ÅÑ‰∫∫„Å†„ÄÇ‚Üí Anh ta l√† ng∆∞·ªùi ƒë√°ng s·ª£.<br>2. „Åä„Å£„Åã„Å™„ÅÑÁä¨„ÄÇ‚Üí Con ch√≥ d·ªØ.<br>3. „Åä„Å£„Åã„Å™„ÅÑ‰∫ã‰ª∂„ÄÇ‚Üí V·ª• vi·ªác kinh kh·ªßng.<br>üü¢ ƒê·ªìng nghƒ©a: ÊÄñ„ÅÑÔºà„Åì„Çè„ÅÑÔºâ<br>üî¥ Tr√°i nghƒ©a: ÂÑ™„Åó„ÅÑÔºà„ÇÑ„Åï„Åó„ÅÑÔºâ<br>üß† C√°ch nh·ªõ: √Çm thanh ‚Üí c·∫£m gi√°c ƒë√°ng s·ª£<br>üëâ T√≥m l·∫°i: „Åä„Å£„Åã„Å™„ÅÑ = gh√™ g·ªõm, ƒë√°ng s·ª£',
    isReading: false
  },
  {
    number: 8,
    question: 'ÂøÉÂú∞„Çà„ÅÑ',
    options: ['„Åì„Åì„Å°„Çà„ÅÑ', '„Åì„Åì„Çç„Å°„Çà„ÅÑ', '„Åó„Çì„Å°„Çà„ÅÑ', '„Åì„Åì„Çç„Åò„Çà„ÅÑ'],
    answer: '1',
    detail: 'üî¥ ÂøÉÂú∞„Çà„ÅÑÔºà„Åì„Åì„Å°„Çà„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: ÂøÉÂú∞ÔºàT√ÇM ƒê·ªäAÔºâÔºùc·∫£m gi√°c<br>Nghƒ©a: D·ªÖ ch·ªãu, tho·∫£i m√°i<br>üí¨ V√≠ d·ª•:<br>1. ÂøÉÂú∞„Çà„ÅÑÈ¢®„ÄÇ‚Üí C∆°n gi√≥ d·ªÖ ch·ªãu.<br>2. ÂøÉÂú∞„Çà„ÅÑÈü≥Ê•Ω„ÄÇ‚Üí Nh·∫°c d·ªÖ ch·ªãu.<br>3. ÂøÉÂú∞„Çà„ÅÑÁ©∫Èñì„ÄÇ‚Üí Kh√¥ng gian tho·∫£i m√°i.<br>üü¢ ƒê·ªìng nghƒ©a: Âø´ÈÅ©Ôºà„Åã„ÅÑ„Å¶„ÅçÔºâ„ÄÅÊ∞óÊåÅ„Å°„ÅÑ„ÅÑ<br>üî¥ Tr√°i nghƒ©a: ‰∏çÂø´Ôºà„Åµ„Åã„ÅÑÔºâ<br>üß† C√°ch nh·ªõ: C·∫£m gi√°c trong tim ‚Üí d·ªÖ ch·ªãu<br>üëâ T√≥m l·∫°i: ÂøÉÂú∞„Çà„ÅÑ = d·ªÖ ch·ªãu, tho·∫£i m√°i',
    isReading: false
  },
  {
    number: 9,
    question: 'ÂøÉÁ¥∞„ÅÑ',
    options: ['„Åó„Çì„Åº„Åù„ÅÑ', '„Åì„Åì„Çç„Åì„Åù„ÅÑ', '„Åì„Åì„Çç„Åª„Åù„ÅÑ', '„Åì„Åì„Çç„Åº„Åù„ÅÑ'],
    answer: '4',
    detail: 'üî¥ ÂøÉÁ¥∞„ÅÑÔºà„Åì„Åì„Çç„Åº„Åù„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: ÂøÉÔºàT√ÇMÔºâÔºùt√¢m, Á¥∞ÔºàT·∫æÔºâÔºùnh·ªè<br>Nghƒ©a: Lo l·∫Øng, c√¥ ƒë∆°n<br>üí¨ V√≠ d·ª•:<br>1. ‰∏Ä‰∫∫„ÅßÂøÉÁ¥∞„ÅÑ„ÄÇ‚Üí M·ªôt m√¨nh lo l·∫Øng.<br>2. ÂøÉÁ¥∞„ÅèÊÑü„Åò„Çã„ÄÇ‚Üí C·∫£m th·∫•y b·∫•t an.<br>3. ÂøÉÁ¥∞„ÅÑÂ§ú„ÄÇ‚Üí ƒê√™m c√¥ ƒë∆°n.<br>üü¢ ƒê·ªìng nghƒ©a: ‰∏çÂÆâ„ÄÅÈ†º„Çä„Å™„ÅÑ<br>üî¥ Tr√°i nghƒ©a: ÂÆâÂøÉ„ÄÅÈ†º„ÇÇ„Åó„ÅÑ<br>üß† C√°ch nh·ªõ: Tim nh·ªè ‚Üí lo l·∫Øng, b·∫•t an<br>üëâ T√≥m l·∫°i: ÂøÉÁ¥∞„ÅÑ = lo l·∫Øng, c√¥ ƒë∆°n',
    isReading: false
  },
  {
    number: 10,
    question: 'Â•Ω„Åæ„Åó„ÅÑ',
    options: ['„ÅÇ„ÅÆ„Åæ„Åó„ÅÑ', '„Åì„ÅÆ„Åæ„Åó„ÅÑ', '„ÅÑ„ÅÆ„Åæ„Åó„ÅÑ', '„Åù„ÅÆ„Åæ„Åó„ÅÑ'],
    answer: '2',
    detail: 'üî¥ Â•Ω„Åæ„Åó„ÅÑÔºà„Åì„ÅÆ„Åæ„Åó„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Â•ΩÔºàH·∫¢OÔºâÔºùth√≠ch<br>Nghƒ©a: ƒê√°ng m·∫øn, t·ªët<br>üí¨ V√≠ d·ª•:<br>1. Â•Ω„Åæ„Åó„ÅÑÊÖãÂ∫¶„ÄÇ‚Üí Th√°i ƒë·ªô ƒë√°ng m·∫øn.<br>2. Â•Ω„Åæ„Åó„ÅÑÁµêÊûú„ÄÇ‚Üí K·∫øt qu·∫£ t·ªët.<br>3. Ëã•ËÄÖ„Å´Â•Ω„Åæ„Åó„ÅÑÁí∞Â¢É„ÄÇ‚Üí M√¥i tr∆∞·ªùng t·ªët cho gi·ªõi tr·∫ª.<br>üü¢ ƒê·ªìng nghƒ©a: Êúõ„Åæ„Åó„ÅÑÔºà„ÅÆ„Åû„Åæ„Åó„ÅÑÔºâ„ÄÅÈÅ©ÂàáÔºà„Å¶„Åç„Åõ„Å§Ôºâ<br>üî¥ Tr√°i nghƒ©a: ‰∏çÈÅ©ÂàáÔºà„Åµ„Å¶„Åç„Åõ„Å§Ôºâ<br>üß† C√°ch nh·ªõ: Th√≠ch ‚Üí ƒë√°ng m·∫øn, t·ªët<br>üëâ T√≥m l·∫°i: Â•Ω„Åæ„Åó„ÅÑ = ƒë√°ng m·∫øn, t·ªët',
    isReading: false
  },
  {
    number: 11,
    question: '„Å∞„Åã„Å∞„Åã„Åó„ÅÑ',
    options: ['Ng·ªõ ng·∫©n', 'V√¥ v·ªã, tr·ªëng r·ªóng', 'M∆° h·ªì, kh√¥ng r√µ r√†ng, mang m√°ng', 'ƒê∆∞·ª£c y√™u m·∫øn h∆°n, n√™n, t·ªët h∆°n'],
    answer: '1',
    detail: 'üî¥ „Å∞„Åã„Å∞„Åã„Åó„ÅÑ<br>üà∂ Nghƒ©a: Ngu ng·ªëc, v√¥ l√Ω<br>üí¨ V√≠ d·ª•:<br>1. „Å∞„Åã„Å∞„Åã„Åó„ÅÑË≠∞Ë´ñ„ÄÇ‚Üí Tranh lu·∫≠n ngu ng·ªëc.<br>2. „Å∞„Åã„Å∞„Åã„Åó„ÅÑË≥™Âïè„ÄÇ‚Üí C√¢u h·ªèi v√¥ l√Ω.<br>3. „Å∞„Åã„Å∞„Åã„Åó„ÅÑË°åÂãï„ÄÇ‚Üí H√†nh ƒë·ªông ngu ng·ªëc.<br>üü¢ ƒê·ªìng nghƒ©a: È¶¨Èπø„Åí„ÅüÔºà„Å∞„Åã„Åí„ÅüÔºâ„ÄÅÁÑ°ÊÑèÂë≥Ôºà„ÇÄ„ÅÑ„ÅøÔºâ<br>üî¥ Tr√°i nghƒ©a: Ë≥¢ÊòéÔºà„Åë„Çì„ÇÅ„ÅÑÔºâ<br>üß† C√°ch nh·ªõ: √Çm thanh ‚Üí v√¥ l√Ω, ngu ng·ªëc<br>üëâ T√≥m l·∫°i: „Å∞„Åã„Å∞„Åã„Åó„ÅÑ = ngu ng·ªëc, v√¥ l√Ω',
    isReading: false
  },
  {
    number: 12,
    question: 'Á©∫„Åó„ÅÑ',
    options: ['„ÅÇ„Å™„Åó„ÅÑ', '„ÇÄ„Å™„Åó„ÅÑ', '„Åì„Å™„Åó„ÅÑ', '„Åù„Å™„Åó„ÅÑ'],
    answer: '2',
    detail: 'üî¥ Á©∫„Åó„ÅÑÔºà„ÇÄ„Å™„Åó„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Á©∫ÔºàKH√îNGÔºâÔºùtr·ªëng<br>Nghƒ©a: Tr·ªëng r·ªóng, v√¥ √≠ch<br>üí¨ V√≠ d·ª•:<br>1. Âä™Âäõ„ÅåÁ©∫„Åó„ÅÑ„ÄÇ‚Üí N·ªó l·ª±c v√¥ √≠ch.<br>2. Á©∫„Åó„ÅÑÂãùÂà©„ÄÇ‚Üí Chi·∫øn th·∫Øng tr·ªëng r·ªóng.<br>3. Á©∫„Åó„ÅÑÊó•„ÄÖ„ÄÇ‚Üí Nh·ªØng ng√†y tr·ªëng r·ªóng.<br>üü¢ ƒê·ªìng nghƒ©a: ÁÑ°ÈßÑÔºà„ÇÄ„Å†Ôºâ„ÄÅËôö„Åó„ÅÑÔºà„ÇÄ„Å™„Åó„ÅÑÔºâ<br>üî¥ Tr√°i nghƒ©a: ÊÑèÁæ©„ÅÇ„ÇãÔºà„ÅÑ„Åé„ÅÇ„ÇãÔºâ<br>üß† C√°ch nh·ªõ: Tr·ªëng ‚Üí v√¥ √≠ch, tr·ªëng r·ªóng<br>üëâ T√≥m l·∫°i: Á©∫„Åó„ÅÑ = tr·ªëng r·ªóng, v√¥ √≠ch',
    isReading: false
  },
  {
    number: 13,
    question: 'Á¥†Êó©„ÅÑ',
    options: ['„Åù„ÅØ„ÇÑ„ÅÑ', '„Åù„Åè„ÅØ„ÇÑ„ÅÑ', '„Åô„ÅØ„ÇÑ„ÅÑ', '„Åô„Å∞„ÇÑ„ÅÑ'],
    answer: '4',
    detail: 'üî¥ Á¥†Êó©„ÅÑÔºà„Åô„Å∞„ÇÑ„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Á¥†ÔºàT·ªêÔºâÔºùnguy√™n ch·∫•t, Êó©ÔºàT·∫¢OÔºâÔºùnhanh<br>Nghƒ©a: Nhanh nh·∫πn, mau l·∫π<br>üí¨ V√≠ d·ª•:<br>1. Á¥†Êó©„ÅÑÂãï„Åç„ÄÇ‚Üí C·ª≠ ƒë·ªông nhanh nh·∫πn.<br>2. Á¥†Êó©„ÅèÂØæÂøú„Åô„Çã„ÄÇ‚Üí Ph·∫£n ·ª©ng mau l·∫π.<br>3. Á¥†Êó©„ÅèËß£Ê±∫„Åô„Çã„ÄÇ‚Üí Gi·∫£i quy·∫øt nhanh ch√≥ng.<br>üü¢ ƒê·ªìng nghƒ©a: ËøÖÈÄüÔºà„Åò„Çì„Åù„ÅèÔºâ„ÄÅÊó©„ÅÑ<br>üî¥ Tr√°i nghƒ©a: ÈÅÖ„ÅÑÔºà„Åä„Åù„ÅÑÔºâ„ÄÅÈàç„ÅÑÔºà„Å´„Å∂„ÅÑÔºâ<br>üß† C√°ch nh·ªõ: Nguy√™n ch·∫•t + nhanh ‚Üí nhanh nh·∫πn<br>üëâ T√≥m l·∫°i: Á¥†Êó©„ÅÑ = nhanh nh·∫πn, mau l·∫π',
    isReading: false
  },
  {
    number: 14,
    question: '„Åä„Åº„Çç„Åí',
    options: ['Th√¥ l·ªó, thi·∫øu t√¥n tr·ªçng', 'M∆° h·ªì, kh√¥ng r√µ r√†ng, mang m√°ng', 'Nhanh ch√≥ng', 'V√¥ v·ªã, tr·ªëng r·ªóng'],
    answer: '2',
    detail: 'üî¥ „Åä„Åº„Çç„Åí<br>üà∂ Nghƒ©a: M∆° h·ªì, kh√¥ng r√µ<br>üí¨ V√≠ d·ª•:<br>1. „Åä„Åº„Çç„Åí„Å™Ë®òÊÜ∂„ÄÇ‚Üí K√Ω ·ª©c m∆° h·ªì.<br>2. „Åä„Åº„Çç„Åí„Å´ÊÄù„ÅÑÂá∫„Åô„ÄÇ‚Üí Nh·ªõ l·∫°i m·ªôt c√°ch m∆° h·ªì.<br>3. „Åä„Åº„Çç„Åí„Å™ÂÖâÊôØ„ÄÇ‚Üí C·∫£nh t∆∞·ª£ng m∆° h·ªì.<br>üü¢ ƒê·ªìng nghƒ©a: „Åº„Çì„ÇÑ„Çä„ÄÅÊõñÊòßÔºà„ÅÇ„ÅÑ„Åæ„ÅÑÔºâ<br>üî¥ Tr√°i nghƒ©a: ÊòéÁ¢∫Ôºà„ÇÅ„ÅÑ„Åã„ÅèÔºâ<br>üß† C√°ch nh·ªõ: √Çm thanh ‚Üí m∆° h·ªì, kh√¥ng r√µ<br>üëâ T√≥m l·∫°i: „Åä„Åº„Çç„Åí = m∆° h·ªì, kh√¥ng r√µ',
    isReading: false
  },
  {
    number: 15,
    question: '„Åû„Çì„Åñ„ÅÑ',
    options: ['Nhanh ch√≥ng', 'V√¥ v·ªã, tr·ªëng r·ªóng', 'Th√¥ l·ªó, thi·∫øu t√¥n tr·ªçng', 'M∆° h·ªì, kh√¥ng r√µ r√†ng, mang m√°ng'],
    answer: '3',
    detail: 'üî¥ „Åû„Çì„Åñ„ÅÑ<br>üà∂ Nghƒ©a: C·∫©u th·∫£, thi·∫øu t√¥n tr·ªçng<br>üí¨ V√≠ d·ª•:<br>1. „Åû„Çì„Åñ„ÅÑ„Å™Êâ±„ÅÑ„ÄÇ‚Üí C√°ch ƒë·ªëi x·ª≠ c·∫©u th·∫£.<br>2. „Åû„Çì„Åñ„ÅÑ„Å™Ë®ÄËëâ„ÄÇ‚Üí L·ªùi l·∫Ω thi·∫øu t√¥n tr·ªçng.<br>3. ‰ΩúÊ•≠„Åå„Åû„Çì„Åñ„ÅÑ„ÄÇ‚Üí C√¥ng vi·ªác c·∫©u th·∫£.<br>üü¢ ƒê·ªìng nghƒ©a: „ÅÑ„ÅÑÂä†Ê∏õÔºà„ÅÑ„ÅÑ„Åã„Åí„ÇìÔºâ„ÄÅÈõëÔºà„Åñ„Å§Ôºâ<br>üî¥ Tr√°i nghƒ©a: ‰∏ÅÂØßÔºà„Å¶„ÅÑ„Å≠„ÅÑÔºâ<br>üß† C√°ch nh·ªõ: C·∫©u th·∫£ ‚Üí thi·∫øu t√¥n tr·ªçng<br>üëâ T√≥m l·∫°i: „Åû„Çì„Åñ„ÅÑ = c·∫©u th·∫£, thi·∫øu t√¥n tr·ªçng',
    isReading: false
  },
  {
    number: 16,
    question: 'ÂØÜ„Åã',
    options: ['„Åø„Åù„Åã', '„Å≤„Åù„Åã', '„Åç„Åù„Åã', '„ÅÜ„Åù„Åã'],
    answer: '2',
    detail: 'üî¥ ÂØÜ„ÅãÔºà„Å≤„Åù„ÅãÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: ÂØÜÔºàM·∫¨TÔºâÔºùb√≠ m·∫≠t<br>Nghƒ©a: B√≠ m·∫≠t, th·∫ßm k√≠n<br>üí¨ V√≠ d·ª•:<br>1. ÂØÜ„Åã„Å™Ê•Ω„Åó„Åø„ÄÇ‚Üí Ni·ªÅm vui b√≠ m·∫≠t.<br>2. ÂØÜ„Åã„Å´Ë®àÁîª„Åô„Çã„ÄÇ‚Üí L·∫≠p k·∫ø ho·∫°ch th·∫ßm k√≠n.<br>3. ÂØÜ„Åã„Å´ÂøúÊè¥„Åô„Çã„ÄÇ‚Üí Th·∫ßm ·ªßng h·ªô.<br>üü¢ ƒê·ªìng nghƒ©a: ÂÜÖÁ∑íÔºà„Å™„ÅÑ„Åó„ÇáÔºâ„ÄÅ„Å≤„Åù„ÇÑ„Åã<br>üî¥ Tr√°i nghƒ©a: ÂÖ¨ÁÑ∂Ôºà„Åì„ÅÜ„Åú„ÇìÔºâ<br>üß† C√°ch nh·ªõ: B√≠ m·∫≠t ‚Üí th·∫ßm k√≠n<br>üëâ T√≥m l·∫°i: ÂØÜ„Åã = b√≠ m·∫≠t, th·∫ßm k√≠n',
    isReading: false
  },
  {
    number: 17,
    question: 'Á≤ã',
    options: ['„Åæ„Åç', '„Çä„Åç', '„Åó„Åç', '„ÅÑ„Åç'],
    answer: '4',
    detail: 'üî¥ Á≤ãÔºà„ÅÑ„ÅçÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Á≤ãÔºàT√öYÔºâÔºùtinh t√∫y<br>Nghƒ©a: L·ªãch thi·ªáp, tinh t·∫ø<br>üí¨ V√≠ d·ª•:<br>1. Á≤ã„Å™ÊúçË£Ö„ÄÇ‚Üí Trang ph·ª•c tinh t·∫ø.<br>2. Á≤ã„Å™ÊåØ„ÇãËàû„ÅÑ„ÄÇ‚Üí C·ª≠ ch·ªâ l·ªãch thi·ªáp.<br>3. Á≤ã„Å™Áî∫‰∏¶„Åø„ÄÇ‚Üí Khu ph·ªë l·ªãch thi·ªáp, tinh t·∫ø.<br>üü¢ ƒê·ªìng nghƒ©a: ‰∏äÂìÅÔºà„Åò„Çá„ÅÜ„Å≤„ÇìÔºâ„ÄÅÊ¥íËêΩÔºà„Åó„ÇÉ„ÇåÔºâ<br>üî¥ Tr√°i nghƒ©a: ‰∏ãÂìÅÔºà„Åí„Å≤„ÇìÔºâ„ÄÅÈáéÊöÆÔºà„ÇÑ„ÅºÔºâ<br>üß† C√°ch nh·ªõ: Tinh t√∫y ‚Üí l·ªãch thi·ªáp, tinh t·∫ø<br>üëâ T√≥m l·∫°i: Á≤ã = l·ªãch thi·ªáp, tinh t·∫ø',
    isReading: false
  },
  {
    number: 18,
    question: 'Ëâ≤Âêà„ÅÑ',
    options: ['„ÅÑ„Çç„ÅÇ„ÅÑ', '„Åó„Çá„Åè„ÅÇ„ÅÑ', '„ÅÑ„Çç„Åï„ÅÑ', '„Åó„Çá„Åè„Åï„ÅÑ'],
    answer: '1',
    detail: 'üî¥ Ëâ≤Âêà„ÅÑÔºà„ÅÑ„Çç„ÅÇ„ÅÑÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Ëâ≤ÔºàS·∫ÆCÔºâÔºùm√†u, ÂêàÔºàH·ª¢PÔºâÔºùh√≤a h·ª£p<br>Nghƒ©a: S·∫Øc th√°i m√†u, m√†u s·∫Øc<br>üí¨ V√≠ d·ª•:<br>1. Ëâ≤Âêà„ÅÑ„ÅÆÁæé„Åó„ÅÑÁµµ„ÄÇ‚Üí B·ª©c tranh c√≥ m√†u s·∫Øc ƒë·∫πp.<br>2. Ëâ≤Âêà„ÅÑ„ÇíË™øÊï¥„Åô„Çã„ÄÇ‚Üí ƒêi·ªÅu ch·ªânh s·∫Øc th√°i m√†u.<br>3. Ëâ≤Âêà„ÅÑ„Åå‰ºº„Å¶„ÅÑ„Çã„ÄÇ‚Üí M√†u s·∫Øc gi·ªëng nhau.<br>üü¢ ƒê·ªìng nghƒ©a: Ëâ≤Ë™øÔºà„Åó„Åç„Å°„Çá„ÅÜÔºâ„ÄÅ„Ç´„É©„Éº<br>üî¥ Tr√°i nghƒ©a: ÁÑ°ÂΩ©Ëâ≤Ôºà„ÇÄ„Åï„ÅÑ„Åó„Çá„ÅèÔºâ<br>üß† C√°ch nh·ªõ: M√†u + h√≤a h·ª£p ‚Üí s·∫Øc th√°i m√†u<br>üëâ T√≥m l·∫°i: Ëâ≤Âêà„ÅÑ = s·∫Øc th√°i m√†u, m√†u s·∫Øc',
    isReading: false
  },
  {
    number: 19,
    question: 'Â§ßÊüÑ',
    options: ['„Å†„ÅÑ„Åã„Çâ', '„Åä„Åä„Åã„Çâ', '„Åä„Åä„Åå„Çâ', '„Åü„ÅÑ„Åå„Çâ'],
    answer: '3',
    detail: 'üî¥ Â§ßÊüÑÔºà„Åä„Åä„Åå„ÇâÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Â§ßÔºàƒê·∫†IÔºâÔºùto, ÊüÑÔºàB√çNHÔºâÔºùc·ª°, ki·ªÉu<br>Nghƒ©a: Ng∆∞·ªùi cao to, v√≥c d√°ng l·ªõn<br>üí¨ V√≠ d·ª•:<br>1. Â§ßÊüÑ„Å™Áî∑ÊÄß„ÄÇ‚Üí Ng∆∞·ªùi ƒë√†n √¥ng cao to.<br>2. Â§ßÊüÑ„Å™Êúç„ÄÇ‚Üí Trang ph·ª•c c·ª° l·ªõn.<br>3. Â§ßÊüÑ„Å™‰ΩìÊ†º„ÄÇ‚Üí V√≥c d√°ng l·ªõn.<br>üü¢ ƒê·ªìng nghƒ©a: ‰ΩìÊ†º„ÅåËâØ„ÅÑ<br>üî¥ Tr√°i nghƒ©a: Â∞èÊüÑÔºà„Åì„Åå„ÇâÔºâ<br>üß† C√°ch nh·ªõ: To + ki·ªÉu ‚Üí v√≥c d√°ng l·ªõn<br>üëâ T√≥m l·∫°i: Â§ßÊüÑ = cao to, v√≥c d√°ng l·ªõn',
    isReading: false
  },
  {
    number: 20,
    question: 'Â§ñË¶≥',
    options: ['„Åã„ÅÑ„Åå„Çì', '„Åù„Å®„Åå„Çì', '„Åù„Å®„Åã„Çì', '„Åå„ÅÑ„Åã„Çì'],
    answer: '4',
    detail: 'üî¥ Â§ñË¶≥Ôºà„Åå„ÅÑ„Åã„ÇìÔºâ<br>üà∂ Kanji & H√°n Vi·ªát: Â§ñÔºàNGO·∫†IÔºâÔºùb√™n ngo√†i, Ë¶≥ÔºàQUANÔºâÔºùnh√¨n<br>Nghƒ©a: B·ªÅ ngo√†i, di·ªán m·∫°o<br>üí¨ V√≠ d·ª•:<br>1. Â§ñË¶≥„ÅåÁæé„Åó„ÅÑÂª∫Áâ©„ÄÇ‚Üí T√≤a nh√† c√≥ b·ªÅ ngo√†i ƒë·∫πp.<br>2. Â§ñË¶≥„ÅßÂà§Êñ≠„Åô„Çã„ÄÇ‚Üí ƒê√°nh gi√° qua di·ªán m·∫°o.<br>3. Â§ñË¶≥„ÇíÊï¥„Åà„Çã„ÄÇ‚Üí Ch·ªânh s·ª≠a b·ªÅ ngo√†i.<br>üü¢ ƒê·ªìng nghƒ©a: Ë¶ã„ÅüÁõÆ„ÄÅÂ§ñË¶ãÔºà„Åå„ÅÑ„Åë„ÇìÔºâ<br>üî¥ Tr√°i nghƒ©a: ÂÜÖÈù¢Ôºà„Å™„ÅÑ„ÇÅ„ÇìÔºâ<br>üß† C√°ch nh·ªõ: Nh√¨n b√™n ngo√†i ‚Üí b·ªÅ ngo√†i<br>üëâ T√≥m l·∫°i: Â§ñË¶≥ = b·ªÅ ngo√†i, di·ªán m·∫°o',
    isReading: false
  },
  {
    number: 21,
    question: 'Ghen t·ªµ',
    options: ['Â¶¨„ÇÄ', 'Âôõ„ÇÄ', 'Ê≠¢„ÇÄ', 'ÊÖé„ÇÄ'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 22,
    question: 'Tr√™u ch·ªçc',
    options: ['ËÑÖ„Åã„Åô', 'ÂÜ∑„ÇÑ„Åã„Åô', 'Êï£„Çâ„Åã„Åô', '„Åî„Åæ„Åã„Åô'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 23,
    question: 'L√†m b·ªëi r·ªëi, l√∫ng t√∫ng',
    options: ['ÊÉë„Çè„Åô', 'Â£ä„Åô', '‰∫§„Çè„Åô', '„Åî„Åæ„Åã„Åô'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 24,
    question: 'S√¥i l√™n, s√¥i s·ª•c (kh√¥ng kh√≠...)',
    options: ['Ê≥£„Åè', 'Ë£Ç„Åè', 'Êπß„Åè', 'Ê≤∏„Åè'],
    answer: '4',
    detail: '',
    isReading: false
  },
  {
    number: 25,
    question: 'H√®n h·∫°, t·∫ßm th∆∞·ªùng, th·∫•p k√©m (·ª©ng x·ª≠, suy nghƒ©, h√†nh ƒë·ªông..)',
    options: ['Â•Ω„Åæ„Åó„ÅÑ', 'Âãá„Åæ„Åó„ÅÑ', 'ÊµÖ„Åæ„Åó„ÅÑ', 'ÁõÆË¶ö„Åæ„Åó„ÅÑ'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 26,
    question: 'D≈©ng c·∫£m, gan d·∫°, m·∫°nh m·∫Ω',
    options: ['Â•Ω„Åæ„Åó„ÅÑ', 'ÊµÖ„Åæ„Åó„ÅÑ', 'Âãá„Åæ„Åó„ÅÑ', '„Åü„Åè„Åæ„Åó„ÅÑ'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 27,
    question: 'S·ª£ h√£i, ƒë√°ng s·ª£',
    options: ['„Åä„Å£„Åã„Å™„ÅÑ', '„Å†„Çâ„Åó„Å™„ÅÑ', '„Åù„Å£„Åë„Å™„ÅÑ', 'ÈÅï„ÅÑ„Å™„ÅÑ'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 28,
    question: 'D·ªÖ ch·ªãu',
    options: ['ÂøÉÂú∞„Çà„ÅÑ', 'ÂøÉÁ¥∞„ÅÑ', 'ËÇùÂøÉ', 'ÂøÉÂæó'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 29,
    question: 'C·∫£m th·∫•y c√¥ ƒë∆°n, tr∆° tr·ªçi m·ªôt m√¨nh',
    options: ['ÂøÉÂú∞„Çà„ÅÑ', 'ÂøÉÁ¥∞„ÅÑ', 'ÂøÉÂæó', 'ÂøÉËáì'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 30,
    question: 'ƒê∆∞·ª£c y√™u m·∫øn h∆°n, n√™n, t·ªët h∆°n',
    options: ['Êúõ„Åæ„Åó„ÅÑ', 'ÊµÖ„Åæ„Åó„ÅÑ', 'Âãá„Åæ„Åó„ÅÑ', 'Â•Ω„Åæ„Åó„ÅÑ'],
    answer: '4',
    detail: '',
    isReading: false
  },
  {
    number: 31,
    question: 'Ng·ªõ ng·∫©n',
    options: ['„Å∞„Åã„Å∞„Åã„Åó„ÅÑ', '„Åù„Å£„Åù„Åã„Åó„ÅÑ', '„ÇÄ„Å™„Åó„ÅÑ', '„Åø„Åô„Åº„Çâ„Åó„ÅÑ'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 32,
    question: 'V√¥ v·ªã, tr·ªëng r·ªóng',
    options: ['Ê¨≤„Åó„ÅÑ', 'Á©∫„Åó„ÅÑ', 'Á¥†Êô¥„Çâ„Åó„ÅÑ', 'ÁæéÂë≥„Åó„ÅÑ'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 33,
    question: 'Nhanh ch√≥ng',
    options: ['Á©∫„Åó„ÅÑ', 'Á≤ã', 'ÂØÜ„Åã', 'Á¥†Êó©„ÅÑ'],
    answer: '4',
    detail: '',
    isReading: false
  },
  {
    number: 34,
    question: 'M∆° h·ªì, kh√¥ng r√µ r√†ng, mang m√°ng',
    options: ['„Åä„Åº„Åù„Åí', '„Åä„Åº„Çç„Åí', '„Åä„Åº„Åì„Åí', '„Åä„Åª„Çç„Åí'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 35,
    question: 'Th√¥ l·ªó, thi·∫øu t√¥n tr·ªçng',
    options: ['„Åù„Çì„Åï„ÅÑ', '„Åù„Çì„Åñ„ÅÑ', '„Åû„Çì„Åñ„ÅÑ', '„Åû„Çì„Åï„ÅÑ'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 36,
    question: 'Th·∫ßm k√≠n, b√≠ m·∫≠t',
    options: ['„Åû„Çì„Åñ„ÅÑ', 'ÂØÜ„Åã', '„Åä„Åº„Çç„Åí', 'Á≤ã'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 37,
    question: 'Tinh t·∫ø',
    options: ['ÂÇ∑', 'ÊüÑ', 'ÂØÜ', 'Á≤ã'],
    answer: '4',
    detail: '',
    isReading: false
  },
  {
    number: 38,
    question: 'Ph·ªëi m√†u',
    options: ['Ëâ≤Âêà„ÅÑ', 'Ë©±„ÅóÂêà„ÅÑ', 'Áü•„ÇäÂêà„ÅÑ', '‰ªò„ÅçÂêà„ÅÑ'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 39,
    question: 'Cao to (d√°ng ng∆∞·ªùi)',
    options: ['Â∞èÊüÑ', 'Â§ß‰∫∫', 'Â§ßÊüÑ', '‰∫ãÊüÑ'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 40,
    question: 'B·ªÅ ngo√†i',
    options: ['Ë¶≥ÂØü', 'Ë¶≥ÂÖâ', 'Â§ñÂõΩ', 'Â§ñË¶≥'],
    answer: '4',
    detail: '',
    isReading: false
  }
]; 

      // ==================== TIMER FUNCTIONS ====================
      let timerInterval;
      let defaultTime = 20;
      let remainingTime = defaultTime * 60;
      let isTimerRunning = false;

      function setTimer() {
        const inputMinutes = parseInt(
          document.getElementById("setTimeInput").value,
        );
        if (!isNaN(inputMinutes) && inputMinutes > 0) {
          defaultTime = inputMinutes;
          remainingTime = defaultTime * 60;
          updateTimerDisplay();
        }
      }

      function toggleTimer() {
        isTimerRunning ? pauseTimer() : startTimer();
      }

      function startTimer() {
        if (isTimerRunning) return;
        isTimerRunning = true;
        document.querySelector(".start-btn").classList.add("running");
        document.querySelector(".start-btn").innerHTML =
          '<i class="fas fa-pause"></i>';
        if (timerInterval) clearInterval(timerInterval);
        timerInterval = setInterval(() => {
          remainingTime--;
          updateTimerDisplay();
          if (remainingTime <= 60)
            document.getElementById("timerDisplay").classList.add("warning");
          if (remainingTime <= 0) {
            clearInterval(timerInterval);
            timerInterval = null;
            isTimerRunning = false;
            document.querySelector(".start-btn").classList.remove("running");
            document.querySelector(".start-btn").innerHTML =
              '<i class="fas fa-play"></i>';
            document.getElementById("timeUpAlert").style.display = "block";
            setTimeout(
              () =>
                (document.getElementById("timeUpAlert").style.display = "none"),
              3000,
            );
          }
        }, 1000);
      }

      function pauseTimer() {
        clearInterval(timerInterval);
        timerInterval = null;
        isTimerRunning = false;
        document.querySelector(".start-btn").classList.remove("running");
        document.querySelector(".start-btn").innerHTML =
          '<i class="fas fa-play"></i>';
      }

      function resetTimer() {
        pauseTimer();
        remainingTime = defaultTime * 60;
        updateTimerDisplay();
        document.getElementById("timerDisplay").classList.remove("warning");
      }

      function updateTimerDisplay() {
        const minutes = Math.floor(remainingTime / 60);
        const seconds = remainingTime % 60;
        document.getElementById("timerDisplay").textContent =
          `${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
      }

      // ==================== READING TIMER FUNCTIONS ====================
      function setReadingTimer(idx) {
        const inputEl = document.getElementById(`readTimeInput-${idx}`);
        if (!inputEl) return;
        const minutes = parseInt(inputEl.value);
        if (isNaN(minutes) || minutes <= 0) {
          alert("Nh·∫≠p s·ªë ph√∫t ‚â• 1.");
          return;
        }
        readingTimers[idx] = {
          remaining: minutes * 60,
          original: minutes * 60,
          intervalId: null,
        };
        updateReadingTimerDisplay(idx);
      }

      function startReadingTimer(idx) {
        if (!readingTimers[idx])
          readingTimers[idx] = {
            remaining: 60,
            original: 60,
            intervalId: null,
          };
        if (readingTimers[idx].intervalId) return;
        readingTimers[idx].intervalId = setInterval(() => {
          const timerObj = readingTimers[idx];
          timerObj.remaining--;
          updateReadingTimerDisplay(idx);
          if (timerObj.remaining <= 0) {
            clearInterval(timerObj.intervalId);
            timerObj.intervalId = null;
            showTimeUpAlert(idx);
          }
        }, 1000);
      }

      function resetReadingTimer(idx) {
        const timerObj = readingTimers[idx];
        if (timerObj) {
          if (timerObj.intervalId) {
            clearInterval(timerObj.intervalId);
            timerObj.intervalId = null;
          }
          timerObj.remaining = timerObj.original || 0;
          updateReadingTimerDisplay(idx);
        }
      }

      function updateReadingTimerDisplay(idx) {
        const disp = document.getElementById(`readingTimerDisplay-${idx}`);
        if (!disp) return;
        const timerObj = readingTimers[idx] || { remaining: 0 };
        let sec = timerObj.remaining < 0 ? 0 : timerObj.remaining;
        const m = Math.floor(sec / 60);
        const s = sec % 60;
        disp.textContent = `${String(m).padStart(2, "0")}:${String(s).padStart(2, "0")}`;
      }

      function showTimeUpAlert(idx) {
        const readingBlock = document.querySelector(
          `.reading-comprehension[data-index='${idx}']`,
        );
        if (!readingBlock) return;
        const readingLabel = readingBlock.querySelector(".reading-label");
        const readingName = readingLabel
          ? readingLabel.textContent.trim()
          : `ƒê·ªçc hi·ªÉu ${idx + 1}`;
        const alertDiv = document.createElement("div");
        alertDiv.innerHTML = `‚è∞ H·∫øt th·ªùi gian c·ªßa <strong>${readingName}</strong> r·ªìi!`;
        alertDiv.style.cssText = `position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #d32f2f; color: white; padding: 20px 40px; border-radius: 5px; font-size: 24px; z-index: 100000; box-shadow: 0 4px 8px rgba(0,0,0,0.2);`;
        document.body.appendChild(alertDiv);
        setTimeout(() => alertDiv.remove(), 3000);
      }

      // ==================== HIGHLIGHT FUNCTIONS ====================
      function highlightSelection(idx, color) {
        const selection = window.getSelection();
        const range =
          savedRanges[idx] ||
          (selection.rangeCount > 0
            ? selection.getRangeAt(0).cloneRange()
            : null);
        if (!range || range.collapsed) {
          alert(
            "Vui l√≤ng b√¥i ƒëen vƒÉn b·∫£n trong ph·∫ßn ƒë·ªçc hi·ªÉu tr∆∞·ªõc khi ƒë·ªïi m√†u.",
          );
          return;
        }
        const readingBlock = document.querySelector(
          `.reading-comprehension[data-index="${idx}"]`,
        );
        if (
          !readingBlock ||
          !readingBlock.contains(range.commonAncestorContainer)
        ) {
          alert("Vui l√≤ng ch·ªçn vƒÉn b·∫£n trong ph·∫ßn ƒë·ªçc hi·ªÉu t∆∞∆°ng ·ª©ng.");
          return;
        }
        const fragment = range.extractContents();
        const span = document.createElement("span");
        span.style.color = color;
        span.style.fontWeight = "bold";
        span.appendChild(fragment);
        range.insertNode(span);
        savedRanges[idx] = null;
        selection.removeAllRanges();
      }

      function removeHighlights(idx) {
        const readingBlock = document.querySelector(
          `.reading-comprehension[data-index="${idx}"]`,
        );
        if (!readingBlock) return;
        const highlightedSpans = readingBlock.querySelectorAll(
          'span[style*="color:"]',
        );
        highlightedSpans.forEach((span) => {
          const content = document.createDocumentFragment();
          while (span.firstChild) content.appendChild(span.firstChild);
          span.parentNode.insertBefore(content, span);
          span.parentNode.removeChild(span);
        });
      }

      function findAncestor(el, fn) {
        while (el) {
          if (fn(el)) return el;
          el = el.parentNode;
        }
        return null;
      }

      // Save selection for highlight
      document.addEventListener("mouseup", function (e) {
        const sel = window.getSelection();
        if (sel.isCollapsed) return;
        const range = sel.getRangeAt(0);
        const readingBlock = findAncestor(
          range.commonAncestorContainer,
          (el) =>
            el.classList && el.classList.contains("reading-comprehension"),
        );
        if (readingBlock) {
          const idx = parseInt(readingBlock.getAttribute("data-index"));
          savedRanges[idx] = range.cloneRange();
        }
      });

      // ==================== RENDER QUIZ ====================
      function renderQuiz() {
        const form = document.getElementById("quizForm");
        if (!form) return;
        form.innerHTML = "";
        readingComprehensionCount = 0;

        quizData.forEach((q, index) => {
          const div = document.createElement("div");
          div.classList.add("question-block");

          if (q.isReading) {
            readingComprehensionCount++;
            let subQuestionsHtml = "";
            if (q.subQuestions && q.subQuestions.length > 0) {
              subQuestionsHtml = q.subQuestions
                .map(
                  (subQ, subIndex) => `
              <div class="sub-question-container">
                <div class="sub-question-box">
                  <p><strong>${subQ.number}.</strong> ${subQ.subQuestion} <span class="sub-question-key">[key: q${index}_${subIndex}]</span></p>
                  <div class="sub-question-options">
                    ${subQ.options
                      .map(
                        (opt, optIndex) => `
                      <label class="answer-option">
                        <input type="radio" name="q${index}_${subIndex}" value="${optIndex + 1}">
                        ${opt}
                      </label>
                    `,
                      )
                      .join("")}
                  </div>
                </div>
              </div>
            `,
                )
                .join("");
            }

            div.innerHTML = `
            <div class="reading-comprehension" data-index="${index}">
              <div class="reading-title">
                <span class="reading-label">ƒê·ªåC HI·ªÇU ${readingComprehensionCount}</span>
              </div>
              <div class="highlight-controls">
                <div class="highlight-btn red" onclick="highlightSelection(${index}, '#ff3333'); event.preventDefault();" title="ƒê·ªè"></div>
                <div class="highlight-btn blue" onclick="highlightSelection(${index}, '#00a8ff'); event.preventDefault();" title="Xanh"></div>
                <div class="highlight-btn purple" onclick="highlightSelection(${index}, '#aa00ff'); event.preventDefault();" title="T√≠m"></div>
                <div class="highlight-btn black" onclick="highlightSelection(${index}, '#000000'); event.preventDefault();" title="ƒêen"></div>
                <div class="highlight-btn remove-btn" onclick="removeHighlights(${index}); event.preventDefault();" title="X√≥a highlight"><i class="fas fa-times"></i></div>
              </div>
              <div class="reading-timer-container" data-timer-index="${index}">
                <input type="number" class="reading-timer-input" id="readTimeInput-${index}" placeholder="1" min="1" max="120" value="5">
                <button type="button" class="reading-timer-btn" onclick="setReadingTimer(${index}); event.preventDefault();"><i class="fas fa-clock"></i> ƒê·∫∑t</button>
                <button type="button" class="reading-timer-btn" onclick="startReadingTimer(${index}); event.preventDefault();"><i class="fas fa-play"></i></button>
                <button type="button" class="reading-timer-btn" onclick="resetReadingTimer(${index}); event.preventDefault();"><i class="fas fa-undo"></i></button>
                <span class="reading-timer-display" id="readingTimerDisplay-${index}">00:00</span>
              </div>
              <div class="reading-content">
                <p><strong>${q.question}</strong></p>
                <p>${q.content}</p>
              </div>
              ${subQuestionsHtml}
            </div>
          `;
            if (q.subQuestions) {
              q.subQuestions.forEach((subQ, subIndex) => {
                if (!window.quizAnswers) window.quizAnswers = {};
                window.quizAnswers[`q${index}_${subIndex}`] = subQ.answer;
              });
            }
          } else {
            div.innerHTML = `
            <div class="question-number"><span style="background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow)); color: #0a0e17; padding: 5px 12px; border-radius: 20px; font-size: 16px;">C√¢u ${q.number}</span></div>
            <p class="question-text">${q.question}</p>
          `;
            q.options.forEach((opt, i) => {
              const label = document.createElement("label");
              label.classList.add("answer-option");
              label.innerHTML = `<input type="radio" name="q${index}" value="${i + 1}"> ${opt}`;
              div.appendChild(label);
            });
            const detailBtn = document.createElement("button");
            detailBtn.classList.add("detail-btn");
            detailBtn.innerHTML =
              '<i class="fas fa-info-circle"></i> Xem chi ti·∫øt';
            detailBtn.addEventListener("click", (e) => {
              e.preventDefault();
              e.stopPropagation();
              showQuestionDetail(index);
            });
            div.appendChild(detailBtn);
            if (!window.quizAnswers) window.quizAnswers = {};
            window.quizAnswers[`q${index}`] = q.answer;
          }
          form.appendChild(div);
        });
      }

      // ==================== SIDEBAR TOGGLE ====================
      function toggleSidebar(side) {
        const panel = document.getElementById(`${side}SidebarPanel`);
        const floatingBtn = document.getElementById(`${side}FloatingBtn`);
        const wrapper = document.getElementById("mainContentWrapper");
        const isActive = panel.classList.contains("active");
        if (!isActive) {
          panel.classList.add("active");
          floatingBtn.classList.add("hidden");
          if (side === "left") wrapper.classList.add("left-expanded");
          else wrapper.classList.add("right-expanded");
        } else {
          panel.classList.remove("active");
          floatingBtn.classList.remove("hidden");
          if (side === "left") wrapper.classList.remove("left-expanded");
          else wrapper.classList.remove("right-expanded");
        }
        localStorage.setItem(`${side}SidebarActive`, !isActive);
      }

      function forceCloseSidebar(side) {
        const panel = document.getElementById(`${side}SidebarPanel`);
        const floatingBtn = document.getElementById(`${side}FloatingBtn`);
        const wrapper = document.getElementById("mainContentWrapper");
        panel.classList.remove("active");
        floatingBtn.classList.remove("hidden");
        if (side === "left") wrapper.classList.remove("left-expanded");
        else wrapper.classList.remove("right-expanded");
        localStorage.setItem(`${side}SidebarActive`, "false");
      }
      // ==================== FIREWORKS EFFECT ====================
      function launchFireworks() {
        // T·∫°o container n·∫øu ch∆∞a c√≥
        let container = document.querySelector(".fireworks-container");
        if (!container) {
          container = document.createElement("div");
          container.className = "fireworks-container";
          document.body.appendChild(container);
        }

        // S·ªë l∆∞·ª£ng ph√°o hoa
        const particleCount = 150;

        for (let i = 0; i < particleCount; i++) {
          setTimeout(() => {
            createFireworkParticle(container);
          }, i * 20); // M·ªói h·∫°t c√°ch nhau 20ms
        }

        // Th√™m confetti r∆°i
        for (let i = 0; i < 50; i++) {
          setTimeout(() => {
            createConfetti();
          }, i * 30);
        }

        // T·ª± ƒë·ªông x√≥a container sau 5 gi√¢y
        setTimeout(() => {
          if (container) container.remove();
        }, 5000);
      }

      function createFireworkParticle(container) {
        const particle = document.createElement("div");
        particle.className = "firework-particle";

        // M√†u s·∫Øc ng·∫´u nhi√™n r·ª±c r·ª°
        const colors = [
          "#ff3333",
          "#ff9933",
          "#ffff33",
          "#33ff33",
          "#33ffff",
          "#3366ff",
          "#9933ff",
          "#ff33ff",
          "#ff0066",
          "#ff6600",
          "#ffcc00",
          "#00ffcc",
        ];
        const color = colors[Math.floor(Math.random() * colors.length)];
        particle.style.backgroundColor = color;
        particle.style.boxShadow = `0 0 15px ${color}`;

        // V·ªã tr√≠ trung t√¢m m√†n h√¨nh
        const x = window.innerWidth / 2 + (Math.random() - 0.5) * 300;
        const y = window.innerHeight / 2 + (Math.random() - 0.5) * 200;

        particle.style.left = x + "px";
        particle.style.top = y + "px";

        // H∆∞·ªõng bay ng·∫´u nhi√™n
        const tx = (Math.random() - 0.5) * 500;
        const ty = (Math.random() - 0.5) * 500;

        particle.style.setProperty("--tx", tx + "px");
        particle.style.setProperty("--ty", ty + "px");

        container.appendChild(particle);

        // T·ª± x√≥a sau khi animation k·∫øt th√∫c
        setTimeout(() => particle.remove(), 1500);
      }

      function createConfetti() {
        const confetti = document.createElement("div");
        confetti.className = "confetti";

        // M√†u s·∫Øc ng·∫´u nhi√™n
        const colors = [
          "#f00",
          "#0f0",
          "#00f",
          "#ff0",
          "#f0f",
          "#0ff",
          "#ff8800",
        ];
        confetti.style.backgroundColor =
          colors[Math.floor(Math.random() * colors.length)];

        // H√¨nh d·∫°ng ng·∫´u nhi√™n (vu√¥ng, tr√≤n, ch·ªØ nh·∫≠t)
        const shapes = ["50%", "0", "20%"];
        confetti.style.borderRadius =
          shapes[Math.floor(Math.random() * shapes.length)];

        // V·ªã tr√≠ ng·∫´u nhi√™n
        confetti.style.left = Math.random() * 100 + "%";

        // K√≠ch th∆∞·ªõc ng·∫´u nhi√™n
        const size = 5 + Math.random() * 10;
        confetti.style.width = size + "px";
        confetti.style.height = size + "px";

        // Th·ªùi gian r∆°i ng·∫´u nhi√™n
        const duration = 3 + Math.random() * 4;
        confetti.style.animation = `confetti-fall ${duration}s linear forwards`;

        document.body.appendChild(confetti);

        // T·ª± x√≥a sau khi r∆°i xong
        setTimeout(() => confetti.remove(), duration * 1000);
      }

      // Th√™m hi·ªáu ·ª©ng √¢m thanh (t√πy ch·ªçn)
      function playVictorySound() {
        try {
          const audioContext = new (
            window.AudioContext || window.webkitAudioContext
          )();

          // T·∫°o √¢m thanh ƒë∆°n gi·∫£n
          const osc = audioContext.createOscillator();
          const gainNode = audioContext.createGain();

          osc.type = "sine";
          osc.frequency.value = 523.25; // C5

          gainNode.gain.value = 0.1;
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            audioContext.currentTime + 2,
          );

          osc.connect(gainNode);
          gainNode.connect(audioContext.destination);

          osc.start();
          osc.stop(audioContext.currentTime + 2);
        } catch (e) {
          console.log("Kh√¥ng th·ªÉ ph√°t √¢m thanh", e);
        }
      }

      // ==================== QUIZ FUNCTIONS ====================
      function submitQuiz() {
        const form = document.getElementById("quizForm");
        let correctAnswers = 0;
        let totalQuestions = 0;

        quizData.forEach((q) => {
          if (q.isReading && q.subQuestions)
            totalQuestions += q.subQuestions.length;
          else totalQuestions++;
        });

        quizData.forEach((q, index) => {
          if (q.isReading && q.subQuestions) {
            q.subQuestions.forEach((subQ, subIndex) => {
              const name = `q${index}_${subIndex}`;
              const selected = form.querySelector(
                `input[name='${name}']:checked`,
              );
              const correct =
                (window.answers && window.answers[name]) ||
                (window.quizAnswers && window.quizAnswers[name]);
              if (selected && selected.value === correct) {
                correctAnswers++;
                selected.parentElement.innerHTML +=
                  ' <span class="correct-answer">‚úÖ ƒê√∫ng</span>';
              } else if (selected) {
                selected.parentElement.innerHTML +=
                  ' <span class="wrong-answer">‚ùå Sai</span>';
                saveWrongAnswer(
                  name,
                  subQ.subQuestion,
                  selected.value,
                  correct,
                );
              }
            });
          } else {
            const name = `q${index}`;
            const selected = form.querySelector(
              `input[name='${name}']:checked`,
            );
            const correct =
              (window.answers && window.answers[name]) ||
              (window.quizAnswers && window.quizAnswers[name]);
            if (selected && selected.value === correct) {
              correctAnswers++;
              selected.parentElement.innerHTML +=
                ' <span class="correct-answer">‚úÖ ƒê√∫ng</span>';
            } else if (selected) {
              selected.parentElement.innerHTML +=
                ' <span class="wrong-answer">‚ùå Sai</span>';
              saveWrongAnswer(name, q.question, selected.value, correct);
            }
          }
        });

        const percentage = Math.round((correctAnswers / totalQuestions) * 100);
        document.getElementById("popupScore").textContent =
          `${correctAnswers}/${totalQuestions} (${percentage}%)`;
        document.getElementById("popupComment").innerHTML =
          getResultComment(percentage);
        document.getElementById("resultOverlay").style.display = "block";
        document.getElementById("resultPopup").style.display = "block";
        saveQuizHistory(correctAnswers, percentage);
        document.getElementById("showAnswersBtn").style.display = "flex";
        form
          .querySelectorAll("input")
          .forEach((input) => (input.disabled = true));
        pauseTimer();
        // ===== TH√äM ƒêO·∫†N N√ÄY ƒê·ªÇ K√çCH HO·∫†T PH√ÅO HOA KHI ƒê·∫†T 100% =====
        if (percentage === 100) {
          launchFireworks();
          // Ph√°t √¢m thanh n·∫øu mu·ªën (c·∫ßn s·ª± t∆∞∆°ng t√°c c·ªßa user tr∆∞·ªõc ƒë√≥)
          // playVictorySound();

          // Th√™m hi·ªáu ·ª©ng ƒë·∫∑c bi·ªát cho popup
          const popup = document.getElementById("resultPopup");
          popup.style.animation = "popup-appear 0.3s, glow-pulse 1s infinite";

          // Th√™m class ƒë·∫∑c bi·ªát
          popup.classList.add("perfect-score");

          // T·∫°o th√¥ng b√°o
          // T·∫°o th√¥ng b√°o
          // T·∫°o th√¥ng b√°o perfect v√† ƒë∆∞a l√™n tr√™n c√πng
          const perfectMsg = document.createElement("div");
          perfectMsg.style.cssText = `
  position: fixed;
  top: 15%;  /* ƒê∆∞a l√™n cao h∆°n */
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, gold, #ffaa00);
  color: #000;
  padding: 15px 35px;
  border-radius: 60px;
  font-size: 36px;
  font-weight: 900;
  z-index: 200001;  /* Cao h∆°n popup */
  animation: perfect-float 0.8s ease infinite alternate;
  text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
  box-shadow: 0 0 50px gold, 0 10px 20px rgba(0,0,0,0.3);
  border: 3px solid white;
  letter-spacing: 2px;
  white-space: nowrap;
  font-family: 'Orbitron', sans-serif;
`;

          perfectMsg.innerHTML = "üèÜ PERFECT! 100% üèÜ";
          document.body.appendChild(perfectMsg);

          // Th√™m animation ri√™ng cho perfect message
          const style = document.createElement("style");
          style.innerHTML = `
  @keyframes perfect-float {
    0% {
      transform: translateX(-50%) translateY(0);
      box-shadow: 0 0 50px gold, 0 10px 20px rgba(0,0,0,0.3);
    }
    100% {
      transform: translateX(-50%) translateY(-15px);
      box-shadow: 0 0 70px #ffaa00, 0 20px 30px rgba(0,0,0,0.4);
    }
  }
`;
          document.head.appendChild(style);

          setTimeout(() => {
            perfectMsg.remove();
            style.remove(); // X√≥a c·∫£ style khi k·∫øt th√∫c
          }, 4000);
        }
      }

      function resetQuiz() {
        const form = document.getElementById("quizForm");
        if (form) form.reset();
        Object.values(readingTimers).forEach((obj) => {
          if (obj.intervalId) clearInterval(obj.intervalId);
        });
        renderQuiz();
        closeResultPopup();

        // X√ìA HI·ªÜU ·ª®NG 100 ƒêI·ªÇM
        const popup = document.getElementById("resultPopup");
        popup.classList.remove("perfect-score");
        popup.style.animation = ""; // X√≥a animation inline n·∫øu c√≥
        popup.style.borderColor = ""; // Reset v·ªÅ m√†u m·∫∑c ƒë·ªãnh
        popup.style.boxShadow = ""; // Reset box-shadow

        document.getElementById("showAnswersBtn").style.display = "none";
        document.getElementById("showAnswersBtn").disabled = false;
        resetTimer();
      }

      function showCorrectAnswers() {
        quizData.forEach((q, idx) => {
          if (q.isReading && q.subQuestions) {
            q.subQuestions.forEach((subQ, subIdx) => {
              const name = `q${idx}_${subIdx}`;
              const correct =
                (window.answers && window.answers[name]) ||
                (window.quizAnswers && window.quizAnswers[name]);
              document
                .querySelectorAll(`input[name='${name}']`)
                .forEach((input) => {
                  const label = input.parentElement;
                  if (
                    input.value === correct &&
                    !label.innerHTML.includes("‚úÖ ƒê√°p √°n ƒë√∫ng")
                  ) {
                    label.innerHTML +=
                      ' <span class="correct-answer">‚úÖ ƒê√°p √°n ƒë√∫ng</span>';
                  }
                });
            });
          } else {
            const name = `q${idx}`;
            const correct =
              (window.answers && window.answers[name]) ||
              (window.quizAnswers && window.quizAnswers[name]);
            document
              .querySelectorAll(`input[name='${name}']`)
              .forEach((input) => {
                const label = input.parentElement;
                if (
                  input.value === correct &&
                  !label.innerHTML.includes("‚úÖ ƒê√°p √°n ƒë√∫ng")
                ) {
                  label.innerHTML +=
                    ' <span class="correct-answer">‚úÖ ƒê√°p √°n ƒë√∫ng</span>';
                }
              });
          }
        });
        document.getElementById("showAnswersBtn").disabled = true;
      }
      let __scrollY = 0;

      function lockBodyScroll() {
        __scrollY = window.scrollY || document.documentElement.scrollTop || 0;

        // b√π ƒë·ªô r·ªông scrollbar ƒë·ªÉ kh·ªèi ‚Äúgi·∫≠t‚Äù layout
        const scrollbarWidth =
          window.innerWidth - document.documentElement.clientWidth;

        document.body.classList.add("modal-open");
        document.body.style.position = "fixed";
        document.body.style.top = `-${__scrollY}px`;
        document.body.style.left = "0";
        document.body.style.right = "0";
        document.body.style.width = "100%";
        document.body.style.paddingRight = scrollbarWidth
          ? `${scrollbarWidth}px`
          : "";
      }

      function unlockBodyScroll() {
        document.body.classList.remove("modal-open");
        document.body.style.position = "";
        document.body.style.top = "";
        document.body.style.left = "";
        document.body.style.right = "";
        document.body.style.width = "";
        document.body.style.paddingRight = "";

        window.scrollTo(0, __scrollY);
      }

      function showQuestionDetail(index) {
        const question = quizData[index];
        const detailValue = question.detail || "Kh√¥ng c√≥ chi ti·∫øt b·ªï sung";

        // T·∫°o popup
        const detailPopup = document.createElement("div");
        detailPopup.className = "detail-popup";

        detailPopup.innerHTML = `
    <div class="detail-popup-inner">
      <div class="detail-popup-header">
        <h3 class="detail-popup-title">
          <i class="fas fa-info-circle"></i> GI·∫¢I TH√çCH
        </h3>
        <button class="detail-popup-close test-modal-close" type="button">
          ƒê√≥ng
        </button>
      </div>

      <div class="detail-scroll">
        <p style="margin:0;">${detailValue}</p>
      </div>
    </div>
  `;

        // ===== H√ÄM ƒê√ìNG POPUP =====
        function closePopup() {
          detailPopup.remove();
          unlockBodyScroll();
          document.removeEventListener("keydown", handleEsc);
        }

        // ===== ƒê√ìNG B·∫∞NG N√öT =====
        const closeBtn = detailPopup.querySelector(".detail-popup-close");
        closeBtn.addEventListener("click", closePopup);

        // ===== CLICK N·ªÄN NGO√ÄI ƒê·ªÇ ƒê√ìNG =====
        detailPopup.addEventListener("click", function (e) {
          if (e.target === detailPopup) {
            closePopup();
          }
        });

        // ===== ƒê√ìNG B·∫∞NG ESC =====
        function handleEsc(e) {
          if (e.key === "Escape") {
            closePopup();
          }
        }

        document.addEventListener("keydown", handleEsc);

        // ===== KH√ìA SCROLL NGO√ÄI =====
        lockBodyScroll();

        // Th√™m popup v√†o body
        document.body.appendChild(detailPopup);
      }

      function getResultComment(percentage) {
        if (percentage >= 90) return "üèÜ Á¥†Êô¥„Çâ„Åó„ÅÑ„ÅÑ„ÅÑ„ÅÑ - Xu·∫•t s·∫Øc!";
        if (percentage >= 70) return "üåü „ÅÑ„ÅÑ„Å≠ÔºÅ - Kh√° t·ªët!";
        if (percentage >= 50) return "üìö „ÅÑ„ÅÑ„Çà„Éº - C·∫ßn c·ªë g·∫Øng th√™m!";
        return "üí™ Â§ß‰∏àÂ§´„ÄÅÈ†ëÂºµ„ÇåÔºÅ - ƒê·ª´ng n·∫£n, c·ªë l√™n!";
      }

      function saveQuizHistory(score, percentage) {
        const list = document.getElementById("quizHistory");
        if (!list) return;
        const time = new Date().toLocaleTimeString("vi-VN");
        const li = document.createElement("li");
        li.innerHTML = `<span><i class="fas fa-clock"></i> ${time}</span><span style="color: var(--secondary-glow);">${score}/${Object.keys(window.quizAnswers || {}).length} (${percentage}%)</span><button onclick="this.parentElement.remove()" style="background: none; border: none; color: #ff6b6b; cursor: pointer;">√ó</button>`;
        list.prepend(li);
      }

      function closeResultPopup() {
        document.getElementById("resultPopup").style.display = "none";
        document.getElementById("resultOverlay").style.display = "none";
        // X√≥a class perfect-score n·∫øu c√≥
        document
          .getElementById("resultPopup")
          .classList.remove("perfect-score");
      }

      // ==================== WRONG ANSWERS ====================
      function saveWrongAnswer(
        questionKey,
        questionText,
        userAnswer,
        correctAnswer,
      ) {
        let wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        wrongAnswers.push({
          id: Date.now(),
          questionKey,
          questionText,
          userAnswer,
          correctAnswer,
          timestamp: new Date().toLocaleString("vi-VN"),
        });
        localStorage.setItem("wrongAnswers", JSON.stringify(wrongAnswers));
        updateWrongAnswersBadge();
        displayWrongAnswers();
      }

      function displayWrongAnswers() {
        const wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        const container = document.getElementById("wrongAnswersList");
        if (!container) return;
        if (wrongAnswers.length === 0) {
          container.innerHTML =
            '<p style="text-align: center; color: #999; padding: 20px;">üéâ Ch∆∞a c√≥ c√¢u sai n√†o!</p>';
          return;
        }
        let html = "";
        wrongAnswers
          .sort((a, b) => b.timestamp.localeCompare(a.timestamp))
          .forEach((item, index) => {
            html += `
          <div class="wrong-answer-item">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <strong style="color: #ff3366;">#${index + 1}</strong>
              <button onclick="removeWrongAnswer(${item.id})" style="background: none; border: none; color: #ff3366; cursor: pointer; font-size: 16px;">‚úï</button>
            </div>
            <p style="margin-bottom: 8px; font-size: 14px;">${item.questionText}</p>
            <div style="display: flex; gap: 15px; font-size: 13px;">
              <span style="color: #ff6b6b;">‚ùå ${item.userAnswer}</span>
              <span style="color: #00ff88;">‚úÖ ${item.correctAnswer}</span>
              <span style="color: #999;">${item.timestamp}</span>
            </div>
          </div>
        `;
          });
        container.innerHTML = html;
      }

      function updateWrongAnswersBadge() {
        const wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        const badge = document.getElementById("wrongAnswersBadge");
        if (badge) {
          badge.textContent = wrongAnswers.length;
          badge.style.display = wrongAnswers.length > 0 ? "flex" : "none";
        }
      }

      function showWrongAnswers() {
        displayWrongAnswers();
        const leftPanel = document.getElementById("leftSidebarPanel");
        const leftFloatingBtn = document.getElementById("leftFloatingBtn");
        const wrapper = document.getElementById("mainContentWrapper");
        if (!leftPanel.classList.contains("active")) {
          leftPanel.classList.add("active");
          leftFloatingBtn.classList.add("hidden");
          wrapper.classList.add("left-expanded");
          localStorage.setItem("leftSidebarActive", "true");
        }
      }

      function removeWrongAnswer(id) {
        let wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        wrongAnswers = wrongAnswers.filter((item) => item.id !== id);
        localStorage.setItem("wrongAnswers", JSON.stringify(wrongAnswers));
        displayWrongAnswers();
        updateWrongAnswersBadge();
      }

      function clearWrongAnswers() {
        if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a t·∫•t c·∫£ l·ªãch s·ª≠ c√¢u sai?")) {
          localStorage.removeItem("wrongAnswers");
          displayWrongAnswers();
          updateWrongAnswersBadge();
        }
      }

      function practiceWrongAnswers() {
        const wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        if (wrongAnswers.length === 0) {
          alert("üéâ Ch∆∞a c√≥ c√¢u sai n√†o ƒë·ªÉ luy·ªán t·∫≠p!");
          return;
        }
        alert("üöÄ Ch·ª©c nƒÉng luy·ªán t·∫≠p ƒëang ph√°t tri·ªÉn!");
      }

      // ==================== C·∫¨P NH·∫¨T ƒê√ÅP √ÅN - S·ª¨A THEO Y√äU C·∫¶U ====================
      function findKeyBySubQNumber(number) {
        for (let i = 0; i < quizData.length; i++) {
          const q = quizData[i];
          if (!q.isReading) {
            if (q.number == number) return `q${i}`;
          } else if (q.subQuestions) {
            for (let j = 0; j < q.subQuestions.length; j++) {
              const subQ = q.subQuestions[j];
              if (subQ.number == number) return `q${i}_${j}`;
            }
          }
        }
        return null;
      }

      function updateAnswer() {
        let keyOrNumber = document.getElementById("editKey").value.trim();
        const value = document.getElementById("editValue").value.trim();

        if (!window.answers) window.answers = {};

        // N·∫øu nh·∫≠p s·ªë, t·ª± ƒë·ªông d√≤ key theo subQ.number
        if (/^\d+(\.\d+)?$/.test(keyOrNumber)) {
          const mappedKey = findKeyBySubQNumber(keyOrNumber);
          if (!mappedKey) {
            alert(`‚ùå Kh√¥ng t√¨m th·∫•y c√¢u h·ªèi s·ªë ${keyOrNumber}!`);
            return;
          }
          keyOrNumber = mappedKey;
        }

        if (keyOrNumber && value) {
          window.answers[keyOrNumber] = value;
          localStorage.setItem("customAnswers", JSON.stringify(window.answers));
          alert(
            `‚úÖ ƒê√°p √°n c·ªßa ${keyOrNumber} ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh ${value}.`,
          );
          document.getElementById("editKey").value = "";
          document.getElementById("editValue").value = "";
        } else {
          alert("‚ùå Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
        }
      }

      function clearUpdatedAnswers() {
        const ok = confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a c·∫≠p nh·∫≠t ƒë√°p √°n kh√¥ng?");
        if (!ok) return;
        localStorage.removeItem("customAnswers");
        window.answers = {};
        alert("‚úÖ ƒê√£ x√≥a h·∫øt c√°c c·∫≠p nh·∫≠t ƒë√°p √°n.");
      }

      // ==================== DARK MODE ====================
      function toggleDarkMode() {
        document.body.classList.toggle("dark");
        const btn = document.getElementById("darkModeToggleBtn");
        const isDark = document.body.classList.contains("dark");
        btn.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
        localStorage.setItem("darkMode", isDark ? "1" : "0");
      }

      function applyDarkMode(isDark) {
        document.body.classList.toggle("dark", isDark);
        const btn = document.getElementById("darkModeToggleBtn");
        if (btn) btn.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
      }
      // ==================== BACK TO TOP ====================
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function updateBackToTopVisibility() {
        const btn = document.getElementById("backToTopBtn");
        if (!btn) return;
        if (window.scrollY > 300) btn.classList.add("show");
        else btn.classList.remove("show");
      }

      // ==================== INITIALIZATION ====================
      window.onload = function () {
        renderQuiz();
        updateTimerDisplay();
        displayWrongAnswers();
        updateWrongAnswersBadge();

        const savedDarkMode = localStorage.getItem("darkMode");
        if (savedDarkMode) applyDarkMode(savedDarkMode === "1");

        const leftActive = localStorage.getItem("leftSidebarActive") === "true";
        const rightActive =
          localStorage.getItem("rightSidebarActive") === "true";
        const wrapper = document.getElementById("mainContentWrapper");

        if (leftActive) {
          document.getElementById("leftSidebarPanel").classList.add("active");
          document.getElementById("leftFloatingBtn").classList.add("hidden");
          wrapper.classList.add("left-expanded");
        }
        if (rightActive) {
          document.getElementById("rightSidebarPanel").classList.add("active");
          document.getElementById("rightFloatingBtn").classList.add("hidden");
          wrapper.classList.add("right-expanded");
        }
      };

      // Scroll effect for timer
      window.addEventListener("scroll", function () {
        const timer = document.querySelector(".timer-container");
        if (timer) {
          timer.style.opacity = window.scrollY > 100 ? "0.9" : "1";
          timer.style.transform =
            window.scrollY > 100 ? "scale(0.98)" : "scale(1)";
        }
        updateBackToTopVisibility();
      });

      // Event listeners
      document
        .getElementById("clearAnswersBtn")
        .addEventListener("click", clearUpdatedAnswers);
    </script>
  </body>
</html>
