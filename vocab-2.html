<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Tá»« Vá»±ng NgÃ y 2 - Cyberpunk Quiz</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ===== RESET & VARIABLES ===== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-glow: #00a8ff;
        --secondary-glow: #00ffcc;
        --danger-glow: #ff3366;
        --warning-glow: #ff9900;
        --bg-primary: #0a0e17;
        --bg-secondary: rgba(0, 20, 40, 0.6);
        --bg-tertiary: rgba(0, 30, 60, 0.5);
        --border-glow: rgba(0, 150, 255, 0.3);
        --text-primary: #e0f7ff;
        --text-secondary: #a0c8e0;
        --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        --sidebar-width: 320px;
        --sidebar-collapsed-width: 60px;
      }

      body {
        font-family: "Exo 2", sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        min-height: 100vh;
        overflow-x: hidden;
        background-image:
          radial-gradient(
            circle at 20% 30%,
            rgba(16, 64, 120, 0.15) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 80% 70%,
            rgba(0, 150, 200, 0.1) 0%,
            transparent 20%
          ),
          linear-gradient(to bottom, #0a0e17, #0c1220);
        padding: 20px;
        max-width: 1600px;
        margin: auto;
        position: relative;
        z-index: 1;
      }

      /* ===== BACKGROUND EFFECTS ===== */
      .cyber-grid {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image:
          linear-gradient(rgba(0, 150, 255, 0.05) 1px, transparent 1px),
          linear-gradient(90deg, rgba(0, 150, 255, 0.05) 1px, transparent 1px);
        background-size: 40px 40px;
        z-index: -1;
        opacity: 0.4;
      }

      .cyber-line {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .cyber-line::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 1px;
        background: linear-gradient(
          to right,
          transparent,
          #00ffcc,
          transparent
        );
        animation: scan 4s linear infinite;
      }

      @keyframes scan {
        0% {
          top: 0%;
        }

        100% {
          top: 100%;
        }
      }

      /* ===== FLOATING BUTTONS ===== */
      .floating-btn-container {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        gap: 15px;
        transition: var(--transition-smooth);
      }

      .floating-btn-container.left {
        left: 20px;
      }

      .floating-btn-container.right {
        right: 20px;
      }

      .floating-btn-container.hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      .floating-btn {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #1a2a3a, #0f1a24);
        border: 2px solid var(--primary-glow);
        color: var(--primary-glow);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 24px;
        box-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
        transition: var(--transition-smooth);
        position: relative;
      }

      .floating-btn:hover {
        transform: scale(1.1);
        border-color: var(--secondary-glow);
        color: var(--secondary-glow);
        box-shadow: 0 0 30px rgba(0, 255, 204, 0.5);
      }

      .floating-btn .badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background: linear-gradient(135deg, #ff3366, #ff0066);
        color: white;
        border-radius: 50%;
        width: 22px;
        height: 22px;
        font-size: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        border: 2px solid var(--bg-primary);
      }

      .btn-tooltip {
        position: absolute;
        background: rgba(0, 20, 40, 0.95);
        color: var(--secondary-glow);
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 14px;
        white-space: nowrap;
        pointer-events: none;
        opacity: 0;
        transition: var(--transition-smooth);
        border: 1px solid var(--border-glow);
        font-family: "Orbitron", sans-serif;
        font-weight: 500;
        backdrop-filter: blur(10px);
      }

      .floating-btn.left .btn-tooltip {
        left: 70px;
      }

      .floating-btn.right .btn-tooltip {
        right: 70px;
      }

      .floating-btn:hover .btn-tooltip {
        opacity: 1;
      }

      /* ===== SIDEBAR PANELS ===== */
      .sidebar-panel {
        position: fixed;
        top: 100px;
        bottom: 30px;
        width: var(--sidebar-width);
        background: rgba(0, 15, 30, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid var(--border-glow);
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
        z-index: 9998;
        transition: var(--transition-smooth);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        border-radius: 16px;
      }

      .sidebar-panel.left {
        left: 20px;
        transform: translateX(
          calc(var(--sidebar-collapsed-width) - var(--sidebar-width) - 20px)
        );
        border-right: 2px solid var(--danger-glow);
      }

      .sidebar-panel.right {
        right: 20px;
        transform: translateX(
          calc(var(--sidebar-width) - var(--sidebar-collapsed-width) + 20px)
        );
        border-left: 2px solid var(--primary-glow);
      }

      .sidebar-panel.left.active,
      .sidebar-panel.right.active {
        transform: translateX(0);
      }

      .sidebar-panel.left:not(.active) .sidebar-content,
      .sidebar-panel.right:not(.active) .sidebar-content {
        opacity: 0;
        visibility: hidden;
      }

      .sidebar-panel.left:not(.active) .sidebar-header,
      .sidebar-panel.right:not(.active) .sidebar-header {
        justify-content: center;
        padding: 20px 0;
        height: 100%;
        display: flex;
        align-items: center;
      }

      .sidebar-panel.left:not(.active) .sidebar-header h3 span,
      .sidebar-panel.right:not(.active) .sidebar-header h3 span {
        display: none;
      }

      .sidebar-panel.left:not(.active) .sidebar-header h3 i,
      .sidebar-panel.right:not(.active) .sidebar-header h3 i {
        margin: 0;
        font-size: 28px;
      }

      .sidebar-panel.left:not(.active) .sidebar-close,
      .sidebar-panel.right:not(.active) .sidebar-close {
        display: none;
      }

      .sidebar-toggle {
        position: absolute;
        width: 30px;
        height: 60px;
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        border: none;
        border-radius: 8px;
        color: #0a0e17;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        font-weight: bold;
        transition: var(--transition-smooth);
        z-index: 100;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        top: 50%;
        transform: translateY(-50%);
      }

      .sidebar-panel.left.active .sidebar-toggle {
        right: -15px;
        display: flex;
      }

      .sidebar-panel.right.active .sidebar-toggle {
        left: -15px;
        display: flex;
      }

      .sidebar-toggle:hover {
        transform: translateY(-50%) scale(1.1);
        box-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
      }

      .sidebar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 25px;
        border-bottom: 1px solid rgba(0, 255, 204, 0.3);
        transition: var(--transition-smooth);
      }

      .sidebar-header h3 {
        font-family: "Orbitron", sans-serif;
        color: var(--secondary-glow);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 0;
      }

      .sidebar-close {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: linear-gradient(135deg, #ff3366, #ff0066);
        color: white;
        border: none;
        cursor: pointer;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var(--transition-smooth);
      }

      .sidebar-close:hover {
        transform: rotate(90deg);
        box-shadow: 0 0 20px rgba(255, 51, 102, 0.5);
      }

      .sidebar-content {
        flex: 1;
        overflow-y: auto;
        padding: 25px;
        transition: var(--transition-smooth);
      }

      /* ===== TIMER PANEL ===== */
      .timer-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 10000;
        background: rgba(0, 20, 40, 0.95);
        border-radius: 15px;
        padding: 15px 20px;
        border: 1px solid var(--border-glow);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(15px);
        width: 350px;
        display: flex;
        align-items: center;
        transition: var(--transition-smooth);
      }

      .timer-controls {
        display: flex;
        align-items: center;
        width: 100%;
        gap: 10px;
      }

      .timer-input-group {
        display: flex;
        gap: 8px;
      }

      .timer-input {
        width: 70px;
        height: 42px;
        padding: 0 12px;
        background: rgba(0, 10, 25, 0.9);
        border: 1px solid rgba(0, 150, 255, 0.6);
        border-radius: 10px;
        color: var(--text-primary);
        text-align: center;
        font-family: "Orbitron", sans-serif;
        font-size: 16px;
        font-weight: 600;
        transition: var(--transition-smooth);
      }

      .timer-input:focus {
        outline: none;
        border-color: var(--secondary-glow);
        box-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
      }

      .set-btn {
        width: 50px;
        height: 42px;
        background: linear-gradient(135deg, #0066cc, var(--primary-glow));
        border: none;
        border-radius: 10px;
        color: white;
        font-family: "Orbitron", sans-serif;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-smooth);
      }

      .set-btn:hover {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 168, 255, 0.4);
      }

      .start-btn {
        width: 44px;
        height: 42px;
        background: linear-gradient(135deg, #00cc66, #00ff88);
        border: none;
        border-radius: 10px;
        color: #0a0e17;
        font-size: 16px;
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .start-btn:hover {
        background: linear-gradient(135deg, #00ff88, var(--secondary-glow));
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
      }

      .timer-display {
        min-width: 110px;
        height: 42px;
        font-family: "Orbitron", sans-serif;
        font-size: 20px;
        font-weight: 900;
        color: var(--warning-glow);
        text-shadow: 0 0 10px rgba(255, 153, 0, 0.5);
        background: rgba(0, 0, 0, 0.4);
        padding: 0 15px;
        border-radius: 10px;
        border: 1px solid rgba(255, 153, 0, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        font-variant-numeric: tabular-nums;
      }

      /* ===== MAIN CONTENT WRAPPER ===== */
      .main-content-wrapper {
        margin-left: calc(var(--sidebar-collapsed-width) + 20px);
        margin-right: calc(var(--sidebar-collapsed-width) + 20px);
        transition: var(--transition-smooth);
        padding: 20px;
        margin-top: 80px;
      }

      .main-content-wrapper.left-expanded {
        margin-left: calc(var(--sidebar-width) + 40px);
      }

      .main-content-wrapper.right-expanded {
        margin-right: calc(var(--sidebar-width) + 40px);
      }

      .main-quiz-container {
        background: rgba(0, 20, 40, 0.6);
        border-radius: 16px;
        padding: 30px;
        border: 1px solid var(--border-glow);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .main-quiz-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(
          to right,
          var(--primary-glow),
          var(--secondary-glow)
        );
      }

      /* ===== QUIZ STYLES ===== */
      .question-block {
        background: var(--bg-tertiary);
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 25px;
        border: 1px solid rgba(0, 150, 255, 0.2);
        transition: var(--transition-smooth);
        position: relative;
      }

      .question-block:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 100, 255, 0.3);
        border-color: var(--primary-glow);
      }

      .question-number {
        font-size: 20px;
        font-weight: 700;
        color: var(--secondary-glow);
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .question-text {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .answer-option {
        display: block;
        margin-bottom: 12px;
        padding: 15px 20px;
        background: rgba(0, 40, 80, 0.4);
        border: 1px solid rgba(0, 150, 255, 0.2);
        border-radius: 10px;
        color: var(--text-primary);
        cursor: pointer;
        transition: var(--transition-smooth);
      }

      .answer-option:hover {
        background: rgba(0, 80, 160, 0.5);
        border-color: var(--primary-glow);
        transform: translateX(8px);
        box-shadow: 0 5px 15px rgba(0, 100, 255, 0.3);
      }

      .answer-option input[type="radio"] {
        margin-right: 15px;
        transform: scale(1.2);
        accent-color: var(--secondary-glow);
      }

      .detail-btn {
        padding: 12px 24px;
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        color: #0a0e17;
        border: none;
        border-radius: 8px;
        font-family: "Orbitron", sans-serif;
        font-weight: 600;
        cursor: pointer;
        margin-top: 15px;
        transition: var(--transition-smooth);
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .detail-btn:hover {
        background: linear-gradient(
          135deg,
          var(--secondary-glow),
          var(--primary-glow)
        );
        box-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
        transform: translateY(-2px);
      }

      /* ===== READING COMPREHENSION ===== */
      .reading-comprehension {
        background: rgba(0, 30, 80, 0.6);
        border-left: 4px solid var(--secondary-glow);
        padding: 25px;
        border-radius: 12px;
        position: relative;
        margin-bottom: 20px;
        padding-top: 70px;
      }

      .reading-title {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(0, 255, 204, 0.2);
        position: relative;
        z-index: 5;
      }

      .reading-timer-container {
        position: absolute;
        top: 15px;
        right: 25px;
        width: 350px;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid var(--border-glow);
        border-radius: 30px;
        padding: 8px 15px;
        display: flex;
        align-items: center;
        gap: 8px;
        z-index: 20;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        transition: var(--transition-smooth);
      }

      .highlight-controls {
        position: absolute;
        top: 15px;
        right: 400px;
        display: flex;
        gap: 8px;
        background: rgba(0, 20, 40, 0.9);
        padding: 8px 15px;
        border-radius: 30px;
        border: 1px solid var(--border-glow);
        z-index: 20;
        backdrop-filter: blur(10px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        align-items: center;
        height: 46px;
        width: auto;
      }

      .highlight-btn {
        width: 30px;
        height: 30px;
        border-radius: 8px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .highlight-btn:hover {
        transform: scale(1.15);
        box-shadow: 0 0 15px currentColor;
        border-color: white;
      }

      .highlight-btn.red {
        background-color: #ff3333;
        color: white;
      }

      .highlight-btn.blue {
        background-color: #00a8ff;
        color: white;
      }

      .highlight-btn.purple {
        background-color: #aa00ff;
        color: white;
      }

      .highlight-btn.black {
        background-color: #000000;
        color: white;
        border-color: rgba(255, 255, 255, 0.5);
      }

      .highlight-btn.remove-btn {
        background: linear-gradient(135deg, #ff3333, #ff6600);
        color: white;
        font-size: 16px;
        font-weight: bold;
      }

      .reading-timer-input {
        width: 50px;
        height: 32px;
        background: rgba(0, 10, 25, 0.9);
        border: 1px solid rgba(0, 150, 255, 0.4);
        border-radius: 20px;
        color: var(--text-primary);
        text-align: center;
        font-size: 13px;
        padding: 0 8px;
        transition: var(--transition-smooth);
      }

      .reading-timer-input:focus {
        outline: none;
        border-color: var(--secondary-glow);
        box-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
      }

      .reading-timer-btn {
        padding: 6px 14px;
        background: linear-gradient(135deg, #0066cc, var(--primary-glow));
        border: none;
        border-radius: 20px;
        color: white;
        font-size: 12px;
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 4px;
        font-weight: 500;
        white-space: nowrap;
      }

      .reading-timer-btn i {
        font-size: 11px;
      }

      .reading-timer-btn:hover {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 168, 255, 0.4);
      }

      .reading-timer-display {
        font-family: "Orbitron", sans-serif;
        font-size: 16px;
        font-weight: 700;
        color: var(--secondary-glow);
        padding: 0 8px;
        min-width: 60px;
        text-align: center;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 20px;
        padding: 4px 10px;
        border: 1px solid rgba(0, 255, 204, 0.3);
        letter-spacing: 1px;
      }

      .reading-label {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        color: #0a0e17;
        padding: 5px 18px;
        border-radius: 30px;
        font-family: "Orbitron", sans-serif;
        font-weight: 700;
        font-size: 16px;
        text-transform: uppercase;
        letter-spacing: 1px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.3);
        position: relative;
        overflow: hidden;
        transition: var(--transition-smooth);
        animation: reading-pulse 3s infinite ease-in-out;
      }

      .reading-label::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s ease;
      }

      .reading-label:hover {
        transform: translateY(-2px);
        box-shadow: 0 0 25px rgba(0, 255, 204, 0.5);
      }

      .reading-label:hover::before {
        left: 100%;
      }

      @keyframes reading-pulse {
        0% {
          box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        }

        50% {
          box-shadow: 0 0 25px rgba(0, 255, 204, 0.5);
        }

        100% {
          box-shadow: 0 0 15px rgba(0, 168, 255, 0.3);
        }
      }

      .sub-question-container {
        margin: 25px 0 15px 25px;
        padding-left: 20px;
        border-left: 3px solid rgba(0, 150, 255, 0.3);
      }

      .sub-question-box {
        background: rgba(0, 40, 80, 0.4);
        border: 1px solid rgba(0, 150, 255, 0.2);
        border-radius: 10px;
        padding: 20px;
        margin-top: 15px;
      }

      .sub-question-box p {
        font-weight: 600;
        color: var(--secondary-glow);
        margin-bottom: 15px;
        font-size: 17px;
      }

      .sub-question-options {
        margin-top: 15px;
      }

      .sub-question-key {
        font-size: 12px;
        color: #888;
        margin-left: 10px;
        font-family: monospace;
      }

      /* ===== QUIZ HISTORY ===== */
      #quizHistory {
        max-height: 200px;
        overflow-y: auto;
        margin-top: 15px;
      }

      #quizHistory li {
        background: rgba(0, 40, 80, 0.5);
        padding: 10px;
        margin-bottom: 8px;
        border-radius: 6px;
        border-left: 3px solid var(--primary-glow);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      /* ===== WRONG ANSWERS LIST ===== */
      .wrong-answers-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .wrong-answer-item {
        background: rgba(255, 51, 51, 0.1);
        border-left: 4px solid #ff3366;
        padding: 15px;
        border-radius: 8px;
        transition: var(--transition-smooth);
      }

      .wrong-answer-item:hover {
        background: rgba(255, 51, 51, 0.2);
        transform: translateX(5px);
      }

      /* ===== BUTTON STYLES ===== */
      .cyber-button {
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        background: linear-gradient(135deg, #0066cc, var(--primary-glow));
        color: white;
        border: none;
        border-radius: 10px;
        font-family: "Orbitron", sans-serif;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        position: relative;
        overflow: hidden;
      }

      .cyber-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .cyber-button:hover {
        background: linear-gradient(
          135deg,
          var(--primary-glow),
          var(--secondary-glow)
        );
        transform: translateY(-2px);
        box-shadow: 0 0 20px rgba(0, 168, 255, 0.5);
      }

      .cyber-button:hover::before {
        left: 100%;
      }

      /* ===== POPUP STYLES ===== */
      .time-up-alert,
      .result-popup,
      .detail-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 20, 40, 0.98);
        border: 2px solid var(--secondary-glow);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.8);
        z-index: 100000;
        backdrop-filter: blur(20px);
        animation: popup-appear 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      @keyframes popup-appear {
        0% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.8);
        }

        100% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .time-up-alert {
        background: linear-gradient(135deg, #ff3333, #ff6600);
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .result-popup .score {
        font-size: 48px;
        font-weight: 900;
        color: var(--warning-glow);
        text-shadow: 0 0 20px rgba(255, 153, 0, 0.5);
      }

      .close-popup {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 30px;
        color: var(--danger-glow);
        cursor: pointer;
        transition: var(--transition-smooth);
      }

      .close-popup:hover {
        color: #ff3333;
        transform: rotate(90deg);
      }

      /* ===== DETAIL POPUP SCROLL ===== */
      .detail-popup .detail-scroll {
        overflow-y: auto;
        max-height: calc(80vh - 120px);
        /* trá»« pháº§n header + padding */
        padding-right: 10px;
        /* chá»«a chá»— cho scrollbar */
      }

      /* (Tuá»³ chá»n) lÃ m scrollbar Ä‘áº¹p hÆ¡n trÃªn Chrome/Edge */
      .detail-popup .detail-scroll::-webkit-scrollbar {
        width: 10px;
      }

      .detail-popup .detail-scroll::-webkit-scrollbar-thumb {
        background: rgba(0, 255, 204, 0.35);
        border-radius: 10px;
        border: 2px solid rgba(0, 20, 40, 0.98);
      }

      .detail-popup .detail-scroll::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.25);
        border-radius: 10px;
      }

      /* ===== DARK MODE TOGGLE ===== */
      #darkModeToggleBtn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4c7cff, #6f61e8);
        color: white;
        border: none;
        cursor: pointer;
        font-size: 24px;
        box-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
        z-index: 10001;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #darkModeToggleBtn:hover {
        transform: scale(1.1);
        box-shadow: 0 0 30px rgba(0, 255, 204, 0.5);
      }

      /* ===== CORRECT / WRONG ANSWER STYLES ===== */
      .correct-answer {
        color: #2e7d32;
        font-weight: bold;
        margin-left: 8px;
      }

      .wrong-answer {
        color: #c62828;
        font-weight: bold;
        margin-left: 8px;
      }

      /* ===== RESPONSIVE ===== */
      @media (max-width: 768px) {
        .timer-container {
          position: relative;
          width: 100%;
          top: 0;
          right: 0;
          margin-bottom: 20px;
        }

        .sidebar-panel {
          width: 100%;
          left: 0 !important;
          right: 0 !important;
          top: 0 !important;
          bottom: 0 !important;
          border-radius: 0;
        }

        .main-content-wrapper {
          margin-left: 0 !important;
          margin-right: 0 !important;
        }

        .floating-btn-container {
          display: none;
        }

        .highlight-controls {
          position: relative;
          top: auto;
          right: auto;
          margin-top: 15px;
        }
      }

      @media (max-width: 900px) {
        .reading-timer-container {
          position: relative;
          top: auto;
          right: auto;
          width: 100%;
          margin-top: 15px;
          margin-bottom: 10px;
          border-radius: 15px;
        }

        .highlight-controls {
          position: relative;
          top: auto;
          right: auto;
          width: 100%;
          margin-top: 10px;
          margin-bottom: 15px;
          justify-content: center;
          height: auto;
        }

        .reading-comprehension {
          padding-top: 25px;
        }
      }
      /* ===== BACK TO TOP BUTTON ===== */
      #backToTopBtn {
        position: fixed;
        bottom: 70px; /* náº±m phÃ­a trÃªn nÃºt dark mode Ä‘á»ƒ khÃ´ng Ä‘Ã¨ nhau */
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: rgba(0, 20, 40, 0.95);
        border: 2px solid var(--secondary-glow);
        color: var(--secondary-glow);
        cursor: pointer;
        font-size: 22px;
        z-index: 10002;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 20px rgba(0, 255, 204, 0.25);
        backdrop-filter: blur(10px);
        transition: var(--transition-smooth);

        /* áº©n máº·c Ä‘á»‹nh */
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transform: translateY(10px);
      }

      #backToTopBtn.show {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
        transform: translateY(0);
      }

      #backToTopBtn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 0 30px rgba(0, 255, 204, 0.45);
        border-color: var(--primary-glow);
        color: var(--primary-glow);
      }
    </style>
  </head>

  <body>
    <!-- Background Effects -->
    <div class="cyber-grid"></div>
    <div class="cyber-line"></div>

    <!-- Main Title - Sá»¬A: thÃªm placeholder cho tÃªn bÃ i test vÃ  tá»•ng sá»‘ cÃ¢u -->
    <h1 style="margin-bottom: 30px">
      ğŸ“š CYBERPUNK QUIZ - TEST Tá»ª Vá»°NG NGÃ€Y 2 (40 cÃ¢u)
    </h1>

    <!-- Timer Panel -->
    <div class="timer-container">
      <div class="timer-controls">
        <div class="timer-input-group">
          <input
            type="number"
            id="setTimeInput"
            class="timer-input"
            placeholder="20"
            min="1"
            max="120"
            value="20"
          />
          <button class="set-btn" onclick="setTimer()">Äáº·t</button>
        </div>
        <button class="start-btn" onclick="toggleTimer()">
          <i class="fas fa-play"></i>
        </button>
        <span id="timerDisplay" class="timer-display">20:00</span>
      </div>
    </div>

    <!-- Dark Mode Toggle -->
    <button id="darkModeToggleBtn" onclick="toggleDarkMode()">ğŸŒ™</button>
    <!-- Back To Top -->
    <button id="backToTopBtn" onclick="scrollToTop()" title="LÃªn Ä‘áº§u trang">
      <i class="fas fa-arrow-up"></i>
    </button>

    <!-- FLOATING BUTTONS -->
    <div id="leftFloatingBtn" class="floating-btn-container left">
      <div class="floating-btn left" onclick="toggleSidebar('left')">
        <i class="fas fa-times-circle"></i>
        <span class="badge" id="wrongAnswersBadge">0</span>
        <span class="btn-tooltip">CÃ¢u Ä‘Ã£ sai</span>
      </div>
    </div>
    <div id="rightFloatingBtn" class="floating-btn-container right">
      <div class="floating-btn right" onclick="toggleSidebar('right')">
        <i class="fas fa-cog"></i>
        <span class="btn-tooltip">Äiá»u khiá»ƒn</span>
      </div>
    </div>

    <!-- LEFT SIDEBAR - Wrong Answers -->
    <div id="leftSidebarPanel" class="sidebar-panel left">
      <button class="sidebar-toggle" onclick="toggleSidebar('left')">
        <i class="fas fa-chevron-left"></i>
      </button>
      <div class="sidebar-header">
        <h3>
          <i class="fas fa-times-circle" style="color: #ff3366"></i
          ><span>CÃ‚U ÄÃƒ SAI</span>
        </h3>
        <button class="sidebar-close" onclick="forceCloseSidebar('left')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="sidebar-content">
        <div style="margin-bottom: 20px; display: flex; gap: 10px">
          <button
            class="cyber-button"
            onclick="showWrongAnswers()"
            style="flex: 2"
          >
            <i class="fas fa-eye"></i> Xem
          </button>
          <button
            class="cyber-button"
            onclick="practiceWrongAnswers()"
            style="flex: 2"
          >
            <i class="fas fa-graduation-cap"></i> Luyá»‡n
          </button>
          <button
            class="cyber-button"
            onclick="clearWrongAnswers()"
            style="
              flex: 1;
              background: linear-gradient(135deg, #ff3333, #ff6600);
            "
          >
            <i class="fas fa-trash"></i>
          </button>
        </div>
        <div id="wrongAnswersList" class="wrong-answers-list"></div>
      </div>
    </div>

    <!-- RIGHT SIDEBAR - Controls -->
    <div id="rightSidebarPanel" class="sidebar-panel right">
      <button class="sidebar-toggle" onclick="toggleSidebar('right')">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="sidebar-header">
        <h3>
          <i class="fas fa-tasks" style="color: var(--secondary-glow)"></i
          ><span>ÄIá»€U KHIá»‚N</span>
        </h3>
        <button class="sidebar-close" onclick="forceCloseSidebar('right')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="sidebar-content">
        <button class="cyber-button" onclick="submitQuiz()">
          <i class="fas fa-paper-plane"></i> Ná»™p bÃ i
        </button>
        <button class="cyber-button" onclick="resetQuiz()">
          <i class="fas fa-redo-alt"></i> LÃ m láº¡i
        </button>
        <button
          id="showAnswersBtn"
          class="cyber-button"
          onclick="showCorrectAnswers()"
          style="
            display: none;
            background: linear-gradient(135deg, #00cc66, #00ff88);
          "
        >
          <i class="fas fa-check-circle"></i> Hiá»‡n Ä‘Ã¡p Ã¡n
        </button>

        <h4
          style="
            color: var(--secondary-glow);
            margin: 20px 0 10px;
            font-family: Orbitron;
          "
        >
          <i class="fas fa-history"></i> Lá»ŠCH Sá»¬
        </h4>
        <ul id="quizHistory"></ul>

        <h4
          style="
            color: var(--secondary-glow);
            margin: 20px 0 10px;
            font-family: Orbitron;
          "
        >
          <i class="fas fa-edit"></i> Cáº¬P NHáº¬T ÄÃP ÃN
        </h4>
        <input
          type="text"
          id="editKey"
          placeholder="VÃ­ dá»¥: q1 hoáº·c 4.1"
          style="
            width: 100%;
            margin-bottom: 10px;
            background: rgba(0, 10, 25, 0.9);
            color: white;
            border: 1px solid var(--border-glow);
            border-radius: 6px;
            padding: 10px;
          "
        />
        <input
          type="text"
          id="editValue"
          placeholder="Sá»‘ Ä‘Ã¡p Ã¡n (1-4)"
          style="
            width: 100%;
            margin-bottom: 10px;
            background: rgba(0, 10, 25, 0.9);
            color: white;
            border: 1px solid var(--border-glow);
            border-radius: 6px;
            padding: 10px;
          "
        />
        <button
          class="cyber-button"
          onclick="updateAnswer()"
          style="margin-bottom: 5px"
        >
          <i class="fas fa-save"></i> Cáº­p nháº­t
        </button>
        <button
          class="cyber-button"
          id="clearAnswersBtn"
          style="background: linear-gradient(135deg, #ff3333, #ff6600)"
        >
          <i class="fas fa-eraser"></i> XÃ³a cáº­p nháº­t
        </button>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div id="mainContentWrapper" class="main-content-wrapper">
      <div class="main-quiz-container">
        <!-- H2 - Sá»¬A: thÃªm placeholder cho tÃªn bÃ i test -->
        <h2
          style="
            margin-bottom: 25px;
            border-bottom: 2px solid rgba(0, 255, 204, 0.3);
            padding-bottom: 15px;
          "
        >
          <i class="fas fa-file-alt" style="color: var(--secondary-glow)"></i>
          TEST Tá»ª Vá»°NG NGÃ€Y 2
        </h2>
        <form id="quizForm"></form>
      </div>
    </div>

    <!-- Popups -->
    <div id="timeUpAlert" class="time-up-alert" style="display: none">
      <i
        class="fas fa-hourglass-end"
        style="font-size: 40px; margin-bottom: 20px"
      ></i>
      <h2>â° Háº¾T THá»œI GIAN!</h2>
      <p style="margin-top: 10px">Báº¡n Ä‘Ã£ háº¿t thá»i gian lÃ m bÃ i rá»“i!</p>
    </div>

    <div id="resultPopup" class="result-popup" style="display: none">
      <span class="close-popup" onclick="closeResultPopup()">Ã—</span>
      <i
        class="fas fa-trophy"
        style="font-size: 50px; color: #ffd700; margin-bottom: 20px"
      ></i>
      <h3 style="color: var(--secondary-glow)">Káº¾T QUáº¢ Cá»¦A Báº N</h3>
      <div class="score" id="popupScore"></div>
      <div id="popupComment" style="font-size: 20px; margin-top: 15px"></div>
    </div>

    <script>
      // ==================== INITIALIZATION ====================
      window.answers = JSON.parse(
        localStorage.getItem("customAnswers") || "{}",
      );
      let readingComprehensionCount = 0;
      const readingTimers = {};
      const savedRanges = {};

      // ==================== QUIZ DATA ====================
      const quizData = [
  {
    number: 1,
    question: 'ç¥–å…ˆ',
    options: ['ï¼‘ ãã›ã‚“', 'ï¼’ ãã†ã›ã‚“', 'ï¼“ ãã—ã‚“', 'ï¼” ãã•ã'],
    answer: '1',
    detail: 'ğŸ”´ ç¥–å…ˆï¼ˆãã›ã‚“ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: ç¥–ï¼ˆTá»”ï¼‰ï¼tá»•, å…ˆï¼ˆTIÃŠNï¼‰ï¼trÆ°á»›c<br>NghÄ©a: Tá»• tiÃªn, Ã´ng bÃ , nhá»¯ng ngÆ°á»i Ä‘i trÆ°á»›c trong dÃ²ng há»<br>ğŸ’¬ VÃ­ dá»¥:<br>1. ç¥–å…ˆã‚’æ•¬ã†ã“ã¨ã¯å¤§åˆ‡ã ã€‚â†’ KÃ­nh trá»ng tá»• tiÃªn lÃ  quan trá»ng.<br>2. ç§ãŸã¡ã®æ–‡åŒ–ã¯ç¥–å…ˆã‹ã‚‰å—ã‘ç¶™ãŒã‚Œã¦ã„ã‚‹ã€‚â†’ VÄƒn hÃ³a cá»§a chÃºng ta Ä‘Æ°á»£c truyá»n tá»« tá»• tiÃªn.<br>3. ç¥–å…ˆã®å¢“ã‚’è¨ªã‚Œã‚‹ã€‚â†’ ThÄƒm má»™ tá»• tiÃªn.<br>ğŸŸ¢ Äá»“ng nghÄ©a: å…ˆç¥–ï¼ˆã›ã‚“ãï¼‰ã€å…ˆäººï¼ˆã›ã‚“ã˜ã‚“ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: å¾Œè£”ï¼ˆã“ã†ãˆã„ï¼‰ï¼háº­u duá»‡<br>ğŸ§  CÃ¡ch nhá»›: ç¥– + å…ˆ = ngÆ°á»i Ä‘i trÆ°á»›c trong dÃ²ng há» â†’ tá»• tiÃªn<br>ğŸ‘‰ TÃ³m láº¡i: ç¥–å…ˆ = tá»• tiÃªn',
    isReading: false
  },
  {
    number: 2,
    question: 'å°Šé‡',
    options: ['ï¼‘ ãã‚“ã¡ã‚‡ã†', 'ï¼’ ãã‚“ã¡ã‚‡ã†', 'ï¼“ ãã¡ã‚‡ã†', 'ï¼” ãã‚“ã˜ã‚…ã†'],
    answer: '2',
    detail: 'ğŸ”´ å°Šé‡ï¼ˆãã‚“ã¡ã‚‡ã†ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: å°Šï¼ˆTÃ”Nï¼‰ï¼tÃ´n, é‡ï¼ˆTRá»ŒNGï¼‰ï¼trá»ng<br>NghÄ©a: TÃ´n trá»ng, Ä‘Ã¡nh giÃ¡ cao ai/cÃ¡i gÃ¬<br>ğŸ’¬ VÃ­ dá»¥:<br>1. ä»–äººã®æ„è¦‹ã‚’å°Šé‡ã™ã‚‹ã€‚â†’ TÃ´n trá»ng Ã½ kiáº¿n ngÆ°á»i khÃ¡c.<br>2. äººæ¨©ã‚’å°Šé‡ã™ã‚‹ã“ã¨ã¯é‡è¦ã ã€‚â†’ Viá»‡c tÃ´n trá»ng nhÃ¢n quyá»n lÃ  quan trá»ng.<br>3. æ•™å¸«ã¯ç”Ÿå¾’ã‚’å°Šé‡ã—ã¦æ¥ã™ã‚‹ã¹ãã ã€‚â†’ GiÃ¡o viÃªn nÃªn tiáº¿p xÃºc tÃ´n trá»ng há»c sinh.<br>ğŸŸ¢ Äá»“ng nghÄ©a: é‡ã‚“ã˜ã‚‹ï¼ˆãŠã‚‚ã‚“ã˜ã‚‹ï¼‰ã€æ•¬ã†ï¼ˆã†ã‚„ã¾ã†ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: è»½è¦–ã™ã‚‹ï¼ˆã‘ã„ã—ã™ã‚‹ï¼‰ï¼khinh thÆ°á»ng<br>ğŸ§  CÃ¡ch nhá»›: å°Š + é‡ = tÃ´n vÃ  trá»ng â†’ tÃ´n trá»ng<br>ğŸ‘‰ TÃ³m láº¡i: å°Šé‡ = tÃ´n trá»ng',
    isReading: false
  },
  {
    number: 3,
    question: 'å¯¾ç­‰',
    options: ['ï¼‘ ãŸã„ã¨', 'ï¼’ ãŸã„ã¨ã‚“', 'ï¼“ ãŸã¨ã„', 'ï¼” ãŸã„ã¨ã†'],
    answer: '4',
    detail: 'ğŸ”´ å¯¾ç­‰ï¼ˆãŸã„ã¨ã†ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: å¯¾ï¼ˆÄá»Iï¼‰ï¼Ä‘á»‘i, ç­‰ï¼ˆÄáº²NGï¼‰ï¼báº±ng<br>NghÄ©a: BÃ¬nh Ä‘áº³ng, ngang hÃ ng<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å¯¾ç­‰ãªç«‹å ´ã§è©±ã™ã€‚â†’ NÃ³i chuyá»‡n á»Ÿ vá»‹ trÃ­ bÃ¬nh Ä‘áº³ng.<br>2. ç”·å¥³ã¯å¯¾ç­‰ã«æ‰±ã‚ã‚Œã‚‹ã¹ãã ã€‚â†’ Nam ná»¯ nÃªn Ä‘Æ°á»£c Ä‘á»‘i xá»­ bÃ¬nh Ä‘áº³ng.<br>3. çµŒæ¸ˆåŠ›ãŒå¯¾ç­‰ã®å›½åŒå£«ã§å”åŠ›ã™ã‚‹ã€‚â†’ CÃ¡c quá»‘c gia cÃ³ nÄƒng lá»±c kinh táº¿ ngang hÃ ng há»£p tÃ¡c.<br>ğŸŸ¢ Äá»“ng nghÄ©a: å¹³ç­‰ï¼ˆã³ã‚‡ã†ã©ã†ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: ä¸å¹³ç­‰ï¼ˆãµã³ã‚‡ã†ã©ã†ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: å¯¾ + ç­‰ = Ä‘á»‘i vÃ  báº±ng â†’ ngang hÃ ng<br>ğŸ‘‰ TÃ³m láº¡i: å¯¾ç­‰ = bÃ¬nh Ä‘áº³ng',
    isReading: false
  },
  {
    number: 4,
    question: 'å˜èº«',
    options: ['ï¼‘ ãŸã‚“ã¿', 'ï¼’ ãŸã—ã‚“', 'ï¼“ ãŸã‚“ã—ã‚“', 'ï¼” ãŸã‚“ã¿ã‚“'],
    answer: '3',
    detail: 'ğŸ”´ å˜èº«ï¼ˆãŸã‚“ã—ã‚“ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: å˜ï¼ˆÄÆ Nï¼‰ï¼Ä‘Æ¡n, èº«ï¼ˆTHÃ‚Nï¼‰ï¼mÃ¬nh<br>NghÄ©a: Má»™t mÃ¬nh, Ä‘á»™c thÃ¢n<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å˜èº«èµ´ä»»ã™ã‚‹ã€‚â†’ Äi cÃ´ng tÃ¡c má»™t mÃ¬nh.<br>2. å˜èº«ã§æµ·å¤–ã«è¡Œãã€‚â†’ Äi nÆ°á»›c ngoÃ i má»™t mÃ¬nh.<br>3. å˜èº«è€…å‘ã‘ã®ã‚¢ãƒ‘ãƒ¼ãƒˆã€‚â†’ CÄƒn há»™ dÃ nh cho ngÆ°á»i sá»‘ng má»™t mÃ¬nh.<br>ğŸŸ¢ Äá»“ng nghÄ©a: ä¸€äººæš®ã‚‰ã—ï¼ˆã²ã¨ã‚Šãã‚‰ã—ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: å®¶æ—åŒä¼´ï¼ˆã‹ããã©ã†ã¯ã‚“ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: å˜ + èº« = chá»‰ má»™t ngÆ°á»i â†’ má»™t mÃ¬nh<br>ğŸ‘‰ TÃ³m láº¡i: å˜èº« = má»™t mÃ¬nh',
    isReading: false
  },
  {
    number: 5,
    question: 'åŒå£«',
    options: ['ï¼‘ ãŠãªã˜ã—', 'ï¼’ ã©ã†ã˜', 'ï¼“ ã©ã†ã—', 'ï¼” ã¨ã†ã—'],
    answer: '3',
    detail: 'ğŸ”´ åŒå£«ï¼ˆã©ã†ã—ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: åŒï¼ˆÄá»’NGï¼‰ï¼cÃ¹ng, å£«ï¼ˆSÄ¨ï¼‰ï¼ngÆ°á»i<br>NghÄ©a: Nhá»¯ng ngÆ°á»i cÃ¹ng loáº¡i, cÃ¹ng hoÃ n cáº£nh<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å­¦ç”ŸåŒå£«ã§åŠ©ã‘åˆã†ã€‚â†’ Nhá»¯ng sinh viÃªn giÃºp nhau.<br>2. å‹äººåŒå£«ã®æ—…è¡Œã€‚â†’ Chuyáº¿n Ä‘i cá»§a báº¡n bÃ¨.<br>3. ç«¶äº‰ç›¸æ‰‹åŒå£«ã§å”åŠ›ã™ã‚‹ã€‚â†’ Há»£p tÃ¡c giá»¯a cÃ¡c Ä‘á»‘i thá»§ cáº¡nh tranh.<br>ğŸŸ¢ Äá»“ng nghÄ©a: ä»²é–“ï¼ˆãªã‹ã¾ï¼‰ã€åŒå¿—ï¼ˆã©ã†ã—ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: æ•µï¼ˆã¦ãï¼‰ï¼káº» thÃ¹<br>ğŸ§  CÃ¡ch nhá»›: åŒ + å£« = cÃ¹ng ngÆ°á»i â†’ cÃ¹ng nhau<br>ğŸ‘‰ TÃ³m láº¡i: åŒå£« = cÃ¹ng nhau, Ä‘á»“ng loáº¡i',
    isReading: false
  },
  {
    number: 6,
    question: 'å¥³æˆ¿',
    options: ['ï¼‘ ã˜ã‚‡ã¼ã†', 'ï¼’ ã«ã‚‡ã†ã¼ã†', 'ï¼“ ã˜ã‚‡ã¼', 'ï¼” ã«ã‚‡ã†ã¼'],
    answer: '2',
    detail: 'ğŸ”´ å¥³æˆ¿ï¼ˆã«ã‚‡ã†ã¼ã†ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: å¥³ï¼ˆNá»®ï¼‰ï¼ná»¯, æˆ¿ï¼ˆPHÃ’NGï¼‰ï¼phÃ²ng<br>NghÄ©a: Vá»£ (thÃ¢n máº­t, cá»• Ä‘iá»ƒn)<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å¥³æˆ¿ã¨è²·ã„ç‰©ã«è¡Œãã€‚â†’ Äi mua sáº¯m vá»›i vá»£.<br>2. å¥³æˆ¿ã®æ‰‹æ–™ç†ã¯ç¾å‘³ã—ã„ã€‚â†’ MÃ³n Äƒn do vá»£ náº¥u ráº¥t ngon.<br>3. æ˜”ã€å¥³æˆ¿ã¨å‘¼ã¶ã®ã¯ä¸€èˆ¬çš„ã ã£ãŸã€‚â†’ NgÃ y xÆ°a, gá»i lÃ  â€œvá»£â€ ráº¥t phá»• biáº¿n.<br>ğŸŸ¢ Äá»“ng nghÄ©a: å¦»ï¼ˆã¤ã¾ï¼‰ã€å«ï¼ˆã‚ˆã‚ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: å¤«ï¼ˆãŠã£ã¨ï¼‰ï¼chá»“ng<br>ğŸ§  CÃ¡ch nhá»›: å¥³ + æˆ¿ = ngÆ°á»i phá»¥ ná»¯ trong nhÃ  â†’ vá»£<br>ğŸ‘‰ TÃ³m láº¡i: å¥³æˆ¿ = vá»£',
    isReading: false
  },
  {
    number: 7,
    question: 'å¹´é…',
    options: ['ï¼‘ ã¨ã—ã°ã„', 'ï¼’ ã¨ã—ã±ã„', 'ï¼“ ã­ã‚“ã°ã„', 'ï¼” ã­ã‚“ã±ã„'],
    answer: '4',
    detail: 'ğŸ”´ å¹´é…ï¼ˆã­ã‚“ã±ã„ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: å¹´ï¼ˆNIÃŠNï¼‰ï¼tuá»•i, é…ï¼ˆPHá»Iï¼‰ï¼phÃ¢n phá»‘i<br>NghÄ©a: NgÆ°á»i cao tuá»•i, lá»›n tuá»•i<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å¹´é…ã®æ–¹ã«æ•¬æ„ã‚’æ‰•ã†ã€‚â†’ KÃ­nh trá»ng ngÆ°á»i lá»›n tuá»•i.<br>2. å¹´é…ã®ç¤¾å“¡ãŒæŒ‡å°ã™ã‚‹ã€‚â†’ NhÃ¢n viÃªn cao tuá»•i hÆ°á»›ng dáº«n.<br>3. å¹´é…è€…å‘ã‘ã®ã‚¤ãƒ™ãƒ³ãƒˆã€‚â†’ Sá»± kiá»‡n dÃ nh cho ngÆ°á»i cao tuá»•i.<br>ğŸŸ¢ Äá»“ng nghÄ©a: é«˜é½¢è€…ï¼ˆã“ã†ã‚Œã„ã—ã‚ƒï¼‰ã€ãŠå¹´å¯„ã‚Šï¼ˆãŠã¨ã—ã‚ˆã‚Šï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: è‹¥è€…ï¼ˆã‚ã‹ã‚‚ã®ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: å¹´ + é… = ngÆ°á»i cÃ³ nhiá»u tuá»•i â†’ lá»›n tuá»•i<br>ğŸ‘‰ TÃ³m láº¡i: å¹´é… = ngÆ°á»i cao tuá»•i',
    isReading: false
  },
  {
    number: 8,
    question: 'äººæŸ„',
    options: ['ï¼‘ ã²ã¨ãŒã‚‰', 'ï¼’ ã²ã¨ã‹ã‚‰', 'ï¼“ ã«ã‚“ãŒã‚‰', 'ï¼” ã˜ã‚“ãŒã‚‰'],
    answer: '1',
    detail: 'ğŸ”´ äººæŸ„ï¼ˆã²ã¨ãŒã‚‰ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: äººï¼ˆNHÃ‚Nï¼‰ï¼ngÆ°á»i, æŸ„ï¼ˆBÃNH/CÃCHï¼‰ï¼tÃ­nh cÃ¡ch<br>NghÄ©a: TÃ­nh cÃ¡ch, pháº©m cháº¥t cá»§a con ngÆ°á»i<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å½¼ã®äººæŸ„ã¯ç´ æ™´ã‚‰ã—ã„ã€‚â†’ TÃ­nh cÃ¡ch anh áº¥y tuyá»‡t vá»i.<br>2. äººæŸ„ã®è‰¯ã„å‹äººã‚’æŒã¤ã€‚â†’ CÃ³ ngÆ°á»i báº¡n vá»›i nhÃ¢n cÃ¡ch tá»‘t.<br>3. é¢æ¥ã§äººæŸ„ãŒè©•ä¾¡ã•ã‚Œã‚‹ã€‚â†’ NhÃ¢n cÃ¡ch Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ trong buá»•i phá»ng váº¥n.<br>ğŸŸ¢ Äá»“ng nghÄ©a: æ€§æ ¼ï¼ˆã›ã„ã‹ãï¼‰ã€äººæ ¼ï¼ˆã˜ã‚“ã‹ãï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: æ‚ªäººï¼ˆã‚ãã«ã‚“ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: äºº + æŸ„ = cÃ¡ch con ngÆ°á»i â†’ nhÃ¢n cÃ¡ch<br>ğŸ‘‰ TÃ³m láº¡i: äººæŸ„ = nhÃ¢n cÃ¡ch, tÃ­nh cÃ¡ch',
    isReading: false
  },
  {
    number: 9,
    question: 'æ›¾å­«',
    options: ['ï¼‘ ã²ã¾ã“', 'ï¼’ ã²ã¾ã”', 'ï¼“ ã¤ã¾ã”', 'ï¼” ã²ã¾ã”ã†'],
    answer: '2',
    detail: 'ğŸ”´ æ›¾å­«ï¼ˆã²ã¾ã”ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: æ›¾ï¼ˆTáº°NGï¼‰ï¼trÆ°á»›c, å­«ï¼ˆTÃ”Nï¼‰ï¼chÃ¡u<br>NghÄ©a: ChÃ¡u cá»‘, con cá»§a cháº¯t<br>ğŸ’¬ VÃ­ dá»¥:<br>1. æ›¾å­«ã«ä¼šã†ã€‚â†’ Gáº·p chÃ¡u cá»‘.<br>2. æ›¾å­«ã®æˆé•·ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã‚‹ã€‚â†’ Mong chá» sá»± trÆ°á»Ÿng thÃ nh cá»§a chÃ¡u cá»‘.<br>3. æ›¾å­«ã¨éŠã¶æ™‚é–“ã¯è²´é‡ã ã€‚â†’ Thá»i gian chÆ¡i vá»›i chÃ¡u cá»‘ ráº¥t quÃ½ giÃ¡.<br>ğŸŸ¢ Äá»“ng nghÄ©a: ç„å­«ï¼ˆã’ã‚“ãã‚“ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: ç¥–å…ˆï¼ˆãã›ã‚“ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: æ›¾ + å­« = chÃ¡u cá»§a chÃ¡u â†’ chÃ¡u cá»‘<br>ğŸ‘‰ TÃ³m láº¡i: æ›¾å­« = chÃ¡u cá»‘',
    isReading: false
  },
  {
    number: 10,
    question: 'æ‡',
    options: ['ï¼‘ ã¶ã¨ã“ã‚', 'ï¼’ ã¶ã“ã“ã‚', 'ï¼“ ãµã“ã“ã‚', 'ï¼” ãµã¨ã“ã‚'],
    answer: '4',
    detail: 'ğŸ”´ æ‡ï¼ˆãµã¨ã“ã‚ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: æ‡ï¼ˆHOÃ€Iï¼‰ï¼ngá»±c/lÃ²ng<br>NghÄ©a: Ngá»±c, lÃ²ng ngÆ°á»i; cÅ©ng chá»‰ sá»± cáº£m xÃºc, hoÃ i niá»‡m<br>ğŸ’¬ VÃ­ dá»¥:<br>1. æ‡ãŒæ·±ã„äººã€‚â†’ NgÆ°á»i cÃ³ táº¥m lÃ²ng rá»™ng má»Ÿ.<br>2. æ˜”ã®æ€ã„å‡ºãŒæ‡ã«æ®‹ã‚‹ã€‚â†’ Ká»· niá»‡m xÆ°a váº«n cÃ²n trong lÃ²ng.<br>3. è²¡å¸ƒã¯æ‡ã«å…¥ã‚Œã‚‹ã€‚â†’ Äá»ƒ vÃ­ trong ngá»±c.<br>ğŸŸ¢ Äá»“ng nghÄ©a: èƒ¸ï¼ˆã‚€ã­ï¼‰ã€å¿ƒï¼ˆã“ã“ã‚ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: å†·æ·¡ï¼ˆã‚Œã„ãŸã‚“ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: HÃ¬nh áº£nh tay Ã´m vÃ o ngá»±c â†’ lÃ²ng<br>ğŸ‘‰ TÃ³m láº¡i: æ‡ = lÃ²ng, táº¥m lÃ²ng',
    isReading: false
  },
  {
    number: 11,
    question: 'åˆ†éš›',
    options: ['ï¼‘ ã¶ã‚“ã–ã„', 'ï¼’ ã¶ã‚“ã•ã„', 'ï¼“ ã¶ã–ã„', 'ï¼” ã¶ã•ã„'],
    answer: '1',
    detail: 'ğŸ”´ åˆ†éš›ï¼ˆã¶ã‚“ã–ã„ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: åˆ†ï¼ˆPHÃ‚Nï¼‰ï¼phÃ¢n, éš›ï¼ˆTáº¾ï¼‰ï¼giá»›i háº¡n<br>NghÄ©a: Äá»‹a vá»‹, vai trÃ², giá»›i háº¡n báº£n thÃ¢n<br>ğŸ’¬ VÃ­ dá»¥:<br>1. è‡ªåˆ†ã®åˆ†éš›ã‚’ã‚ãã¾ãˆã‚‹ã€‚â†’ Biáº¿t giá»›i háº¡n cá»§a báº£n thÃ¢n.<br>2. åˆ†éš›ã‚’ã‚ãã¾ãˆãšã«å£å‡ºã—ã™ã‚‹ãªã€‚â†’ Äá»«ng xen vÃ o chuyá»‡n vÆ°á»£t quÃ¡ vai trÃ².<br>3. ç›®ä¸Šã®äººã«å¯¾ã—ã¦åˆ†éš›ã‚’ã‚ãã¾ãˆã‚‹ã€‚â†’ Biáº¿t giá»¯ chá»«ng má»±c vá»›i ngÆ°á»i trÃªn.<br>ğŸŸ¢ Äá»“ng nghÄ©a: èº«åˆ†ï¼ˆã¿ã¶ã‚“ï¼‰ã€ç«‹å ´ï¼ˆãŸã¡ã°ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: ç„¡ç¤¼ï¼ˆã¶ã‚Œã„ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: PhÃ¢n + giá»›i háº¡n â†’ vai trÃ²/Ä‘á»‹a vá»‹<br>ğŸ‘‰ TÃ³m láº¡i: åˆ†éš› = Ä‘á»‹a vá»‹, vai trÃ²',
    isReading: false
  },
  {
    number: 12,
    question: 'ç„¡è¨€',
    options: ['ï¼‘ ã‚€ã’ã‚“', 'ï¼’ ã‚€ã”ã‚“', 'ï¼“ ã‚€ã“ã¨', 'ï¼” ã‚€ã„ã†'],
    answer: '2',
    detail: 'ğŸ”´ ç„¡è¨€ï¼ˆã‚€ã”ã‚“ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: ç„¡ï¼ˆVÃ”ï¼‰ï¼khÃ´ng, è¨€ï¼ˆNGÃ”Nï¼‰ï¼nÃ³i<br>NghÄ©a: Im láº·ng, khÃ´ng nÃ³i gÃ¬<br>ğŸ’¬ VÃ­ dá»¥:<br>1. ç„¡è¨€ã§ã†ãªãšã„ãŸã€‚â†’ Gáº­t Ä‘áº§u im láº·ng.<br>2. ç„¡è¨€ã®ã¾ã¾å»ã£ã¦è¡Œã£ãŸã€‚â†’ Äi khá»i mÃ  khÃ´ng nÃ³i gÃ¬.<br>3. ç„¡è¨€ã®åœ§åŠ›ã‚’æ„Ÿã˜ã‚‹ã€‚â†’ Cáº£m nháº­n Ã¡p lá»±c im láº·ng.<br>ğŸŸ¢ Äá»“ng nghÄ©a: é»™ã‚‹ï¼ˆã ã¾ã‚‹ï¼‰ã€æ²ˆé»™ï¼ˆã¡ã‚“ã‚‚ãï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: ãŠã—ã‚ƒã¹ã‚Šã€ç™ºè¨€ï¼ˆã¯ã¤ã’ã‚“ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: ç„¡ + è¨€ = khÃ´ng nÃ³i<br>ğŸ‘‰ TÃ³m láº¡i: ç„¡è¨€ = im láº·ng',
    isReading: false
  },
  {
    number: 13,
    question: 'å«',
    options: ['ï¼‘ ã‚ˆã†ã‚', 'ï¼’ ã˜ã‚‡ã‚', 'ï¼“ ã˜ã‚‡ã†ã‚', 'ï¼” ã‚ˆã‚'],
    answer: '4',
    detail: 'ğŸ”´ å«ï¼ˆã‚ˆã‚ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: å«ï¼ˆGIÃï¼‰ï¼con dÃ¢u, vá»£<br>NghÄ©a: Vá»£, con dÃ¢u<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å«ã«æ–™ç†ã‚’æ•™ãˆã‚‹ã€‚â†’ Dáº¡y vá»£ náº¥u Äƒn.<br>2. å«ã¨ã—ã¦å®¶æ—ã«é¦´æŸ“ã‚€ã€‚â†’ HÃ²a nháº­p vá»›i gia Ä‘Ã¬nh nhÆ° má»™t ngÆ°á»i vá»£.<br>3. å«ãŒå®Ÿå®¶ã«å¸°ã‚‹ã€‚â†’ Vá»£ vá» nhÃ  bá»‘ máº¹ Ä‘áº».<br>ğŸŸ¢ Äá»“ng nghÄ©a: å¦»ï¼ˆã¤ã¾ï¼‰ã€å¥³æˆ¿ï¼ˆã«ã‚‡ã†ã¼ã†ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: å¤«ï¼ˆãŠã£ã¨ï¼‰ï¼chá»“ng<br>ğŸ§  CÃ¡ch nhá»›: å« = ngÆ°á»i phá»¥ ná»¯ trong gia Ä‘Ã¬nh chá»“ng â†’ vá»£/con dÃ¢u<br>ğŸ‘‰ TÃ³m láº¡i: å« = vá»£/con dÃ¢u',
    isReading: false
  },
  {
    number: 14,
    question: 'é€£ä¸­',
    options: ['ï¼‘ ã‚Œã‚“ãªã‹', 'ï¼’ ã‚Œã‚“ã¡ã‚…ã†', 'ï¼“ ã‚Œã‚“ã—ã‚…ã†', 'ï¼” ã‚Œã‚“ã¡ã‚…'],
    answer: '2',
    detail: 'ğŸ”´ é€£ä¸­ï¼ˆã‚Œã‚“ã¡ã‚…ã†ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: é€£ï¼ˆLIÃŠNï¼‰ï¼liÃªn, ä¸­ï¼ˆTRUNGï¼‰ï¼trong<br>NghÄ©a: Bá»n, nhÃ³m ngÆ°á»i<br>ğŸ’¬ VÃ­ dá»¥:<br>1. ã‚ã®é€£ä¸­ã¯é¨’ãŒã—ã„ã€‚â†’ Bá»n Ä‘Ã³ ráº¥t á»“n Ã o.<br>2. å­¦ç”Ÿé€£ä¸­ã§æ—…è¡Œã«è¡Œãã€‚â†’ Äi du lá»‹ch vá»›i nhÃ³m sinh viÃªn.<br>3. æ‚ªã„é€£ä¸­ã«å·»ãè¾¼ã¾ã‚Œã‚‹ã€‚â†’ Bá»‹ lÃ´i vÃ o nhÃ³m xáº¥u.<br>ğŸŸ¢ Äá»“ng nghÄ©a: ä»²é–“ï¼ˆãªã‹ã¾ï¼‰ã€ã‚°ãƒ«ãƒ¼ãƒ—<br>ğŸ”´ TrÃ¡i nghÄ©a: å€‹äººï¼ˆã“ã˜ã‚“ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: LiÃªn + trung = nhÃ³m ngÆ°á»i liÃªn káº¿t â†’ nhÃ³m<br>ğŸ‘‰ TÃ³m láº¡i: é€£ä¸­ = nhÃ³m ngÆ°á»i, bá»n',
    isReading: false
  },
  {
    number: 15,
    question: 'è€è‹¥ç”·å¥³',
    options: ['ï¼‘ ã‚ã†ã‚ã‹ãªã‚“ã˜ã‚‡', 'ï¼’ ã‚ã†ã«ãã ã‚“ã˜ã‚‡', 'ï¼“ ã‚ã†ã«ã‚ƒãã ã‚“ã˜ã‚‡', 'ï¼” ã‚ã†ã‚„ããªã‚“ã˜ã‚‡'],
    answer: '3',
    detail: 'ğŸ”´ è€è‹¥ç”·å¥³ï¼ˆã‚ã†ã«ã‚ƒããªã‚“ã«ã‚‡ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: è€ï¼ˆLÃƒOï¼‰ï¼giÃ , è‹¥ï¼ˆNHÆ¯á»¢Cï¼‰ï¼tráº», ç”·ï¼ˆNAMï¼‰ï¼nam, å¥³ï¼ˆNá»®ï¼‰ï¼ná»¯<br>NghÄ©a: Táº¥t cáº£ má»i ngÆ°á»i, tá»« giÃ  Ä‘áº¿n tráº», nam vÃ  ná»¯<br>ğŸ’¬ VÃ­ dá»¥:<br>1. è€è‹¥ç”·å¥³ãŒé›†ã¾ã‚‹ç¥­ã‚Šã€‚â†’ Lá»… há»™i tá»¥ táº­p má»i ngÆ°á»i.<br>2. è€è‹¥ç”·å¥³å•ã‚ãšå‚åŠ ã§ãã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã€‚â†’ Sá»± kiá»‡n ai cÅ©ng cÃ³ thá»ƒ tham gia.<br>3. è€è‹¥ç”·å¥³ã«äººæ°—ã®æ˜ ç”»ã€‚â†’ Bá»™ phim Ä‘Æ°á»£c yÃªu thÃ­ch bá»Ÿi má»i lá»©a tuá»•i.<br>ğŸŸ¢ Äá»“ng nghÄ©a: å…¨ã¦ã®äºº<br>ğŸ”´ TrÃ¡i nghÄ©a: ç‰¹å®šã®å¹´é½¢å±¤<br>ğŸ§  CÃ¡ch nhá»›: GhÃ©p 4 chá»¯ = má»i lá»©a tuá»•i, cáº£ nam láº«n ná»¯<br>ğŸ‘‰ TÃ³m láº¡i: è€è‹¥ç”·å¥³ = táº¥t cáº£ má»i ngÆ°á»i',
    isReading: false
  },
  {
    number: 16,
    question: 'ä»°ã',
    options: ['ï¼‘ ã‚€ã‹ã', 'ï¼’ ã‚ãŠã', 'ï¼“ ã‚ã‚‚ã', 'ï¼” ã„ãŠã'],
    answer: '2',
    detail: 'ğŸ”´ ä»°ãï¼ˆã‚ãŠãï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: ä»°ï¼ˆNGÆ¯á» NGï¼‰ï¼nhÃ¬n lÃªn, tÃ´n kÃ­nh<br>NghÄ©a: NgÆ°á»¡ng má»™, kÃ­nh trá»ng, nhÃ¬n lÃªn<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å…ˆç”Ÿã‚’ä»°ãã€‚â†’ KÃ­nh trá»ng tháº§y.<br>2. å‰å¤§ãªäººç‰©ã‚’ä»°ãã€‚â†’ NgÆ°á»¡ng má»™ ngÆ°á»i vÄ© Ä‘áº¡i.<br>3. æŒ‡å°è€…ã®æ„è¦‹ã‚’ä»°ãã€‚â†’ Nghe theo Ã½ kiáº¿n cá»§a lÃ£nh Ä‘áº¡o.<br>ğŸŸ¢ Äá»“ng nghÄ©a: å°Šæ•¬ã™ã‚‹ï¼ˆãã‚“ã‘ã„ã™ã‚‹ï¼‰ã€æ•¬ã†ï¼ˆã†ã‚„ã¾ã†ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: è»½è”‘ã™ã‚‹ï¼ˆã‘ã„ã¹ã¤ã™ã‚‹ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: ä»° = nhÃ¬n lÃªn â†’ ngÆ°á»¡ng má»™<br>ğŸ‘‰ TÃ³m láº¡i: ä»°ã = kÃ­nh trá»ng, ngÆ°á»¡ng má»™',
    isReading: false
  },
  {
    number: 17,
    question: 'æ¬ºã',
    options: ['ï¼‘ ã‹ã ã‚€ã', 'ï¼’ ã‚ã ã‚€ã', 'ï¼“ ã‚ã•ã‚€ã', 'ï¼” ã‚ã–ã‚€ã'],
    answer: '4',
    detail: 'ğŸ”´ æ¬ºãï¼ˆã‚ã–ã‚€ãï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: æ¬ºï¼ˆKHIï¼‰ï¼lá»«a dá»‘i<br>NghÄ©a: Lá»«a gáº¡t, Ä‘Ã¡nh lá»«a ai<br>ğŸ’¬ VÃ­ dá»¥:<br>1. äººã‚’æ¬ºãè¡Œç‚ºã¯è¨±ã›ãªã„ã€‚â†’ HÃ nh Ä‘á»™ng lá»«a ngÆ°á»i khÃ´ng thá»ƒ tha thá»©.<br>2. è©æ¬ºã§äººã‚’æ¬ºãã€‚â†’ Lá»«a ngÆ°á»i báº±ng hÃ nh vi gian láº­n.<br>3. è‡ªåˆ†ã‚’æ¬ºã„ã¦ã¯ã„ã‘ãªã„ã€‚â†’ KhÃ´ng Ä‘Æ°á»£c tá»± lá»«a dá»‘i báº£n thÃ¢n.<br>ğŸŸ¢ Äá»“ng nghÄ©a: é¨™ã™ï¼ˆã ã¾ã™ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: æ­£ç›´ï¼ˆã—ã‚‡ã†ã˜ãï¼‰<br>ğŸ§  CÃ¡ch nhá»›: æ¬º = lá»«a â†’ Ä‘Ã¡nh lá»«a<br>ğŸ‘‰ TÃ³m láº¡i: æ¬ºã = lá»«a dá»‘i',
    isReading: false
  },
  {
    number: 18,
    question: 'ä¾®ã‚‹',
    options: ['ï¼‘ ã‚ãªã©ã‚‹', 'ï¼’ ãŠãªã©ã‚‹', 'ï¼“ ã‚ã‹ã©ã‚‹', 'ï¼” ãŠã‹ã¨ã‚‹'],
    answer: '1',
    detail: 'ğŸ”´ ä¾®ã‚‹ï¼ˆã‚ãªã©ã‚‹ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: ä¾®ï¼ˆVÅ¨ï¼‰ï¼khinh miá»‡t<br>NghÄ©a: Khinh thÆ°á»ng, coi thÆ°á»ng<br>ğŸ’¬ VÃ­ dá»¥:<br>1. ç›¸æ‰‹ã‚’ä¾®ã£ã¦ã¯ã„ã‘ãªã„ã€‚â†’ KhÃ´ng Ä‘Æ°á»£c khinh thÆ°á»ng Ä‘á»‘i phÆ°Æ¡ng.<br>2. æ•µã‚’ä¾®ã‚‹ã¨è² ã‘ã‚‹ã€‚â†’ Khinh thÆ°á»ng káº» thÃ¹ sáº½ tháº¥t báº¡i.<br>3. ä»–äººã‚’ä¾®ã‚‹æ…‹åº¦ã¯è‰¯ããªã„ã€‚â†’ ThÃ¡i Ä‘á»™ coi thÆ°á»ng ngÆ°á»i khÃ¡c khÃ´ng tá»‘t.<br>ğŸŸ¢ Äá»“ng nghÄ©a: è»½è¦–ã™ã‚‹ï¼ˆã‘ã„ã—ã™ã‚‹ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: å°Šæ•¬ã™ã‚‹ï¼ˆãã‚“ã‘ã„ã™ã‚‹ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: ä¾® = khinh â†’ coi thÆ°á»ng<br>ğŸ‘‰ TÃ³m láº¡i: ä¾®ã‚‹ = khinh thÆ°á»ng',
    isReading: false
  },
  {
    number: 19,
    question: 'æ•¬ã†',
    options: ['ï¼‘ ã†ã‚„ã‚‰ã†', 'ï¼’ ã‚€ã‚„ã¾ã†', 'ï¼“ ã†ã‚„ã¾ã†', 'ï¼” ãã‚„ã¾ã†'],
    answer: '3',
    detail: 'ğŸ”´ æ•¬ã†ï¼ˆã†ã‚„ã¾ã†ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: æ•¬ï¼ˆKÃNHï¼‰ï¼tÃ´n kÃ­nh<br>NghÄ©a: KÃ­nh trá»ng, tÃ´n kÃ­nh ai<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å…ˆè¼©ã‚’æ•¬ã†ã€‚â†’ KÃ­nh trá»ng tiá»n bá»‘i.<br>2. æ–‡åŒ–ã‚’æ•¬ã†å¿ƒã‚’æŒã¤ã€‚â†’ CÃ³ táº¥m lÃ²ng kÃ­nh trá»ng vÄƒn hÃ³a.<br>3. é«˜é½¢è€…ã‚’æ•¬ã†ç¿’æ…£ã€‚â†’ Táº­p quÃ¡n kÃ­nh trá»ng ngÆ°á»i cao tuá»•i.<br>ğŸŸ¢ Äá»“ng nghÄ©a: å°Šé‡ã™ã‚‹ï¼ˆãã‚“ã¡ã‚‡ã†ã™ã‚‹ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: ä¾®ã‚‹ï¼ˆã‚ãªã©ã‚‹ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: æ•¬ = tÃ´n kÃ­nh<br>ğŸ‘‰ TÃ³m láº¡i: æ•¬ã† = kÃ­nh trá»ng',
    isReading: false
  },
  {
    number: 20,
    question: 'æ§ã’ã‚‹',
    options: ['ï¼‘ ã•ã•ãˆã‚‹', 'ï¼’ ã•ã—ãˆã‚‹', 'ï¼“ ã•ã•ã‘ã‚‹', 'ï¼” ã•ã•ã’ã‚‹'],
    answer: '4',
    detail: 'ğŸ”´ æ§ã’ã‚‹ï¼ˆã•ã•ã’ã‚‹ï¼‰<br>ğŸˆ¶ Kanji & HÃ¡n Viá»‡t: æ§ï¼ˆPHá»¦NGï¼‰ï¼dÃ¢ng, trao<br>NghÄ©a: DÃ¢ng, hiáº¿n, cá»‘ng hiáº¿n<br>ğŸ’¬ VÃ­ dá»¥:<br>1. å‘½ã‚’æ§ã’ã‚‹ã€‚â†’ DÃ¢ng cáº£ máº¡ng sá»‘ng.<br>2. ä½œå“ã‚’ç¥ã«æ§ã’ã‚‹ã€‚â†’ DÃ¢ng tÃ¡c pháº©m cho tháº§n.<br>3. å…¨åŠ›ã‚’æ§ã’ã‚‹ã€‚â†’ Dá»‘c toÃ n lá»±c.<br>ğŸŸ¢ Äá»“ng nghÄ©a: ä¾›ãˆã‚‹ï¼ˆããªãˆã‚‹ï¼‰ã€å¥‰ä»•ã™ã‚‹ï¼ˆã»ã†ã—ã™ã‚‹ï¼‰<br>ğŸ”´ TrÃ¡i nghÄ©a: å¥ªã†ï¼ˆã†ã°ã†ï¼‰<br>ğŸ§  CÃ¡ch nhá»›: æ§ = giÆ¡ lÃªn dÃ¢ng â†’ cá»‘ng hiáº¿n<br>ğŸ‘‰ TÃ³m láº¡i: æ§ã’ã‚‹ = dÃ¢ng, hiáº¿n',
    isReading: false
  },
  {
    number: 21,
    question: 'Tá»• tiÃªn',
    options: ['ï¼‘ ç¥–æ¯', 'ï¼’ ç¥–çˆ¶', 'ï¼“ ç¥–èª', 'ï¼” ç¥–å…ˆ'],
    answer: '4',
    detail: '',
    isReading: false
  },
  {
    number: 22,
    question: 'TÃ´n trá»ng',
    options: ['ï¼‘ å°Šé‡', 'ï¼’ å°Šè²´', 'ï¼“ å°Šå‘', 'ï¼” è‡ªå°Š'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 23,
    question: 'Ngang báº±ng, bÃ¬nh Ä‘áº³ng',
    options: ['ï¼‘ å¯¾é¢', 'ï¼’ å¯¾è±¡', 'ï¼“ å¯¾ç­‰', 'ï¼” å¯¾ç…§'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 24,
    question: 'ÄÆ¡n thÃ¢n, má»™t mÃ¬nh',
    options: ['ï¼‘ å˜èº«', 'ï¼’ å˜ä½', 'ï¼“ ç°¡å˜', 'ï¼” å˜èª'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 25,
    question: 'Nhá»¯ng ngÆ°á»i cÃ¹ng nhÃ³m vá»›i nhau',
    options: ['ï¼‘ åŒæ§˜', 'ï¼’ åŒæ„', 'ï¼“ åŒå£«', 'ï¼” å…±åŒ'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 26,
    question: 'Vá»£',
    options: ['ï¼‘ å¥³æ€§', 'ï¼’ ç”·å¥³', 'ï¼“ æš–æˆ¿', 'ï¼” å¥³æˆ¿'],
    answer: '4',
    detail: '',
    isReading: false
  },
  {
    number: 27,
    question: 'NgÆ°á»i lá»›n tuá»•i',
    options: ['ï¼‘ å¹´é…', 'ï¼’ å¿ƒé…', 'ï¼“ å¹´å§‹', 'ï¼” å¹´åº¦'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 28,
    question: 'TÃ­nh cÃ¡ch',
    options: ['ï¼‘ äººå£', 'ï¼’ äººæŸ„', 'ï¼“ å°æŸ„', 'ï¼” å¤§æŸ„'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 29,
    question: 'Cháº¯t',
    options: ['ï¼‘ è¿·å­', 'ï¼’ å­å­«', 'ï¼“ æ›¾å­«', 'ï¼” åŒå­'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 30,
    question: 'Táº¥m lÃ²ng',
    options: ['ï¼‘ å¿ƒ', 'ï¼’ å£Š', 'ï¼“ è´', 'ï¼” æ‡'],
    answer: '4',
    detail: '',
    isReading: false
  },
  {
    number: 31,
    question: 'ThÃ¢n pháº­n, Ä‘á»‹a vá»‹ (ThÆ°á»ng dÃ¹ng cho Ä‘Ã¡nh giÃ¡ tiÃªu cá»±c)',
    options: ['ï¼‘ åˆ†é¡', 'ï¼’ åˆ†éš›', 'ï¼“ åˆ†åˆ¥', 'ï¼” åˆ†æ'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 32,
    question: 'Im láº·ng',
    options: ['ï¼‘ è¨€èª', 'ï¼’ ç„¡è¨€', 'ï¼“ ç„¡è¦–', 'ï¼” ç„¡å£'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 33,
    question: 'Con dÃ¢u',
    options: ['ï¼‘å«', 'ï¼’ å¦¹', 'ï¼“ å§‘', 'ï¼” å¥³'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 34,
    question: 'ÄÃ¡m, bá»n (báº¡n bÃ¨ xáº¥u...)',
    options: ['ï¼‘é€£ä¼‘', 'ï¼’ é€£ä¸­', 'ï¼“ é€£çµ¡', 'ï¼” é€£å¸¯'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 35,
    question: 'GiÃ  tráº» gÃ¡i trai',
    options: ['ï¼‘è€é’å¥³ç”·', 'ï¼’ è€è‹¥å¥³ç”·', 'ï¼“ è€è‹¥ç”·å¥³', 'ï¼” è€ç”·å¥³è‹¥'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 36,
    question: 'NgÆ°á»›c nhÃ¬n lÃªn, tÃ´n kÃ­nh, xin Ã½ kiáº¿n chá»‰ thá»‹ cá»§a ngÆ°á»i bá» trÃªn',
    options: ['ï¼‘ä»°ã', 'ï¼’ è¿ãˆ', 'ï¼“ æŠ‘ãˆ', 'ï¼” ä»°ã'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 37,
    question: 'Lá»«a gáº¡t',
    options: ['ï¼‘æ¬ºã', 'ï¼’ æ¬ºãŸ', 'ï¼“ æ¬ºã¦', 'ï¼” æ¬ºã™'],
    answer: '1',
    detail: '',
    isReading: false
  },
  {
    number: 38,
    question: 'Xem thÆ°á»ng',
    options: ['ï¼‘ä¾®ã™', 'ï¼’ ä¾®ã‚‹', 'ï¼“ ä¾®ã—', 'ï¼” ä¾®ã‚€'],
    answer: '2',
    detail: '',
    isReading: false
  },
  {
    number: 39,
    question: 'TÃ´n trá»ng, tÃ´n kÃ­nh',
    options: ['ï¼‘åŸ¹ã†', 'ï¼’ å¥ªã†', 'ï¼“ æ•¬ã†', 'ï¼” æ…•ã†'],
    answer: '3',
    detail: '',
    isReading: false
  },
  {
    number: 40,
    question: 'DÃ nh, dÃ¢ng, hiáº¿n dÃ¢ng, cá»‘ng hiáº¿n',
    options: ['ï¼‘æ§ã’ã‚‹', 'ï¼’ é‚ã’ã‚‹', 'ï¼“ ã‚ã’ã‚‹', 'ï¼” æŠ•ã’ã‚‹'],
    answer: '1',
    detail: '',
    isReading: false
  }
]; 

      // ==================== TIMER FUNCTIONS ====================
      let timerInterval;
      let defaultTime = 20;
      let remainingTime = defaultTime * 60;
      let isTimerRunning = false;

      function setTimer() {
        const inputMinutes = parseInt(
          document.getElementById("setTimeInput").value,
        );
        if (!isNaN(inputMinutes) && inputMinutes > 0) {
          defaultTime = inputMinutes;
          remainingTime = defaultTime * 60;
          updateTimerDisplay();
        }
      }

      function toggleTimer() {
        isTimerRunning ? pauseTimer() : startTimer();
      }

      function startTimer() {
        if (isTimerRunning) return;
        isTimerRunning = true;
        document.querySelector(".start-btn").classList.add("running");
        document.querySelector(".start-btn").innerHTML =
          '<i class="fas fa-pause"></i>';
        if (timerInterval) clearInterval(timerInterval);
        timerInterval = setInterval(() => {
          remainingTime--;
          updateTimerDisplay();
          if (remainingTime <= 60)
            document.getElementById("timerDisplay").classList.add("warning");
          if (remainingTime <= 0) {
            clearInterval(timerInterval);
            timerInterval = null;
            isTimerRunning = false;
            document.querySelector(".start-btn").classList.remove("running");
            document.querySelector(".start-btn").innerHTML =
              '<i class="fas fa-play"></i>';
            document.getElementById("timeUpAlert").style.display = "block";
            setTimeout(
              () =>
                (document.getElementById("timeUpAlert").style.display = "none"),
              3000,
            );
          }
        }, 1000);
      }

      function pauseTimer() {
        clearInterval(timerInterval);
        timerInterval = null;
        isTimerRunning = false;
        document.querySelector(".start-btn").classList.remove("running");
        document.querySelector(".start-btn").innerHTML =
          '<i class="fas fa-play"></i>';
      }

      function resetTimer() {
        pauseTimer();
        remainingTime = defaultTime * 60;
        updateTimerDisplay();
        document.getElementById("timerDisplay").classList.remove("warning");
      }

      function updateTimerDisplay() {
        const minutes = Math.floor(remainingTime / 60);
        const seconds = remainingTime % 60;
        document.getElementById("timerDisplay").textContent =
          `${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
      }

      // ==================== READING TIMER FUNCTIONS ====================
      function setReadingTimer(idx) {
        const inputEl = document.getElementById(`readTimeInput-${idx}`);
        if (!inputEl) return;
        const minutes = parseInt(inputEl.value);
        if (isNaN(minutes) || minutes <= 0) {
          alert("Nháº­p sá»‘ phÃºt â‰¥ 1.");
          return;
        }
        readingTimers[idx] = {
          remaining: minutes * 60,
          original: minutes * 60,
          intervalId: null,
        };
        updateReadingTimerDisplay(idx);
      }

      function startReadingTimer(idx) {
        if (!readingTimers[idx])
          readingTimers[idx] = {
            remaining: 60,
            original: 60,
            intervalId: null,
          };
        if (readingTimers[idx].intervalId) return;
        readingTimers[idx].intervalId = setInterval(() => {
          const timerObj = readingTimers[idx];
          timerObj.remaining--;
          updateReadingTimerDisplay(idx);
          if (timerObj.remaining <= 0) {
            clearInterval(timerObj.intervalId);
            timerObj.intervalId = null;
            showTimeUpAlert(idx);
          }
        }, 1000);
      }

      function resetReadingTimer(idx) {
        const timerObj = readingTimers[idx];
        if (timerObj) {
          if (timerObj.intervalId) {
            clearInterval(timerObj.intervalId);
            timerObj.intervalId = null;
          }
          timerObj.remaining = timerObj.original || 0;
          updateReadingTimerDisplay(idx);
        }
      }

      function updateReadingTimerDisplay(idx) {
        const disp = document.getElementById(`readingTimerDisplay-${idx}`);
        if (!disp) return;
        const timerObj = readingTimers[idx] || { remaining: 0 };
        let sec = timerObj.remaining < 0 ? 0 : timerObj.remaining;
        const m = Math.floor(sec / 60);
        const s = sec % 60;
        disp.textContent = `${String(m).padStart(2, "0")}:${String(s).padStart(2, "0")}`;
      }

      function showTimeUpAlert(idx) {
        const readingBlock = document.querySelector(
          `.reading-comprehension[data-index='${idx}']`,
        );
        if (!readingBlock) return;
        const readingLabel = readingBlock.querySelector(".reading-label");
        const readingName = readingLabel
          ? readingLabel.textContent.trim()
          : `Äá»c hiá»ƒu ${idx + 1}`;
        const alertDiv = document.createElement("div");
        alertDiv.innerHTML = `â° Háº¿t thá»i gian cá»§a <strong>${readingName}</strong> rá»“i!`;
        alertDiv.style.cssText = `position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #d32f2f; color: white; padding: 20px 40px; border-radius: 5px; font-size: 24px; z-index: 100000; box-shadow: 0 4px 8px rgba(0,0,0,0.2);`;
        document.body.appendChild(alertDiv);
        setTimeout(() => alertDiv.remove(), 3000);
      }

      // ==================== HIGHLIGHT FUNCTIONS ====================
      function highlightSelection(idx, color) {
        const selection = window.getSelection();
        const range =
          savedRanges[idx] ||
          (selection.rangeCount > 0
            ? selection.getRangeAt(0).cloneRange()
            : null);
        if (!range || range.collapsed) {
          alert(
            "Vui lÃ²ng bÃ´i Ä‘en vÄƒn báº£n trong pháº§n Ä‘á»c hiá»ƒu trÆ°á»›c khi Ä‘á»•i mÃ u.",
          );
          return;
        }
        const readingBlock = document.querySelector(
          `.reading-comprehension[data-index="${idx}"]`,
        );
        if (
          !readingBlock ||
          !readingBlock.contains(range.commonAncestorContainer)
        ) {
          alert("Vui lÃ²ng chá»n vÄƒn báº£n trong pháº§n Ä‘á»c hiá»ƒu tÆ°Æ¡ng á»©ng.");
          return;
        }
        const fragment = range.extractContents();
        const span = document.createElement("span");
        span.style.color = color;
        span.style.fontWeight = "bold";
        span.appendChild(fragment);
        range.insertNode(span);
        savedRanges[idx] = null;
        selection.removeAllRanges();
      }

      function removeHighlights(idx) {
        const readingBlock = document.querySelector(
          `.reading-comprehension[data-index="${idx}"]`,
        );
        if (!readingBlock) return;
        const highlightedSpans = readingBlock.querySelectorAll(
          'span[style*="color:"]',
        );
        highlightedSpans.forEach((span) => {
          const content = document.createDocumentFragment();
          while (span.firstChild) content.appendChild(span.firstChild);
          span.parentNode.insertBefore(content, span);
          span.parentNode.removeChild(span);
        });
      }

      function findAncestor(el, fn) {
        while (el) {
          if (fn(el)) return el;
          el = el.parentNode;
        }
        return null;
      }

      // Save selection for highlight
      document.addEventListener("mouseup", function (e) {
        const sel = window.getSelection();
        if (sel.isCollapsed) return;
        const range = sel.getRangeAt(0);
        const readingBlock = findAncestor(
          range.commonAncestorContainer,
          (el) =>
            el.classList && el.classList.contains("reading-comprehension"),
        );
        if (readingBlock) {
          const idx = parseInt(readingBlock.getAttribute("data-index"));
          savedRanges[idx] = range.cloneRange();
        }
      });

      // ==================== RENDER QUIZ ====================
      function renderQuiz() {
        const form = document.getElementById("quizForm");
        if (!form) return;
        form.innerHTML = "";
        readingComprehensionCount = 0;

        quizData.forEach((q, index) => {
          const div = document.createElement("div");
          div.classList.add("question-block");

          if (q.isReading) {
            readingComprehensionCount++;
            let subQuestionsHtml = "";
            if (q.subQuestions && q.subQuestions.length > 0) {
              subQuestionsHtml = q.subQuestions
                .map(
                  (subQ, subIndex) => `
              <div class="sub-question-container">
                <div class="sub-question-box">
                  <p><strong>${subQ.number}.</strong> ${subQ.subQuestion} <span class="sub-question-key">[key: q${index}_${subIndex}]</span></p>
                  <div class="sub-question-options">
                    ${subQ.options
                      .map(
                        (opt, optIndex) => `
                      <label class="answer-option">
                        <input type="radio" name="q${index}_${subIndex}" value="${optIndex + 1}">
                        ${opt}
                      </label>
                    `,
                      )
                      .join("")}
                  </div>
                </div>
              </div>
            `,
                )
                .join("");
            }

            div.innerHTML = `
            <div class="reading-comprehension" data-index="${index}">
              <div class="reading-title">
                <span class="reading-label">Äá»ŒC HIá»‚U ${readingComprehensionCount}</span>
              </div>
              <div class="highlight-controls">
                <div class="highlight-btn red" onclick="highlightSelection(${index}, '#ff3333'); event.preventDefault();" title="Äá»"></div>
                <div class="highlight-btn blue" onclick="highlightSelection(${index}, '#00a8ff'); event.preventDefault();" title="Xanh"></div>
                <div class="highlight-btn purple" onclick="highlightSelection(${index}, '#aa00ff'); event.preventDefault();" title="TÃ­m"></div>
                <div class="highlight-btn black" onclick="highlightSelection(${index}, '#000000'); event.preventDefault();" title="Äen"></div>
                <div class="highlight-btn remove-btn" onclick="removeHighlights(${index}); event.preventDefault();" title="XÃ³a highlight"><i class="fas fa-times"></i></div>
              </div>
              <div class="reading-timer-container" data-timer-index="${index}">
                <input type="number" class="reading-timer-input" id="readTimeInput-${index}" placeholder="1" min="1" max="120" value="5">
                <button type="button" class="reading-timer-btn" onclick="setReadingTimer(${index}); event.preventDefault();"><i class="fas fa-clock"></i> Äáº·t</button>
                <button type="button" class="reading-timer-btn" onclick="startReadingTimer(${index}); event.preventDefault();"><i class="fas fa-play"></i></button>
                <button type="button" class="reading-timer-btn" onclick="resetReadingTimer(${index}); event.preventDefault();"><i class="fas fa-undo"></i></button>
                <span class="reading-timer-display" id="readingTimerDisplay-${index}">00:00</span>
              </div>
              <div class="reading-content">
                <p><strong>${q.question}</strong></p>
                <p>${q.content}</p>
              </div>
              ${subQuestionsHtml}
            </div>
          `;
            if (q.subQuestions) {
              q.subQuestions.forEach((subQ, subIndex) => {
                if (!window.quizAnswers) window.quizAnswers = {};
                window.quizAnswers[`q${index}_${subIndex}`] = subQ.answer;
              });
            }
          } else {
            div.innerHTML = `
            <div class="question-number"><span style="background: linear-gradient(135deg, var(--primary-glow), var(--secondary-glow)); color: #0a0e17; padding: 5px 12px; border-radius: 20px; font-size: 16px;">CÃ¢u ${q.number}</span></div>
            <p class="question-text">${q.question}</p>
          `;
            q.options.forEach((opt, i) => {
              const label = document.createElement("label");
              label.classList.add("answer-option");
              label.innerHTML = `<input type="radio" name="q${index}" value="${i + 1}"> ${opt}`;
              div.appendChild(label);
            });
            const detailBtn = document.createElement("button");
            detailBtn.classList.add("detail-btn");
            detailBtn.innerHTML =
              '<i class="fas fa-info-circle"></i> Xem chi tiáº¿t';
            detailBtn.addEventListener("click", (e) => {
              e.preventDefault();
              e.stopPropagation();
              showQuestionDetail(index);
            });
            div.appendChild(detailBtn);
            if (!window.quizAnswers) window.quizAnswers = {};
            window.quizAnswers[`q${index}`] = q.answer;
          }
          form.appendChild(div);
        });
      }

      // ==================== SIDEBAR TOGGLE ====================
      function toggleSidebar(side) {
        const panel = document.getElementById(`${side}SidebarPanel`);
        const floatingBtn = document.getElementById(`${side}FloatingBtn`);
        const wrapper = document.getElementById("mainContentWrapper");
        const isActive = panel.classList.contains("active");
        if (!isActive) {
          panel.classList.add("active");
          floatingBtn.classList.add("hidden");
          if (side === "left") wrapper.classList.add("left-expanded");
          else wrapper.classList.add("right-expanded");
        } else {
          panel.classList.remove("active");
          floatingBtn.classList.remove("hidden");
          if (side === "left") wrapper.classList.remove("left-expanded");
          else wrapper.classList.remove("right-expanded");
        }
        localStorage.setItem(`${side}SidebarActive`, !isActive);
      }

      function forceCloseSidebar(side) {
        const panel = document.getElementById(`${side}SidebarPanel`);
        const floatingBtn = document.getElementById(`${side}FloatingBtn`);
        const wrapper = document.getElementById("mainContentWrapper");
        panel.classList.remove("active");
        floatingBtn.classList.remove("hidden");
        if (side === "left") wrapper.classList.remove("left-expanded");
        else wrapper.classList.remove("right-expanded");
        localStorage.setItem(`${side}SidebarActive`, "false");
      }

      // ==================== QUIZ FUNCTIONS ====================
      function submitQuiz() {
        const form = document.getElementById("quizForm");
        let correctAnswers = 0;
        let totalQuestions = 0;

        quizData.forEach((q) => {
          if (q.isReading && q.subQuestions)
            totalQuestions += q.subQuestions.length;
          else totalQuestions++;
        });

        quizData.forEach((q, index) => {
          if (q.isReading && q.subQuestions) {
            q.subQuestions.forEach((subQ, subIndex) => {
              const name = `q${index}_${subIndex}`;
              const selected = form.querySelector(
                `input[name='${name}']:checked`,
              );
              const correct =
                (window.answers && window.answers[name]) ||
                (window.quizAnswers && window.quizAnswers[name]);
              if (selected && selected.value === correct) {
                correctAnswers++;
                selected.parentElement.innerHTML +=
                  ' <span class="correct-answer">âœ… ÄÃºng</span>';
              } else if (selected) {
                selected.parentElement.innerHTML +=
                  ' <span class="wrong-answer">âŒ Sai</span>';
                saveWrongAnswer(
                  name,
                  subQ.subQuestion,
                  selected.value,
                  correct,
                );
              }
            });
          } else {
            const name = `q${index}`;
            const selected = form.querySelector(
              `input[name='${name}']:checked`,
            );
            const correct =
              (window.answers && window.answers[name]) ||
              (window.quizAnswers && window.quizAnswers[name]);
            if (selected && selected.value === correct) {
              correctAnswers++;
              selected.parentElement.innerHTML +=
                ' <span class="correct-answer">âœ… ÄÃºng</span>';
            } else if (selected) {
              selected.parentElement.innerHTML +=
                ' <span class="wrong-answer">âŒ Sai</span>';
              saveWrongAnswer(name, q.question, selected.value, correct);
            }
          }
        });

        const percentage = Math.round((correctAnswers / totalQuestions) * 100);
        document.getElementById("popupScore").textContent =
          `${correctAnswers}/${totalQuestions} (${percentage}%)`;
        document.getElementById("popupComment").innerHTML =
          getResultComment(percentage);
        document.getElementById("resultPopup").style.display = "block";
        saveQuizHistory(correctAnswers, percentage);
        document.getElementById("showAnswersBtn").style.display = "flex";
        form
          .querySelectorAll("input")
          .forEach((input) => (input.disabled = true));
        pauseTimer();
      }

      function resetQuiz() {
        const form = document.getElementById("quizForm");
        if (form) form.reset();
        Object.values(readingTimers).forEach((obj) => {
          if (obj.intervalId) clearInterval(obj.intervalId);
        });
        renderQuiz();
        closeResultPopup();
        document.getElementById("showAnswersBtn").style.display = "none";
        document.getElementById("showAnswersBtn").disabled = false;
        resetTimer();
      }

      function showCorrectAnswers() {
        quizData.forEach((q, idx) => {
          if (q.isReading && q.subQuestions) {
            q.subQuestions.forEach((subQ, subIdx) => {
              const name = `q${idx}_${subIdx}`;
              const correct =
                (window.answers && window.answers[name]) ||
                (window.quizAnswers && window.quizAnswers[name]);
              document
                .querySelectorAll(`input[name='${name}']`)
                .forEach((input) => {
                  const label = input.parentElement;
                  if (
                    input.value === correct &&
                    !label.innerHTML.includes("âœ… ÄÃ¡p Ã¡n Ä‘Ãºng")
                  ) {
                    label.innerHTML +=
                      ' <span class="correct-answer">âœ… ÄÃ¡p Ã¡n Ä‘Ãºng</span>';
                  }
                });
            });
          } else {
            const name = `q${idx}`;
            const correct =
              (window.answers && window.answers[name]) ||
              (window.quizAnswers && window.quizAnswers[name]);
            document
              .querySelectorAll(`input[name='${name}']`)
              .forEach((input) => {
                const label = input.parentElement;
                if (
                  input.value === correct &&
                  !label.innerHTML.includes("âœ… ÄÃ¡p Ã¡n Ä‘Ãºng")
                ) {
                  label.innerHTML +=
                    ' <span class="correct-answer">âœ… ÄÃ¡p Ã¡n Ä‘Ãºng</span>';
                }
              });
          }
        });
        document.getElementById("showAnswersBtn").disabled = true;
      }

      function showQuestionDetail(index) {
        const question = quizData[index];
        const detailValue = question.detail || "KhÃ´ng cÃ³ chi tiáº¿t bá»• sung";
        const detailPopup = document.createElement("div");
        detailPopup.className = "detail-popup";
        detailPopup.style.cssText = `
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0,20,40,0.98);
  color: white;
  padding: 30px;
  border-radius: 20px;
  border: 2px solid var(--secondary-glow);
  box-shadow: 0 20px 50px rgba(0,255,204,0.2);
  z-index: 200000;
  width: min(720px, 92vw);
  max-height: 80vh;         /* âœ… GIá»šI Háº N CHIá»€U CAO */
  overflow: hidden;         /* âœ… áº¨N TRÃ€N, CUá»˜N Sáº¼ Náº°M á» VÃ™NG CON */
  backdrop-filter: blur(20px);
`;

        detailPopup.innerHTML = `
  <div style="position: relative; display: flex; flex-direction: column; height: 100%;">
    <button onclick="this.parentElement.parentElement.remove()"
      style="position: absolute; top: -15px; right: -15px; background: #ff3333; color: white; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center;">
      âœ•
    </button>

    <h3 style="color: var(--secondary-glow); margin-bottom: 14px; font-family: Orbitron;">
      <i class="fas fa-info-circle"></i> GIáº¢I THÃCH
    </h3>

    <!-- KHUNG CUá»˜N -->
    <div class="detail-scroll">
      <p style="line-height: 1.8; font-size: 16px; margin: 0;">${detailValue}</p>
    </div>
  </div>
`;

        document.body.appendChild(detailPopup);
      }

      function getResultComment(percentage) {
        if (percentage >= 90) return "ğŸ† ç´ æ™´ã‚‰ã—ã„ã„ã„ã„ - Xuáº¥t sáº¯c!";
        if (percentage >= 70) return "ğŸŒŸ ã„ã„ã­ï¼ - KhÃ¡ tá»‘t!";
        if (percentage >= 50) return "ğŸ“š ã„ã„ã‚ˆãƒ¼ - Cáº§n cá»‘ gáº¯ng thÃªm!";
        return "ğŸ’ª å¤§ä¸ˆå¤«ã€é ‘å¼µã‚Œï¼ - Äá»«ng náº£n, cá»‘ lÃªn!";
      }

      function saveQuizHistory(score, percentage) {
        const list = document.getElementById("quizHistory");
        if (!list) return;
        const time = new Date().toLocaleTimeString("vi-VN");
        const li = document.createElement("li");
        li.innerHTML = `<span><i class="fas fa-clock"></i> ${time}</span><span style="color: var(--secondary-glow);">${score}/${Object.keys(window.quizAnswers || {}).length} (${percentage}%)</span><button onclick="this.parentElement.remove()" style="background: none; border: none; color: #ff6b6b; cursor: pointer;">Ã—</button>`;
        list.prepend(li);
      }

      function closeResultPopup() {
        document.getElementById("resultPopup").style.display = "none";
      }

      // ==================== WRONG ANSWERS ====================
      function saveWrongAnswer(
        questionKey,
        questionText,
        userAnswer,
        correctAnswer,
      ) {
        let wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        wrongAnswers.push({
          id: Date.now(),
          questionKey,
          questionText,
          userAnswer,
          correctAnswer,
          timestamp: new Date().toLocaleString("vi-VN"),
        });
        localStorage.setItem("wrongAnswers", JSON.stringify(wrongAnswers));
        updateWrongAnswersBadge();
        displayWrongAnswers();
      }

      function displayWrongAnswers() {
        const wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        const container = document.getElementById("wrongAnswersList");
        if (!container) return;
        if (wrongAnswers.length === 0) {
          container.innerHTML =
            '<p style="text-align: center; color: #999; padding: 20px;">ğŸ‰ ChÆ°a cÃ³ cÃ¢u sai nÃ o!</p>';
          return;
        }
        let html = "";
        wrongAnswers
          .sort((a, b) => b.timestamp.localeCompare(a.timestamp))
          .forEach((item, index) => {
            html += `
          <div class="wrong-answer-item">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <strong style="color: #ff3366;">#${index + 1}</strong>
              <button onclick="removeWrongAnswer(${item.id})" style="background: none; border: none; color: #ff3366; cursor: pointer; font-size: 16px;">âœ•</button>
            </div>
            <p style="margin-bottom: 8px; font-size: 14px;">${item.questionText}</p>
            <div style="display: flex; gap: 15px; font-size: 13px;">
              <span style="color: #ff6b6b;">âŒ ${item.userAnswer}</span>
              <span style="color: #00ff88;">âœ… ${item.correctAnswer}</span>
              <span style="color: #999;">${item.timestamp}</span>
            </div>
          </div>
        `;
          });
        container.innerHTML = html;
      }

      function updateWrongAnswersBadge() {
        const wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        const badge = document.getElementById("wrongAnswersBadge");
        if (badge) {
          badge.textContent = wrongAnswers.length;
          badge.style.display = wrongAnswers.length > 0 ? "flex" : "none";
        }
      }

      function showWrongAnswers() {
        displayWrongAnswers();
        const leftPanel = document.getElementById("leftSidebarPanel");
        const leftFloatingBtn = document.getElementById("leftFloatingBtn");
        const wrapper = document.getElementById("mainContentWrapper");
        if (!leftPanel.classList.contains("active")) {
          leftPanel.classList.add("active");
          leftFloatingBtn.classList.add("hidden");
          wrapper.classList.add("left-expanded");
          localStorage.setItem("leftSidebarActive", "true");
        }
      }

      function removeWrongAnswer(id) {
        let wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        wrongAnswers = wrongAnswers.filter((item) => item.id !== id);
        localStorage.setItem("wrongAnswers", JSON.stringify(wrongAnswers));
        displayWrongAnswers();
        updateWrongAnswersBadge();
      }

      function clearWrongAnswers() {
        if (confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a táº¥t cáº£ lá»‹ch sá»­ cÃ¢u sai?")) {
          localStorage.removeItem("wrongAnswers");
          displayWrongAnswers();
          updateWrongAnswersBadge();
        }
      }

      function practiceWrongAnswers() {
        const wrongAnswers = JSON.parse(
          localStorage.getItem("wrongAnswers") || "[]",
        );
        if (wrongAnswers.length === 0) {
          alert("ğŸ‰ ChÆ°a cÃ³ cÃ¢u sai nÃ o Ä‘á»ƒ luyá»‡n táº­p!");
          return;
        }
        alert("ğŸš€ Chá»©c nÄƒng luyá»‡n táº­p Ä‘ang phÃ¡t triá»ƒn!");
      }

      // ==================== Cáº¬P NHáº¬T ÄÃP ÃN - Sá»¬A THEO YÃŠU Cáº¦U ====================
      function findKeyBySubQNumber(number) {
        for (let i = 0; i < quizData.length; i++) {
          const q = quizData[i];
          if (!q.isReading) {
            if (q.number == number) return `q${i}`;
          } else if (q.subQuestions) {
            for (let j = 0; j < q.subQuestions.length; j++) {
              const subQ = q.subQuestions[j];
              if (subQ.number == number) return `q${i}_${j}`;
            }
          }
        }
        return null;
      }

      function updateAnswer() {
        let keyOrNumber = document.getElementById("editKey").value.trim();
        const value = document.getElementById("editValue").value.trim();

        if (!window.answers) window.answers = {};

        // Náº¿u nháº­p sá»‘, tá»± Ä‘á»™ng dÃ² key theo subQ.number
        if (/^\d+(\.\d+)?$/.test(keyOrNumber)) {
          const mappedKey = findKeyBySubQNumber(keyOrNumber);
          if (!mappedKey) {
            alert(`âŒ KhÃ´ng tÃ¬m tháº¥y cÃ¢u há»i sá»‘ ${keyOrNumber}!`);
            return;
          }
          keyOrNumber = mappedKey;
        }

        if (keyOrNumber && value) {
          window.answers[keyOrNumber] = value;
          localStorage.setItem("customAnswers", JSON.stringify(window.answers));
          alert(
            `âœ… ÄÃ¡p Ã¡n cá»§a ${keyOrNumber} Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t thÃ nh ${value}.`,
          );
          document.getElementById("editKey").value = "";
          document.getElementById("editValue").value = "";
        } else {
          alert("âŒ Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin!");
        }
      }

      function clearUpdatedAnswers() {
        const ok = confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a cáº­p nháº­t Ä‘Ã¡p Ã¡n khÃ´ng?");
        if (!ok) return;
        localStorage.removeItem("customAnswers");
        window.answers = {};
        alert("âœ… ÄÃ£ xÃ³a háº¿t cÃ¡c cáº­p nháº­t Ä‘Ã¡p Ã¡n.");
      }

      // ==================== DARK MODE ====================
      function toggleDarkMode() {
        document.body.classList.toggle("dark");
        const btn = document.getElementById("darkModeToggleBtn");
        const isDark = document.body.classList.contains("dark");
        btn.textContent = isDark ? "â˜€ï¸" : "ğŸŒ™";
        localStorage.setItem("darkMode", isDark ? "1" : "0");
      }

      function applyDarkMode(isDark) {
        document.body.classList.toggle("dark", isDark);
        const btn = document.getElementById("darkModeToggleBtn");
        if (btn) btn.textContent = isDark ? "â˜€ï¸" : "ğŸŒ™";
      }
      // ==================== BACK TO TOP ====================
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function updateBackToTopVisibility() {
        const btn = document.getElementById("backToTopBtn");
        if (!btn) return;
        if (window.scrollY > 300) btn.classList.add("show");
        else btn.classList.remove("show");
      }

      // ==================== INITIALIZATION ====================
      window.onload = function () {
        renderQuiz();
        updateTimerDisplay();
        displayWrongAnswers();
        updateWrongAnswersBadge();

        const savedDarkMode = localStorage.getItem("darkMode");
        if (savedDarkMode) applyDarkMode(savedDarkMode === "1");

        const leftActive = localStorage.getItem("leftSidebarActive") === "true";
        const rightActive =
          localStorage.getItem("rightSidebarActive") === "true";
        const wrapper = document.getElementById("mainContentWrapper");

        if (leftActive) {
          document.getElementById("leftSidebarPanel").classList.add("active");
          document.getElementById("leftFloatingBtn").classList.add("hidden");
          wrapper.classList.add("left-expanded");
        }
        if (rightActive) {
          document.getElementById("rightSidebarPanel").classList.add("active");
          document.getElementById("rightFloatingBtn").classList.add("hidden");
          wrapper.classList.add("right-expanded");
        }
      };

      // Scroll effect for timer
      window.addEventListener("scroll", function () {
        const timer = document.querySelector(".timer-container");
        if (timer) {
          timer.style.opacity = window.scrollY > 100 ? "0.9" : "1";
          timer.style.transform =
            window.scrollY > 100 ? "scale(0.98)" : "scale(1)";
        }
        updateBackToTopVisibility();
      });

      // Event listeners
      document
        .getElementById("clearAnswersBtn")
        .addEventListener("click", clearUpdatedAnswers);
    </script>
  </body>
</html>
