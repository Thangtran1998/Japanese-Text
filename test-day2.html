<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>N1 B√†i test ng√†y 2</title>
<style>
  
  body { 
    font-family: Arial; 
    padding: 20px; 
    max-width: 900px; 
    margin: auto; 
    overflow-x: hidden;
  }
  h1, h2, h3 { 
    color: #2c3e50; 
  }
  .nav a { 
    display: block; 
    margin: 10px 0; 
    font-size: 18px; 
    text-decoration: none; 
    color: #007acc; 
  }
  .section { 
    border: 1px solid #ccc; 
    padding: 20px; 
    margin-bottom: 30px; 
    border-radius: 10px; 
  }
  .question-block { 
    margin-bottom: 20px; 
    position: relative; /* Cho ph√©p ch·ª©a c√°c control g√≥c ph·∫£i */
  }
  .answer-option { 
    display: block; 
    margin-bottom: 5px; 
  }
  .answer-option:hover {
    cursor: pointer;/* Di chu·ªôt v√†o ƒë√°p √°n s·∫Ω th√†nh bi·ªÉu t∆∞·ª£ng b√†n tay */
  }
  .answer-option:hover {
    cursor: pointer;
    color: #1e88e5;/* Di chu·ªôt v√†o ƒë√°p √°n s·∫Ω c√≥ m√†u xanh */
  }
  .score-display {
    color: #2e7d32;
    font-weight: bold;
    font-size: 0.9em;
    margin-left: 5px;
  }
  .correct-answer { 
    color: #2e7d32; 
  }
  .wrong-answer { 
    color: #c62828; 
  }
  #quizResult {
    margin: 15px 0;
    padding: 10px;
    background-color: #f5f5f5;
    border-radius: 5px;
  }
  .show-answers-btn {
    margin: 10px 0;
    padding: 8px 15px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  .show-answers-btn:hover {
    background-color: #45a049;
  }
  .timer-container {
    position: sticky;
    top: 10px;
    z-index: 100;
    background-color: white;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    display: inline-block;
    float: right;
    margin-left: 20px;
    transition: all 0.3s ease;
  }
  .timer-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
    justify-content: flex-end;
  }
  .timer-input {
    width: 50px;
    padding: 5px;
    text-align: center;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  .timer-btn {
    padding: 5px 10px;
    background-color: #2196F3;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
  }
  .timer-btn:hover {
    background-color: #0b7dda;
  }
  .timer-display {
    font-size: 24px;
    font-weight: bold;
    color: #d32f2f;
    margin-left: 10px;
    min-width: 80px;
    display: inline-block;
    text-align: center;
  }
  .time-up-alert {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #d32f2f;
    color: white;
    padding: 20px 40px;
    border-radius: 5px;
    font-size: 24px;
    z-index: 1000;
    display: none;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }
  .result-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    z-index: 1001;
    width: 80%;
    max-width: 500px;
    display: none;
    text-align: center;
  }
  .result-popup h3 {
    color: #2c3e50;
    margin-top: 0;
    font-size: 24px;
  }
  .result-popup .score {
    font-size: 28px;
    font-weight: bold;
    color: #2196F3;
    margin: 15px 0;
  }
  .result-popup .comment {
    font-size: 18px;
    margin-bottom: 20px;
  }
  .close-popup {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    cursor: pointer;
    color: #777;
  }
  .close-popup:hover {
    color: #333;
  }
  /* Th√™m CSS cho ph·∫ßn ƒë·ªçc hi·ªÉu */
  .reading-comprehension {
    background-color: #e6f7ff;
    border-left: 4px solid #1890ff;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 4px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    position: relative; /* Cho ph√©p ƒë·∫∑t timer & highlight controls */
  }
  .reading-title {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px solid #bae7ff;
  }
  .reading-label {
    background-color: #1890ff;
    color: white;
    padding: 3px 10px;
    border-radius: 4px;
    font-weight: bold;
    font-size: 14px;
  }
  .reading-content {
    line-height: 1.6;
    margin-top: 10px;
  }
  .sub-question-container {
    margin: 15px 0;
    padding-left: 20px;
    border-left: 3px solid #e0e0e0;
}

.sub-question-box {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 5px;
    padding: 12px;
    margin-top: 8px;
}

.sub-question-box p {
    margin: 0 0 10px 0;
    font-weight: bold;
    color: #495057;
}

.sub-question-options {
    margin-top: 10px;
}
  /* ---- Style cho timer nh·ªè b√™n trong kh·ªëi ƒë·ªçc hi·ªÉu ---- */
  .reading-timer-container {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 5px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    z-index: 10;
    display: flex;
    gap: 5px;
    align-items: center;
  }
  .reading-timer-input {
    width: 40px;
    padding: 3px;
    text-align: center;
    border: 1px solid #ccc;
    border-radius: 3px;
    font-size: 12px;
  }
  .reading-timer-btn {
    padding: 3px 6px;
    background-color: #2196F3;
    color: white;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    font-size: 12px;
  }
  .reading-timer-btn:hover {
    background-color: #0b7dda;
  }
  .reading-timer-display {
    font-size: 14px;
    font-weight: bold;
    color: #d32f2f;
    min-width: 50px;
    text-align: center;
  }
  /* ---- Style cho b·ªô n√∫t highlight ---- */
  .highlight-controls {
    position: absolute;
    top: 50px; /* N·∫±m d∆∞·ªõi timer */
    right: 10px;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 5px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    z-index: 10;
    display: flex;
    gap: 5px;
    .highlight-controls {
  pointer-events: none;
}
.highlight-controls .highlight-btn {
  pointer-events: auto;
}
  }
  .highlight-btn {
    width: 20px;
    height: 20px;
    border: 1px solid #ccc;
    border-radius: 3px;
    cursor: pointer;
  }
  .highlight-btn.red    { background-color: #e53935; }  /* ƒê·ªè */
  .highlight-btn.blue   { background-color: #1e88e5; }  /* Xanh */
  .highlight-btn.purple { background-color: #8e24aa; }  /* T√≠m */
  .highlight-btn.black  { background-color: #000000; }  /* ƒêen */
  .highlight-btn:hover  { opacity: 0.8; }

  .highlight-btn.remove-btn {
  background-color: #f5f5f5;
  color: #ff0000;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 12px;
}
/* Th√™m v√†o ph·∫ßn style */
#quizControlsContainer {
    position: absolute;
    right: 20px;
    top: 20px;
    width: 250px;
    z-index: 100;
}

#quizControls {
    background-color: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

#quizControls button {
    display: block;
    width: 100%;
    margin-bottom: 10px;
    padding: 8px;
    background-color: #2196F3;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#quizControls button:hover {
    background-color: #0b7dda;
}

.show-answers-btn {
    background-color: #4CAF50 !important;
}

.show-answers-btn:hover {
    background-color: #45a049 !important;
}

#quizHistory {
    max-height: 200px;
    overflow-y: auto;
    padding: 5px;
    margin: 10px 0;
    background-color: #f8f9fa;
    border-radius: 4px;
    border: 1px solid #dee2e6;
}

#quizHistory li {
    margin-bottom: 8px;
    font-size: 13px;
    display: flex;
    justify-content: space-between;
    align-items: center;    /* CƒÇN GI·ªÆA CHI·ªÄU D·ªåC */
    padding: 5px;
    background-color: white;
    border-radius: 3px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}


#quizHistory li button {
    background: none !important;
    border: none !important;
    color: #e53935 !important;
    font-size: 20px !important;   /* C√≥ th·ªÉ tƒÉng gi·∫£m t√πy √Ω */
    font-weight: bold;
    padding: 0 6px 0 8px !important;
    margin: 0 !important;
    cursor: pointer;
    box-shadow: none !important;
    outline: none !important;
    display: flex;
    align-items: center;   /* ƒê·∫£m b·∫£o ch√≠nh gi·ªØa */
    line-height: 1;
}

#quizHistory li button:hover {
    color: #b71c1c !important;
    text-decoration: underline;
    background: none !important;
}

#quizControls {
    width: 200px; /* TƒÉng width ƒë·ªÉ ch·ª©a n·ªôi dung t·ªët h∆°n */
    /* Gi·ªØ nguy√™n c√°c thu·ªôc t√≠nh kh√°c */
}
#editKey, #editValue {
    width: 100%;
    padding: 5px;
    margin-bottom: 5px;
    box-sizing: border-box;
}
#quizControlsContainer {
    position: fixed;
    right: 20px;
    top: 100px; /* V·ªã tr√≠ ban ƒë·∫ßu */
    width: 250px;
    z-index: 100;
    transition: all 0.3s ease; /* Hi·ªáu ·ª©ng m∆∞·ª£t m√† */
}

#quizControls {
    background-color: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

</style>
</head>
<body>
  <h1>üìö N1 B√†i test ng√†y 2<h1>(T·ªïng s·ªë c√¢u h·ªèi: 46 c√¢u)</h1>
  
  <div class="timer-container">
    <div class="timer-controls">
      <input type="number" id="setTimeInput" class="timer-input" placeholder="20" min="1" max="120">
      <button class="timer-btn" onclick="setTimer()">ƒê·∫∑t th·ªùi gian &#9200;</button>
      <button class="timer-btn" onclick="startTimer()">B·∫Øt ƒë·∫ßu &#8987;</button>
      <span id="timerDisplay" class="timer-display">20:00</span>
    </div>
  </div>
  
  <div class="section" id="testday1">
    <h2>üìù N1 B√†i test ng√†y 2</h2>
    <form id="quizForm"></form>

    <div id="quizControlsContainer">
    <div id="quizControls">
        <button type="button" onclick="submitQuiz()">N·ªôp b√†i</button>
        <button type="button" onclick="resetQuiz()">L√†m l·∫°i</button>
        <button id="showAnswersBtn" class="show-answers-btn" onclick="showCorrectAnswers()" style="display: none;">Hi·ªán ƒë√°p √°n ƒë√∫ng</button>
        <div id="quizResult"></div>
        <h4>L·ªãch s·ª≠ l√†m b√†i</h4>
        <ul id="quizHistory"></ul>
        <h4>C·∫≠p nh·∫≠t ƒë√°p √°n</h4>
        <input type="text" id="editKey" placeholder="q1">
        <input type="text" id="editValue" placeholder="3">
        <button onclick="updateAnswer()">C·∫≠p nh·∫≠t ƒë√°p √°n</button>
    </div>
</div>

    
  <div id="timeUpAlert" class="time-up-alert">
    ‚è∞ H·∫øt th·ªùi gian l√†m b√†i r√≤i b·∫°n ∆∞i &#129402;
  </div>

  <div id="resultPopup" class="result-popup">
    <span class="close-popup" onclick="closeResultPopup()">√ó</span>
    <h3>K·∫øt qu·∫£ c·ªßa b·∫°n ƒë√¢y</h3>
    <div class="score" id="popupScore"></div>
    <div class="comment" id="popupComment"></div>
    <button class="show-answers-btn" onclick="closeResultPopup()">ƒê√≥ng</button>
  </div>

  <script>
          let lastScrollPosition = 0;

      window.addEventListener('scroll', function() {
          const controlsContainer = document.getElementById('quizControlsContainer');
          const currentScrollPosition = window.pageYOffset || document.documentElement.scrollTop;
          
          // ƒêi·ªÅu ch·ªânh v·ªã tr√≠ khi cu·ªôn
          if (currentScrollPosition > 100) {
              controlsContainer.style.top = '20px'; // Khi cu·ªôn xu·ªëng, d√≠nh s√°t top
          } else {
              controlsContainer.style.top = '100px'; // V·ªã tr√≠ ban ƒë·∫ßu
          }
          
          // Hi·ªáu ·ª©ng m·ªù nh·∫π khi cu·ªôn xu·ªëng
          if (currentScrollPosition > lastScrollPosition) {
              // ƒêang cu·ªôn xu·ªëng
              controlsContainer.style.opacity = '0.95';
          } else {
              // ƒêang cu·ªôn l√™n
              controlsContainer.style.opacity = '1';
          }
          
          lastScrollPosition = currentScrollPosition;
      });
    const quizAnswers = {};
    const quizData = [
  {
    number: 1,
    question: 'Â¶ª„ÅØÈõ¢Â©öÂ±ä„Å´Âà§„ÇíÊäº„Åô (___) „ÄÅÂÆ∂„ÇíÂá∫„Å¶Ë°å„Å£„Åü„ÄÇÈõ¢Â©ö„Å®„ÅØ„Åì„Çì„Å™„Å´Á∞°Âçò„Å™„ÇÇ„ÅÆ„Å™„ÅÆ„Åã„ÄÇ',
    options: ['„Åã„ÅÑ„Å™„Åã', '„Åπ„Åè', '„ÇÑ„ÅÑ„Å™„ÇÑ', '„Åπ„Åè„Åó„Å¶'],
    answer: '3',
    isReading: false
  },
  {
    number: 2,
    question: '„ÅÇ„ÅÆ‰∫∫„ÅÆÁÑ°Á§º (___) Ë®ÄËëâ„Å´ÊÄí„Çä„ÇíÁ¶Å„Åò„Åà„Å™„Åã„Å£„Åü„ÄÇ',
    options: ['„ÅÇ„Åü„Çâ„Å™„ÅÑ', '„Åã„Åü„Åè„Å™„ÅÑ', '„Åã„Åé„Çâ„Å™„ÅÑ', '„Åç„Çè„Åæ„Çä„Å™„ÅÑ'],
    answer: '4',
    isReading: false
  },
  {
    number: 3,
    question: 'Ë¶ñËÅ¥Êñô„ÅÆÊ®™È†ò‰∫ã‰ª∂„Åå (___) „ÄÅË¶ñËÅ¥Êñô„Åã„ÇâÊäóË≠∞„ÅÆÈõªË©±„Åå„Åã„Åã„Å£„Å¶„Åç„Å¶„ÄÅ„Çπ„Çø„ÉÉ„Éï„Åå„Åù„ÅÆÂØæÂøú„Å´ËøΩ„Çè„Çå„Åü„ÄÇ',
    options: ['ÊÉÖÂ†±„ÅÆÊòØÈùû„ÇíÂïè„Çè„Åö', 'ÊÉÖÂ†±„Åï„Çå„Çã„ÇÑÂê¶„ÇÑ', 'ÊÉÖÂ†±„Åô„Çå„Å∞„Åì„Åù', 'ÊÉÖÂ†±„Åó„Å¶„Åæ„Åß'],
    answer: '2',
    isReading: false
  },
  {
    number: 4,
    question: '„Éë„Éà„Ç´„Éº„ÅÆ„Çµ„Ç§„É¨„É≥„ÅÆÈü≥„ÇíËÅû„Åè (___) „ÄåÈÄÉ„Åí„Çç„Äç„Å®„Å∞„Åã„Çä„Å´„ÄÅÂΩº„ÅØÁåõ„Çπ„Éî„Éº„Éâ„ÅßËªä„ÇíËµ∞„Çâ„Åõ„Åü„ÄÇ',
    options: ['„Åô„Çâ', '„Å®„Å¶', '„Å™„Çä', '„Å†„ÅÆ'],
    answer: '2',
    isReading: false
  },
  {
    number: 5,
    question: '„Ç´„É†„Éê„ÉÉ„ÇØ„Åó„ÅüÊúâÂêç„Å™AÊ≠åÊâã„ÅÆ„Ç≥„É≥„Çµ„Éº„Éà (___) „ÄÅ„Åì„Çå„Å†„Åë„Éï„Ç°„É≥„ÅåÂ§ö„ÅèÊù•„Çã„ÅÆ„ÇÇ„ÇÇ„Å£„Å®„ÇÇ„ÅÆ„Åì„Å®„Å†„Çç„ÅÜ„ÄÇ',
    options: ['„ÅÆ„Çè„Çä„Å´', '„Å®„ÅÇ„Çå„Å∞', '„Å™„Çâ„Åß„ÅØ', '„Å´„ÅÇ„Å£„Å¶„ÇÇ'],
    answer: '3',
    isReading: false
  },
  {
    number: 6,
    question: '„Åù„Å°„Çâ„ÅÆ„ÅîËøîÁ≠î„ÅÑ„Åã„Çì„Åß„ÅØ„ÄÅ„Åì„Å°„Çâ„ÇÇ (___) „ÅÆÂØæÂøú„Çí„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ',
    options: ['„Åù„Çå„Å∞„Åã„Çä', '„Åù„Çå„Åª„Å©', '„Åù„Çå„Åæ„Åß', '„Åù„Çå„Å™„Çä'],
    answer: '4',
    isReading: false
  },
  {
    number: 7,
    question: 'ÂàóËªä„ÅåÊ¨°„ÅÆÂõΩ„Å´ÂÖ•„Çã„Åü„Å≥„Å´„ÄÅ„ÅÑ„Å°„ÅÑ„Å°„Åù„ÅÆÂõΩ„ÅÆ„ÅäÈáë„Å®Êèõ„Åà„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØ„ÄÅ (___) „ÄÅÊóÖË°åËÄÖ„Å´„ÅØ‰∏ç‰æø„Å†„ÄÇ',
    options: ['„Åù„ÅÆÁêÜÁî±„ÅØ‰Ωï„Åß„ÅÇ„Çå', '„Å™„Çì„Çâ„Åã„ÅÆÁêÜÁî±„Åå„ÅÇ„Çã„ÇÇ„ÅÆ„Çí', '„Å™„ÅÑ„Åì„Å®„Å†„Åã„Çâ', 'ÈùûÂ∏∏Ë≠ò„Å®„ÇÇ„Åã„Åé„Çâ„Å™„ÅÑ'],
    answer: '1',
    isReading: false
  },
  {
    number: 8,
    question: 'Áõ∏Êâã (___) „ÅÆ‰∫§Ê∏â„Å†„Åã„Çâ„ÄÅËá™ÂàÜ„ÅÆ‰∏ªÂºµ„Å†„Åë„ÇíÈÄö„Åù„ÅÜ„Å®„Åô„Çã„ÅÆ„ÅØ„Çà„Åè„Å™„ÅÑ„ÄÇ',
    options: ['„Å†„Åë„ÅÆ', '„ÅÇ„Å£„Å¶„ÅÆ', '„Åã„Åé„Çä„ÅÆ', '„Å´„Çà„Çã'],
    answer: '2',
    isReading: false
  },
  {
    number: 9,
    question: '„Åù„Çç„Åù„ÇçÂ§è‰ºë„Åø„ÅåÂßã„Åæ„Çã (___) „ÄÅÂ≠ê‰æõ„Åü„Å°„ÅØÁöÜ„ÅÜ„Çå„Åó„Åù„ÅÜ„Å™È°î„Çí„Åó„Å¶„ÅÑ„Çã„ÄÇ',
    options: ['„Å®„ÅÇ„Çå„Å∞', '„Å´„ÅÇ„Å£„Å¶', '„Å®„Åô„Çã„Å®', '„Å®„ÅÇ„Å£„Å¶'],
    answer: '4',
    isReading: false
  },
  {
    number: 10,
    question: '„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„ÅåÊôÆÂèä„Åó„ÅüÁèæ‰ª£ (___) „ÄÅÊÉÖÂ†±ÁÆ°ÁêÜ‰ΩìÂà∂„ÅÆÂº∑Âåñ„ÅåÊÄ•Âãô„Å®„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ',
    options: ['„Å´„Å≤„Åç„Åã„Åà', '„Å´„Å®„Å£„Å¶', '„Å´„ÅÇ„Å£„Å¶', '„Å®„ÅÇ„Å£„Å¶'],
    answer: '3',
    isReading: false
  },
  {
    number: 11,
    question: 'ÂÑ™Âãù„ÇíÁõÆ„ÅÆÂâç„Å´„Åó„Å¶ÈÄÜËª¢Ë≤†„Åë„Åó„Åü„Å®„Åç„ÅÆ„ÅÇ„ÅÆÊÇî„Åó„Åï (___) „ÄÇ',
    options: ['„Å®„ÅÑ„Å£„Åü„Çâ„Å™„Åã„Å£„Åü', '„Çè„Åë„Åå„Å™„Åã„Å£„Åü', '„Å®„ÅÑ„Å£„Å¶„ÇÇ„Å™„Åã„Å£„Åü', '„Å®„ÅÑ„Åà„Å∞„Å™„Åã„Å£„Åü'],
    answer: '1',
    isReading: false
  },
  {
    number: 12,
    question: '„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„ÅÆÊôÆÂèä„Å´„Çà„Å£„Å¶„ÄÅÂ§ßÈÉΩÂ∏Ç„Åã„ÇâÂú∞Êñπ„ÅÆÁî∫ (___) „Åª„ÅºÂêå„Åò„Çà„ÅÜ„Å™ÊÉÖÂ†±„ÅåË°å„ÅçÊ∏°„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ',
    options: ['„Å´„ÅÑ„Åü„Å£„Å¶', '„Å´„ÅÑ„Åü„Çã„Åæ„Åß', '„Å´„Åä„Åë„Çã', '„Å´„Åã„Åã„Çè„Çã'],
    answer: '2',
    isReading: false
  },
  {
    number: 13,
    question: 'Â±±„ÅÆÈ†Ç‰∏ä„Åß„Åø„ÅüÊúùÊó•„ÅÆÁæé„Åó„Åï (___) „Å™„Åã„Å£„Åü„ÄÇ',
    options: ['„Å®„ÅÑ„Å£„Åü„Çâ', '„Å®„Åç„Åü„Çâ', '„Åß„ÅØ„ÅÇ„Çã„Åæ„ÅÑ„Åó', '„ÅÑ„Åã„Çì„Åß„ÅØ'],
    answer: '1',
    isReading: false
  },
  {
    number: 14,
    question: 'ÂõΩÊ∞ëÊ†ÑË™âË≥û„Å´ÈÅ∏„Å∞„Çå„Å¶„ÄÅÂÖâÊ†Ñ (___) „Åß„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ',
    options: ['„Åæ„Åø„Çå', '„Åö„Åè„ÇÅ', '„ÅÆÊ•µ„Åæ„Çä', '„ÅÆËá≥„Çä'],
    answer: '4',
    isReading: false
  },
  {
    number: 15,
    question: '30Ê≠≥„ÅÆËã•„Åï„ÅßÈÉ®Èï∑„Å´„Å™„Çã„Å™„Çì„Å¶„ÄÅ„ÅÜ„Çâ„ÇÑ„Åæ„Åó„ÅÑ (___) „ÄÇ',
    options: ['„ÅÇ„Åæ„Çä„Å†', '„Å´Èôê„Çã', 'Èôê„Çä„Å†', '„Åª„Å©„Å†'],
    answer: '3',
    isReading: false
  },
  {
    number: 16,
    question: 'Á§æÈï∑„Å´„ÅÇ„Å£„Å¶„ÇÇÊå®Êã∂„ÇÇ„Çç„Åè„Å´„Åó„Å™„ÅÑÂ§±Á§º (___) Êñ∞ÂÖ•Á§æÂì°„Åå„ÅÑ„Çã„ÄÇ',
    options: ['Ê•µ„ÇÅ„Çã', 'Ê•µ„ÇÅ„Å™„ÅÑ', 'Ê•µ„Åæ„Çã', 'Ê•µ„Åæ„Å£„Å¶„ÅÑ„Çã'],
    answer: '3',
    isReading: false
  },
  {
    number: 17,
    question: 'Âàù„ÇÅ„Å¶„ÅÆÊéàÊ•≠ (___) „ÄÅ„ÇØ„É©„Çπ„ÅÆ„Åø„Çì„Å™„ÅØÈùô„Åã„Å´ÂÖàÁîü„ÇíÂæÖ„Å£„Å¶„ÅÑ„Åü„ÄÇ',
    options: ['„Å®„ÅØ„ÅÑ„Åà', '„Å®„Åó„Åü„Çâ', '„Å®„Åô„Çå„Å∞', '„Å®„ÅÇ„Å£„Å¶'],
    answer: '4',
    isReading: false
  },
  {
    number: 18,
    question: 'Êå®Êã∂„Åó„Åü„ÅÆ„Å´ÁÑ°Ë¶ñ„Åô„Çã„Å™„Çì„Å¶„ÄÅÂ§±Á§º (___) „ÄÇ',
    options: ['„Åç„Çâ„ÅÑ„Åå„ÅÇ„Çã', '„Åã„Åé„Çä„Åß„ÅÇ„Çã', '„Å´„Åã„Åü„Åè„Å™„ÅÑ', '„Åç„Çè„Åæ„Çä„Å™„ÅÑ'],
    answer: '4',
    isReading: false
  },
  {
    number: 19,
    question: 'ÂæÖ„Å°„Å´ÂæÖ„Å£„Å¶„ÅÑ„ÅüÈõªË©±„ÅÆ„Éô„É´„ÅåÈ≥¥„Çã (___) „ÄÅÂΩº„ÅØ„Åô„Åê„Å´ÂèóË©±Âô®„ÇíÂèñ„Å£„Åü„ÄÇ',
    options: ['„ÇÑ„ÅÑ„Å™„ÇÑ', '„ÅåÊúÄÂæå', '„Å®„ÇÇ„Å™„Åó„Å´', '„Å®„Åç„Åü„Çâ'],
    answer: '1',
    isReading: false
  },
  {
    number: 20,
    question: 'Êå®Êã∂„Åó„Åü„ÅÆ„Å´ÁÑ°Ë¶ñ„Åô„Çã„Å™„Çì„Å¶„ÄÅÂ§±Á§º (___) „ÄÇ',
    options: ['„Åç„Çâ„ÅÑ„Åå„ÅÇ„Çã', '„Åã„Åé„Çä„Åß„ÅÇ„Çã', '„Å´„Åã„Åü„Åè„Å™„ÅÑ', '„Åç„Çè„Åæ„Çä„Å™„ÅÑ'],
    answer: '4',
    isReading: false
  },
  {
    number: 21,
    question: 'Âπ¥„ÅÆ„Åõ„ÅÑ„Åã„ÄÅ„Åì„ÅÆ„Åî„Çç„ÅØÊú¨„ÇíË™≠„Çì„Å† (___) Âøò„Çå„Å¶„Åó„Åæ„ÅÜ„ÄÇ',
    options: ['„Åù„Å∞„Åæ„Åß', '„ÅåÊúÄÂæå', '„Åù„Å∞„Åã„Çâ', '„ÅÇ„Å®„Åß„ÅØ'],
    answer: '3',
    isReading: false
  },
  {
    number: 22,
    question: 'Âú∞‰∏ãÈâÑ„Åå„Éõ„Éº„É†„Å´ÁùÄ„Åè„Åå (___) „ÄÅ‰∏¶„Çì„Åß„ÅÑ„Åü‰πóÂÆ¢„ÅØÂÖà„Çí‰∫â„Å£„Å¶‰πó„ÇäËæº„ÇÇ„ÅÜ„Å®„Åó„Åü„ÄÇ',
    options: ['„ÅÑ„Å™„ÇÑ', '„Å®„Åü„Çì„Å´', '„ÅØ„ÇÑ„ÅÑ„Åã', '„Åó„Å†„ÅÑ„Å´'],
    answer: '2',
    isReading: false
  },
  {
    number: 23,
    question: '‰ºëÊó•„Å´„ÅØÊò†Áîª„ÇíË¶ã„Çã (___) „ÄÅË≤∑„ÅÑÁâ©„Åô„Çã (___) „Åó„Å¶„ÄÅ„Çπ„Éà„É¨„Çπ„ÇíËß£Ê∂à„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    options: ['„Åó/„Åó', '„Å†„ÅÆ/„Å†„ÅÆ', '„ÇÑ„Çâ/„ÇÑ„Çâ', '„Å™„Çä/„Å™„Çä'],
    answer: '2',
    isReading: false
  },
  {
    number: 24,
    question: 'ÊéàÊ•≠ÁµÇ‰∫Ü„ÅÆ„Éô„É´„ÅåÈ≥¥„Çã (___) „ÄÅÂ≠¶Áîü„Åü„Å°„ÅØ„Åô„Åê„Å´ÊïôÂÆ§„ÇíÈ£õ„Å≥Âá∫„Åó„Åü„ÄÇ',
    options: ['Ê¨°Á¨¨', '„ÇÑ„ÅÑ„Å™„Åã', '„Åå„ÅØ„ÇÑ„ÅÑ„Åã', '„Åù„Å∞„Åã„Çâ'],
    answer: '3',
    isReading: false
  },
  {
    number: 25,
    question: '„Åì„ÅÆÊ°à„ÅØËá™ÂàÜ (___) ËÄÉ„Åà„Å´ËÄÉ„Åà„Åü‰∏ä„Åß„ÅÆ„ÇÇ„ÅÆ„Åß„Åô„ÄÇÂá∫Êù•‰∏ä„Åå„ÇäÊ¨°Á¨¨„ÄÅE„É°„Éº„É´„Åß„ÅäÈÄÅ„Çä„Åó„Åæ„Åô„ÄÇ„ÅîÊ§úË®é„Åè„Å†„Åï„ÅÑ„ÄÇ',
    options: ['„Åû„ÅÑ„Å´', '„Å´Âç≥„Åó„Å¶', '„Çí„Åµ„Åæ„Åà', '„Å™„Çä„Å´'],
    answer: '3',
    isReading: false
  },
  {
    number: 26,
    question: 'Ê≥®ÊÑè„Åï„Çå„Åü (___) „ÄÅ„Åæ„ÅüÂêå„Åò„Éü„Çπ„ÇíÁäØ„Åô„Å™„Çì„Å¶„ÄÅÈ¶¨Èπø„Å®„Åó„ÅãË®Ä„ÅÑ„Çà„ÅÜ„Åå„Å™„ÅÑ„Å≠„ÄÇ',
    options: ['„Åå„Åï„ÅÑ„Åî', '„Åì„Å®„Å®„Å¶', '„Åì„Å®„Åã„Çâ', '„Åù„Å∞„Åã„Çâ'],
    answer: '4',
    isReading: false
  },
  {
    number: 27,
    question: 'Êó•Êú¨Á§æ‰ºö„ÅÆ (___) „Å´„ÅÇ„ÇãÂ≠¶Ê≠¥ÈáçË¶ñ„ÄÅ‰∏ÄÊµÅÂøóÂêë„Çí„Å™„Åè„Åï„Å™„ÅÑ„Åã„Åé„Çä„ÄÅÊó•Êú¨„ÅÆÊïôËÇ≤„ÅØ„Åã„Çè„Çâ„Å™„ÅÑ„Å†„Çç„ÅÜ„ÄÇ',
    options: ['Ê†πÂ∫ï', 'Ê†πÊã†', 'ÂæπÂ∫ï', '‰æùÊã†'],
    answer: '1',
    isReading: false
  },
  {
    number: 28,
    question: ' (___) Â≠ê‰æõ„ÅåËªä„ÅÆÂâç„Å´È£õ„Å≥Âá∫„Åó„Å¶„Åç„Å¶„Å≥„Å£„Åè„Çä„Åó„Åü„ÄÇ',
    options: ['ËªΩÁéá„Å´', '‰∏çÊÑè„Å´', 'ÊÄ†ÊÖ¢„Å´', 'ËáÜÁóÖ„Å´'],
    answer: '2',
    isReading: false
  },
  {
    number: 29,
    question: '‰∫§ÈÄö„ÇÑÈÄö‰ø°„Åå (___) ÈÄ≤Ê≠©„ÇíÈÅÇ„Åí„Å¶„ÅÑ„Çã‰ªäÊó•„ÄÅÂú∞ÁêÉ„ÅåÁã≠„Åè„Å™„Å£„Åü„Çà„ÅÜ„Å™Ê∞ó„Åå„Åô„Çã„ÄÇ',
    options: ['„ÅÇ„Åï„Åæ„Åó„ÅÑ', '„Å™„Å†„Åã„ÅÑ', '„ÇÅ„Åñ„Åæ„Åó„ÅÑ', '„Åì„Åì„Çç„Çà„ÅÑ'],
    answer: '3',
    isReading: false
  },
  {
    number: 30,
    question: '„ÅÇ„Åæ„Çä„ÅÆÊÅê„Çç„Åó„Åï„Å´„Åù„ÅÆÂ≠ê„ÅØ (___) „ÄÇ',
    options: ['Á´ã„Å°‰ºö„Å£„Åü', 'Á´ã„Å°ÂÖ•„Å£„Åü', 'Á´ã„Å°„Å™„Åä„Å£„Åü', 'Á´ã„Å°„Åô„Åè„Çì„Å†'],
    answer: '4',
    isReading: false
  },
  {
    number: 31,
    question: 'Âèã‰∫∫„Åã„ÇâE„É°„Éº„É´„ÅåÂ±ä„ÅÑ„Åü„ÅÆ„Åß„ÄÅ (___) Ëøî‰∫ã„ÇíÊõ∏„Åè„ÄÇ',
    options: ['Âºï„ÅçÂá∫„Åó', 'Âºï„Åç„Åö„Çä', 'Êäò„ÇäËøî„Åó', 'Êäò„ÇäÁï≥„Åø'],
    answer: '3',
    isReading: false
  },
  {
    number: 32,
    question: 'Âèñ„ÇäÁ∑†„Çä„Åå (___) „Å™„ÅÆ„Åß„ÄÅ‰∫§ÈÄöÈÅïÂèç„Åå„Å™„Åã„Å™„ÅãÊ∏õ„Çä„Åæ„Åõ„Çì„ÄÇ',
    options: ['„É´„Éº„É´', '„É¨„Éº„É´', '„É´„Éº„Ç∫', '„Ç¥„Éº„É´'],
    answer: '3',
    isReading: false
  },
  {
    number: 33,
    question: '„ÅÇ„ÅÑ„Å§„ÅØ‰Ωì„ÅÆÁï∞Â∏∏„ÅØ„Å™„ÅÑ„Åå„ÄÅÊÇ™„ÅèË®Ä„Åà„Å∞ÊÅêÂ¶ª (___) „Å´„Åã„Åã„Å£„Åü„ÅÆ„ÅåÂÆüÊÉÖ„Å†„ÄÇ',
    options: ['Áóá', 'Áä∂', 'Êßò', 'Áéã'],
    answer: '1',
    isReading: false
  },
  {
    number: 34,
    question: 'Êñ∞Ë©¶È®ì„ÅÆÂá∫È°åË¶ÅÁ∂±„ÅÆ<span style="color:red;font-style:italic">Á∑ö</span>„Å´Ê≤ø„Å£„Å¶„ÄÅ„Åì„ÅÆÁ∑¥ÁøíÂ∏≥„ÇíÁ∑®ÈõÜ „Åó„Åü„ÄÇ',
    options: ['ÈñìÊüÑ', 'Â§ßÊüÑ', 'Á≠ãÈÅì', 'ËøëÈÅì'],
    answer: '3',
    isReading: false
  },
  {
    number: 35,
    question: 'Â§ñÂõΩË™û„Åå<span style="color:red;font-style:italic">ÊµÅÊö¢</span>„Å´Ë©±„Åõ„Çã„Åå„ÄÅÊØçÂõΩË™û„Å®„Å™„Çã„Å®„ÄÅËàå„ÅåÂõû„Çâ„Å™„Åè„Å™„Çã‰∫∫„Åå„ÅÑ„Çã„Åù„ÅÜ„Å†„ÄÇ',
    options: ['„Åö„Çã„Åö„Çã', '„Åû„Åè„Åû„Åè', '„Åã„Çã„Åå„Çã', '„Åô„Çâ„Åô„Çâ'],
    answer: '4',
    isReading: false
  },
  {
    number: 36,
    question: '„ÅÇ„ÅÆ„ÅäÂÆ¢„ÅØ„ÅäÈáë„Å´<span style="color:red;font-style:italic">„Åó„Å∂„Åè„Å¶</span>„ÄÅ‰ª£Èáë„Çí„Å™„Åã„Å™„ÅãÊâï„Å£„Å¶„Åè„Çå„Å™„ÅÑ„ÄÇ',
    options: ['„Åë„Å°„Åß', '„Åä„Åä„Åæ„Åã„Åß', '„ÅÇ„ÅÑ„Åæ„ÅÑ„Åß', '„Åü„Åè„Åø„Åß'],
    answer: '1',
    isReading: false
  },
  {
    number: 37,
    question: 'Èï∑„ÅÑÂÜ¨„Å´ÂÇô„Åà„Çã„Åü„ÇÅ„Å´„ÄÅÈáéËèú„Çí<span style="color:red;font-style:italic">„Åã„Åì„Å£„Å¶</span>„Åä„Åè„ÄÇ',
    options: ['ËÇ≤Êàê„Åó„Å¶', 'Ê†ΩÂüπ„Åó„Å¶', '„Åü„Åè„Çè„Åà„Å¶', '„Å®„Å©„ÇÅ„Å¶'],
    answer: '3',
    isReading: false
  },
  {
    number: 38,
    question: '„Åì„ÅÆ‰ªï‰∫ã„ÅØ<span style="color:red;font-style:italic">„ÅÑ„Åü„Å£„Å¶</span>„Çπ„É†„Éº„Ç∫„Å´ÈÅã„Çì„Åß„ÅÑ„Çã„Åã„Çâ„ÄÅÂÆâÂøÉ„Åó„Åü„Åæ„Åà„ÄÇ',
    options: ['„ÇÑ„ÇÑ', '„Åî„Åè', '„ÇÇ„Çç„Å´', '„Çç„Åè„Å´'],
    answer: '2',
    isReading: false
  },
  {
    number: 39,
    question: '„Åì„Åì„ÅØÂæå„Åß„Ç∞„É©„Éï„ÇíÂÖ•„Çå„Çã„Çì„Å†„Åã„Çâ„ÄÅ<span style="color:red;font-style:italic">„Çπ„Éö„Éº„Çπ</span>„ÇíÁ©∫„Åë„Å¶„Çø„Ç§„Éó„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
    options: ['Ë∑ùÈõ¢', 'ÂêàÈñì', 'ÂàÜÈõ¢', 'Ë°åÈñì'],
    answer: '4',
    isReading: false
  },
  {
    number: 40,
    question: 'Áõõ„Çä',
    options: ['Ê°ú„ÅÆËä±„ÅÆ<span style="color:red;font-style:italic">Áõõ„Çä</span>„ÅåÈÅé„Åé„Åü„Åã„Çâ„ÄÅËä±Ë¶ãÂÆ¢„ÇÇÂ∞ë„Å™„Åè„Å™„Å£„Åü„ÄÇ', '„Åù„Åì„ÅØÊú®Â∑•„ÄÅÊüìÁπî„Å™„Å©„ÅÆ‰ºùÁµ±Â∑•Ëä∏„Åå<span style="color:red;font-style:italic">Áõõ„Çä</span>„Å™Áî∫„Åß„Åô„ÄÇ', '„Å©„ÅÆ„Çà„ÅÜ„Å´Â∫ó„Çí<span style="color:red;font-style:italic">Áõõ„Çä</span>„Åï„Åõ„Çã„Åã„ÇíËÄÉ„Åà„Åæ„Åó„Çá„ÅÜ„ÄÇ', '„Åì„Åì„ÅÆËÇâ„ÅØ„Å∂„ÅüËÇâ„ÅÆ‰∏≠„Åß„ÅÑ„Å°„Å∞„Çì<span style="color:red;font-style:italic">Áõõ„Çä</span>„ÅÆÈÉ®ÂàÜ„Å†„ÄÇ'],
    answer: '1',
    isReading: false
  },
  {
    number: 41,
    question: 'ÂØæÈù¢',
    options: ['ÂΩº„Å®„ÅØÂßã„ÇÅ„Å¶<span style="color:red;font-style:italic">ÂØæÈù¢</span>„Åó„Åü„Åå„ÄÅ„Åô„Åê„Å´Êâì„Å°Ëß£„Åë„Åü„ÄÇ', '60Âπ¥Ââç„ÄÅÂéüÁàÜ„ÅåÂ∫ÉÂ≥∂„Å®Èï∑Â¥é„Åß‰∏ñÁïå„ÅÆ‰∫∫„Å®<span style="color:red;font-style:italic">ÂØæÈù¢</span>„Åó„Åü„ÄÇ', '‰πæ„Åç„Åç„Å£„ÅüÊú®„Å®ÁÅ´„Åå<span style="color:red;font-style:italic">ÂØæÈù¢</span>„Å´„Å™„Å£„Åü„Çâ„ÄÅ„Å±„Å£„Å®ÁáÉ„ÅàÂßã„ÇÅ„Åü„ÄÇ', '‰ªä„Åæ„Åß„Åº„Åè„ÅØ„Åö„Å£„Å®Â§ßÈÄö„Çä„ÅÆ<span style="color:red;font-style:italic">ÂØæÈù¢</span>„Å´‰Ωè„Çì„Åß„ÅÑ„Åü„ÄÇ'],
    answer: '1',
    isReading: false
  },
  {
    number: 42,
    question: 'Á∞°ÊΩî',
    options: ['„Éã„É•„Éº„Çπ„ÅØÂÜÖÂÆπ„Å®<span style="color:red;font-style:italic">Á∞°ÊΩî</span>„ÅåÂ§ßÂàá„Å™„Åì„Å®„Åß„ÅÇ„Çã„ÄÇ', 'ÊñáÁ´†„ÅØ<span style="color:red;font-style:italic">Á∞°ÊΩî</span>„Åó„ÅüË®ÄËëâÈÅ£„ÅÑ„Çí‰Ωø„Å£„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„ÄÇ', 'Âøô„Åó„ÅÑ„ÅÆ„Åß„ÄÅ<span style="color:red;font-style:italic">Á∞°ÊΩî</span>ÁöÑ„Å™Â†±ÂëäÊõ∏„ÇíÊèêÂá∫„Åó„Å¶„Åª„Åó„ÅÑ„ÄÇ', 'Áô∫Ë®ÄËÄÖ„ÅÆÁô∫Ë®Ä„Çí<span style="color:red;font-style:italic">Á∞°ÊΩî</span>„Å´„Åæ„Å®„ÇÅ„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ'],
    answer: '4',
    isReading: false
  },
  {
    number: 43,
    question: '„Å®„Å™„Åà„Çã',
    options: ['Â∞èÈ≥•„ÅåÊ≠å„Çí<span style="color:red;font-style:italic">„Å®„Å™„Åà</span>„Å™„Åå„Çâ„ÄÅÊûù„Åã„ÇâÊûù„Å∏„Å®È£õ„Çì„Åß„ÅÑ„Çã„ÄÇ', 'ÂΩº„ÅØË≠∞‰ºö„Åß„Åù„ÅÆË≠∞Ê°à„Å´ÂØæ„Åó„Å¶„ÄÅ<ruby>ÊÑöÁó¥<rt>„Åê„Å°</rt></ruby>„Çí„Å≤„Å©„Åè<span style="color:red;font-style:italic">„Å®„Å™„Åà„Åü</span>„ÄÇ', '„ÅÇ„Åü„Åó„ÇÇÊóÖË°å„Åó„Åü„ÅÑ„Çè„Å®„ÄÅÂ¶π„ÅØ<span style="color:red;font-style:italic">„Å®„Å™„Åà„Åü</span>„Åå„ÄÅË®±„Åï„Çå„Å™„Åã„Å£„Åü„ÄÇ', 'ÂÖ•Â≠¶Ë©¶È®ìÂªÉÊ≠¢„Çí<span style="color:red;font-style:italic">„Å®„Å™„Åà„Çã</span>Â≠¶ËÄÖ„ÇÇ„ÅÑ„Çã„Çâ„Åó„ÅÑ„ÄÇ'],
    answer: '4',
    isReading: false
  },
  {
    number: 44,
    question: '„Åæ„Çã„Å£„Åç„Çä',
    options: ['‰ªäÊó•„ÅÆÂ§©Ê∞ó‰∫àÂ†±„ÅØ<span style="color:red;font-style:italic">„Åæ„Çã„Å£„Åç„Çä</span>Â§ñ„Çå„Å†„Å≠„ÄÇ', '„ÅÇ„ÅÆ„Åä„Å∞„ÅÇ„Åï„Çì„ÅØ<span style="color:red;font-style:italic">„Åæ„Çã„Å£„Åç„Çä</span>„Åº„Åè„Çí„Åã„Çè„ÅÑ„Åå„Å£„Å¶„Åè„Çå„Åü„ÄÇ', '‰∏äÊµ∑Ëüπ„ÅØ<span style="color:red;font-style:italic">„Åæ„Çã„Å£„Åç„Çä</span>Ëí∏„Åó„Å¶„Åã„ÇâÈ£ü„Åπ„Çã„ÅÆ„ÅåÊôÆÈÄö„Åß„ÅÇ„Çã„ÄÇ', '„Åò„Å£„Å®Ë¶ã„Çã„Å®„ÄÅ<span style="color:red;font-style:italic">„Åæ„Çã„Å£„Åç„Çä</span>ÁßÅ„ÅÆËêΩ„Å®„Åó„Åü„Ç´„Éê„É≥„Å†„Å£„Åü„ÄÇ'],
    answer: '1',
    isReading: false
  },
  {
    number: 45,
    question: '„Ç´„ÉÜ„Ç¥„É™„Éº',
    options: ['ÁßÅ„ÅØÂ§ßÂ≠¶Èô¢„ÅÆÊó•Êú¨Ë™ûÂ≠¶„Å®„ÅÑ„ÅÜ<span style="color:red;font-style:italic">„Ç´„ÉÜ„Ç¥„É™„Éº</span>„Å∏ÈÄ≤Â≠¶„Åó„Åü„ÄÇ', 'Â∞è„Åï„Å™Â∫ó„Å†„Åå„ÄÅ„Åü„Åè„Åï„Çì„ÅÆ<span style="color:red;font-style:italic">„Ç´„ÉÜ„Ç¥„É™„Éº</span>„ÅÆÂïÜÂìÅ„ÅåÊèÉ„Å£„Å¶„ÅÑ„Çã„ÄÇ', 'Á§æÂì°„ÇíÁî∑Â•≥<span style="color:red;font-style:italic">„Ç´„ÉÜ„Ç¥„É™„Éº</span>„Å´ÂàÜ„Åë„Åö„Å´„ÄÅ‰∫§‰∫í„Å´Â∫ß„Çã„ÄÇ', 'Êõ∏Á±ç„Çí<span style="color:red;font-style:italic">„Ç´„ÉÜ„Ç¥„É™„Éº</span>Âà•„Å´ÂàÜÈ°û„Åô„Çå„Å∞„ÄÅÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ„ÄÇ'],
    answer: '4',
    isReading: false
  },
  {
    question: 'Ë™≠Ëß£1<br>ÁßÅ„Åü„Å°„ÅåÊôÆÊÆµ„Åã„ÇâËÄ≥ÊÖ£„Çå„Å¶„ÅÑ„Å¶„ÄÅÁÑ°ÊÑèË≠ò„Å´Âè£„Å´„Åó„Å¶„Åó„Åæ„ÅÜË®ÄËëâ„Å´„ÅØ„ÄÅÂ∑ÆÂà•Ë™û„Åå„ÅÇ„Çã„ÄÇ<br>„Åù„Åó„Å¶„Åù„Çå„ÅåÁâπÂÆö„ÅÆ‰∫∫„Åü„Å°„ÅÆ‰∫∫Ê®©„Çí‰æµ„Åó„ÄÅÂÇ∑„Å§„Åë„Å¶„Åó„Åæ„ÅÜ„Åä„Åù„Çå„Åå„ÅÇ„Çã„ÅÆ„Å†„ÄÇ<br>Â∑ÆÂà•Áî®Ë™û„Å®Ë¢´Â∑ÆÂà•Áî®Ë™û„ÅÆÈÅï„ÅÑ„ÅØ„ÄÅË®ÄËëâ„ÅÆ‰ΩøÁî®ËÄÖ„Å†„Åë„ÅÆÂïèÈ°å„Åß„ÅØ„Å™„ÅÑ„ÄÇÊúÄ„ÇÇÂ§ö„Åè„ÄÅ„Åù„Åó„Å¶ÈáçÂ§ß„Å™ÂïèÈ°å„ÅØ„ÄÅ Âèó„ÅëÂèñ„ÇäÊâã„ÅÆÊÑüË¶ö„ÅÑ„Åã„Çì„Å´„Çà„Çã„ÅÆ„Åß„ÅÇ„Çã„ÄÇ Âèó„ÅëÂèñ„ÇäÊâã„Åå„ÄÅ„Äå„Åù„ÅÆË®ÄËëâ„ÅØÂ∑ÆÂà•ÁöÑ„Å™Áî®Ê≥ï„Å†„Äç„Å®ÊÄù„Åà„Å∞„ÄÅ„Åù„Çå„Åå„Åô„Åπ„Å¶Â∑ÆÂà•Áî®Ë™û„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÜ„ÅÆ„Åß„ÅÇ„Çã„ÄÇ„Äç<br>„ÄåËá™ÂàÜ„ÅØ„Åù„Çì„Å™„Å§„ÇÇ„Çä„Åß„ÅØ„Å™„ÅÑ„Äç„Å®„Åã„Äå „Åì„ÅÆË®ÄËëâ„ÅØ„Åù„Çì„Å™Ë™ûÊ∫ê„Åß„ÅØ„Å™„ÅÑ„Äç„Å®„Åã„ÅÑ„Åè„Çâ<br>Ëß£Èáà„Åó„Å¶„ÇÇ„ÄÅ„Åù„ÅÆË®ÄËëâ„Çí‰∏çÊÑâÂø´„Å®ÊÑü„Åò„Çã‰∫∫„Åå„ÅÑ„Çã„ÅÆ„Å™„Çâ„Å∞„ÄÅ‰Ωø„ÅÜ„ÅÆ„ÇíÊéß„Åà„Çã„ÅÆ„ÅØÂΩìÁÑ∂„Å†„ÄÇ',
    isReading: true,
    subQuestions: [
      {
        number: 46,
        subQuestion: 'ÊñáÁ´†„ÅÆÂÜÖÂÆπ„Å´Âêà„Å£„Å¶„ÅÑ„Çã„ÇÇ„ÅÆ„ÅØ„Å©„Çå„Åã„ÄÇ',
        options: ['ÁÑ°ÊÑèË≠ò„Å´Âè£„Å´„Åó„Å¶„Åó„Åæ„Å£„ÅüË®ÄËëâ„ÅØÂç±„Å™„ÅÑ„Åã„Çâ„ÄÅÊ≥®ÊÑè„Åó„Å¶‰Ωø„Å£„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„ÄÇ', 'Áõ∏Êâã„Å´‰∏çÊÑâÂø´„Å™ÊÑü„Åò„Çí„ÇÇ„Åü„Çâ„ÅôË®ÄËëâ„Å™„Çâ„ÄÅ‰ΩøÁî®„ÇíÊéß„Åà„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„ÄÇ', 'Â∑ÆÂà•Ë™û„Åã„ÄÅ„Åù„ÅÜ„Åß„Å™„ÅÑ„Åã„ÇíÂâç„ÇÇ„Å£„Å¶Á¢∫„Åã„ÇÅ„Åü‰∏ä„Åß‰Ωø„ÅÜ„ÅÆ„ÅåÁÑ°Èõ£„Åß„ÅÇ„Çã„ÄÇ', 'Â∑ÆÂà•Áî®Ë™û„ÅãË¢´Â∑ÆÂà•Áî®Ë™û„Åã„ÄÅËÅû„ÅçÊâã„Å´„Çà„Çã„ÇÇ„ÅÆ„Å†„Åã„Çâ„ÄÅÊ∞ó„Å´„Åó„Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑ„ÄÇ'],
        answer: '2'
      }
    ]
  }
]; 

    let timerInterval;
    let defaultTime = 20;
    let remainingTime = defaultTime * 60;
    let isTimerRunning = false;
    let readingComprehensionCount = 0;

    // L∆∞u tr·ªØ timer ri√™ng cho m·ªói block ƒë·ªçc hi·ªÉu
    const readingTimers = {};
    // L∆∞u range ƒë√£ ch·ªçn g·∫ßn nh·∫•t cho m·ªói block (m·∫∑c ƒë·ªãnh null)
    //const savedRanges = {};

    function renderQuiz() {
    const form = document.getElementById('quizForm');
    form.innerHTML = '';
    readingComprehensionCount = 0;
    
    quizData.forEach((q, index) => {
        const div = document.createElement('div');
        div.classList.add('question-block');

        if (q.isReading) {
            readingComprehensionCount++;

            // T√°ch ph·∫ßn s·ªë th·ª© t·ª± tr∆∞·ªõc d·∫•u ". "
            const dotIndex = q.question.indexOf(". ");
            let numPart = "", restText = q.question;
            if (dotIndex > 0) {
                numPart = q.question.substring(0, dotIndex + 1);
                restText = q.question.substring(dotIndex + 2);
            }

            // T·∫°o HTML cho c√°c c√¢u h·ªèi ph·ª•
            let subQuestionsHtml = '';
            if (q.subQuestions && q.subQuestions.length > 0) {
                subQuestionsHtml = q.subQuestions.map((subQ, subIndex) => `
                    <div class="sub-question-container">
                        <div class="sub-question-box">
                            
                            <p><strong>${subQ.number}.</strong> ${subQ.subQuestion.replace(/\n/g, '<br>')}</p>
                            <span style="font-size:12px;color:#888">[key: q${index + 1}_${subIndex}]</span>
                            <div class="sub-question-options">
                                ${subQ.options.map((opt, optIndex) => `
                                    <label class="answer-option">
                                        <input type="radio" name="q${index + 1}_${subIndex}" value="${optIndex + 1}">
                                        ${opt}
                                    </label>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `).join('');
            }
          div.innerHTML = `
            <div class="reading-comprehension" data-index="${index}">
              <div class="reading-title">
                <span class="reading-label">ƒê·ªçc hi·ªÉu ${readingComprehensionCount}</span>
              </div>
              <!-- Timer ri√™ng cho reading block -->
              <div class="reading-timer-container" data-timer-index="${index}">
                <input type="number" class="reading-timer-input" id="readTimeInput-${index}" placeholder="1" min="1" max="120">
                <button type="button" class="reading-timer-btn" onclick="setReadingTimer(${index}); event.preventDefault();">ƒê·∫∑t</button>
                <button type="button" class="reading-timer-btn" onclick="startReadingTimer(${index}); event.preventDefault();">B·∫Øt ƒë·∫ßu</button>
                <button type="button" class="reading-timer-btn" onclick="resetReadingTimer(${index}); event.preventDefault();">Reset</button>
                <span class="reading-timer-display" id="readingTimerDisplay-${index}">00:00</span>
              </div>
              <!-- N√∫t highlight m√†u -->
              <div class="highlight-controls" data-highlight-index="${index}">
                <div class="highlight-btn red"    title="ƒê·ªè"   onclick="highlightSelection(${index}, 'red'); event.preventDefault();"></div>
                <div class="highlight-btn blue"   title="Xanh" onclick="highlightSelection(${index}, 'blue'); event.preventDefault();"></div>
                <div class="highlight-btn purple" title="T√≠m"  onclick="highlightSelection(${index}, 'purple'); event.preventDefault();"></div>
                <div class="highlight-btn black"  title="ƒêen"  onclick="highlightSelection(${index}, 'black'); event.preventDefault();"></div>
                <div class="highlight-btn remove-btn" title="X√≥a highlight" onclick="removeHighlights(${index}, 'red'); event.preventDefault();">‚ùå</div>
              </div>
              <div class="reading-content" id="readingContent-${index}">
                <p>
                  ${ numPart ? `<strong>${numPart}</strong><br>` : '' }
                  <span id="readingText-${index}">${restText.replace(/\n/g, '<br>')}</span>
                </p>
                     ${subQuestionsHtml}
                    </div>
                </div>
            `;
        // L∆∞u ƒë√°p √°n cho t·ª´ng c√¢u h·ªèi ph·ª•
            if (q.subQuestions && q.subQuestions.length > 0) {
                q.subQuestions.forEach((subQ, subIndex) => {
                    quizAnswers[`q${index + 1}_${subIndex}`] = subQ.answer;
                });
            }
        } else {
            // X·ª≠ l√Ω c√¢u h·ªèi th∆∞·ªùng
            div.innerHTML = `<p><strong>${q.number}. ${q.question}</strong></p>`;
            q.options.forEach((opt, i) => {
                const label = document.createElement('label');
                label.classList.add('answer-option');
                label.innerHTML = `<input type="radio" name="q${index + 1}" value="${i + 1}"> ${opt}`;
                div.appendChild(label);
            });
            quizAnswers[`q${index + 1}`] = q.answer;
        }
        
        form.appendChild(div);
    });
}

    /***=== CH·ª®C NƒÇNG TIMER RI√äNG CHO M·ªñI BLOCK ===***/
    function setReadingTimer(idx) {
      const inputEl = document.getElementById(`readTimeInput-${idx}`);
      const minutes = parseInt(inputEl.value);
      if (isNaN(minutes) || minutes <= 0) {
        alert('Nh·∫≠p s·ªë ph√∫t ‚â• 1.');
        return;
      }
      readingTimers[idx] = {
        remaining: minutes * 60,
        original: minutes * 60,
        intervalId: null
      };
      updateReadingTimerDisplay(idx);
    }

    function startReadingTimer(idx) {
      if (!readingTimers[idx]) {
        readingTimers[idx] = { remaining: 60, original: 60, intervalId: null };
      }
      if (readingTimers[idx].intervalId) return;
      readingTimers[idx].intervalId = setInterval(() => {
        const timerObj = readingTimers[idx];
        timerObj.remaining--;
        updateReadingTimerDisplay(idx);
        if (timerObj.remaining <= 0) {
          clearInterval(timerObj.intervalId);
          timerObj.intervalId = null;
          showTimeUpAlert(idx);
        }
      }, 1000);
    }

    function resetReadingTimer(idx) {
      const timerObj = readingTimers[idx];
      if (timerObj) {
        if (timerObj.intervalId) {
          clearInterval(timerObj.intervalId);
          timerObj.intervalId = null;
        }
        timerObj.remaining = timerObj.original || 0;
        updateReadingTimerDisplay(idx);
      }
    }

    function updateReadingTimerDisplay(idx) {
      const disp = document.getElementById(`readingTimerDisplay-${idx}`);
      const timerObj = readingTimers[idx] || { remaining: 0 };
      let sec = timerObj.remaining;
      if (sec < 0) sec = 0;
      const m = Math.floor(sec / 60);
      const s = sec % 60;
      disp.textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    }

    function showTimeUpAlert(idx) {
      const readingBlock = document.querySelector(`.reading-comprehension[data-index='${idx}']`);
      if (!readingBlock) return;
        // L·∫•y s·ªë/th·ª© t·ª± ho·∫∑c t√™n ƒë·ªçc hi·ªÉu
        const readingLabel = readingBlock.querySelector('.reading-label');
        let readingName = '';
        if (readingLabel) {
          readingName = readingLabel.textContent.trim(); // V√≠ d·ª•: "ƒê·ªçc hi·ªÉu 3"
        } else {
          readingName = `ƒê·ªçc hi·ªÉu ${idx + 1}`;
        }
      
      // T·∫°o alert div v·ªõi style gi·ªëng th√¥ng b√°o ch√≠nh
      const alertDiv = document.createElement('div');
      alertDiv.innerHTML = `‚è∞ H·∫øt th·ªùi gian c·ªßa <strong>${readingName}</strong> roy b·∫°n ∆∞i!`;
      alertDiv.style.position = 'fixed';
      alertDiv.style.top = '50%';
      alertDiv.style.left = '50%';
      alertDiv.style.transform = 'translate(-50%, -50%)';
      alertDiv.style.backgroundColor = '#d32f2f';
      alertDiv.style.color = 'white';
      alertDiv.style.padding = '20px 40px';
      alertDiv.style.borderRadius = '5px';
      alertDiv.style.fontSize = '24px';
      alertDiv.style.zIndex = '1000';
      alertDiv.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
      
      // Th√™m v√†o body thay v√¨ v√†o reading block
      document.body.appendChild(alertDiv);
      
      setTimeout(() => {
        alertDiv.remove();
      }, 3000);
    }

    /***=== CH·ª®C NƒÇNG HIGHLIGHT SAU KHI CH·ªåN VƒÇN B·∫¢N R·ªíI NH·∫§N N√öT M√ÄU ===***/
    // Bi·∫øn l∆∞u tr·ªØ c√°c range ƒë√£ ch·ªçn
const savedRanges = {};

// H√†m highlight m·ªõi
// H√†m highlightSelection s·ª≠a ƒë·ªïi ƒë·ªÉ cho ph√©p re-highlight
function highlightSelection(idx, color) {
  // L·∫•y range ƒë√£ l∆∞u ho·∫∑c t·ª´ selection hi·ªán t·∫°i
  const selection = window.getSelection();
  const range = savedRanges[idx] || (selection.rangeCount > 0 ? selection.getRangeAt(0).cloneRange() : null);
  
  if (!range || range.collapsed) {
    alert('Vui l√≤ng b√¥i ƒëen vƒÉn b·∫£n trong ph·∫ßn ƒë·ªçc hi·ªÉu tr∆∞·ªõc khi ƒë·ªïi m√†u.');
    return;
  }

  // Ki·ªÉm tra c√≥ n·∫±m trong ph·∫ßn ƒë·ªçc hi·ªÉu ƒë√∫ng kh√¥ng
  const readingBlock = document.querySelector(`.reading-comprehension[data-index="${idx}"]`);
  if (!readingBlock || !readingBlock.contains(range.commonAncestorContainer)) {
    alert('Vui l√≤ng ch·ªçn vƒÉn b·∫£n trong ph·∫ßn ƒë·ªçc hi·ªÉu t∆∞∆°ng ·ª©ng.');
    return;
  }

  // T·∫°o document fragment m·ªõi
  const fragment = range.extractContents();
  
  // T·∫°o span m·ªõi v·ªõi style
  const span = document.createElement('span');
  span.style.color = color;
  span.style.fontWeight = 'bold';
  
  // Th√™m n·ªôi dung v√†o span
  span.appendChild(fragment);
  
  // Ch√®n span v√†o v·ªã tr√≠ c≈©
  range.insertNode(span);
  
  // X√≥a range ƒë√£ l∆∞u
  savedRanges[idx] = null;
  
  // Clear selection
  selection.removeAllRanges();
}

// S·ª± ki·ªán l∆∞u selection khi b√¥i ƒëen
document.addEventListener('mouseup', function(e) {
  const sel = window.getSelection();
  if (sel.isCollapsed) return;
  
  const range = sel.getRangeAt(0);
  const readingBlock = findAncestor(range.commonAncestorContainer, el => 
    el.classList && el.classList.contains('reading-comprehension')
  );
  
  if (readingBlock) {
    const idx = parseInt(readingBlock.getAttribute('data-index'));
    savedRanges[idx] = range.cloneRange();
  }
});
// H√†m x√≥a t·∫•t c·∫£ highlight trong block
function removeHighlights(idx) {
  const readingBlock = document.querySelector(`.reading-comprehension[data-index="${idx}"]`);
  if (!readingBlock) return;

  // L·∫•y t·∫•t c·∫£ span highlight
  const highlightedSpans = readingBlock.querySelectorAll('span[style*="color:"]');
  
  // X√≥a ƒë·ªá quy t·ª´ trong ra ngo√†i
  highlightedSpans.forEach(span => {
    // L∆∞u n·ªôi dung b√™n trong
    const content = document.createDocumentFragment();
    while (span.firstChild) {
      content.appendChild(span.firstChild);
    }
    
    // Thay th·∫ø span b·∫±ng n·ªôi dung
    const parent = span.parentNode;
    parent.insertBefore(content, span);
    parent.removeChild(span);
  });
  
  // X·ª≠ l√Ω c√°c span c√≤n s√≥t l·∫°i (n·∫øu c√≥)
  const remainingSpans = readingBlock.querySelectorAll('span[style*="color:"]');
  if (remainingSpans.length > 0) {
    removeHighlights(idx); // G·ªçi ƒë·ªá quy n·∫øu c√≤n span
  }
}


// H√†m helper t√¨m ancestor
function findAncestor(el, fn) {
  while (el) {
    if (fn(el)) return el;
    el = el.parentNode;
  }
  return null;
}
    // L·∫Øng nghe mouseup ƒë·ªÉ l∆∞u selection n·∫øu trong reading-content, gi·ªØ highlight xanh
    document.addEventListener('mouseup', function(e) {
      const sel = window.getSelection();
      if (sel.isCollapsed) return;
      const range = sel.getRangeAt(0);
      const ancestry = findAncestor(range.commonAncestorContainer, el => 
        el.classList && el.classList.contains('reading-content')
      );
      if (!ancestry) return;
      const readingBlock = ancestry.closest('.reading-comprehension');
      if (!readingBlock) return;
      const idx = parseInt(readingBlock.getAttribute('data-index'));
      // L∆∞u t·∫°m range, kh√¥ng clear selection ƒë·ªÉ gi·ªØ highlight native m√†u xanh
      savedRanges[idx] = range.cloneRange();
    });

    function findAncestor(el, fn) {
      while (el) {
        if (fn(el)) return el;
        el = el.parentNode;
      }
      return null;
    }

    /***=== C√ÅC CH·ª®C NƒÇNG QUIZ & TIMER CHUNG ===***/
    function submitQuiz() {
    const form = document.getElementById('quizForm');
    let score = 0;
    let totalQuestions = 0;
    let correctAnswers = 0;
    
    // T√≠nh t·ªïng s·ªë c√¢u h·ªèi v√† ki·ªÉm tra ƒë√°p √°n
    quizData.forEach((q, index) => {
        if (q.isReading && q.subQuestions) {
            // X·ª≠ l√Ω c√¢u h·ªèi ƒë·ªçc hi·ªÉu c√≥ nhi·ªÅu c√¢u h·ªèi ph·ª•
            q.subQuestions.forEach((subQ, subIndex) => {
                totalQuestions++;
                const name = `q${index + 1}_${subIndex}`;
                const selected = form.querySelector(`input[name='${name}']:checked`);
                const correct = (window.answers && window.answers[name]) || quizAnswers[name];
                
                if (selected && selected.value === correct) {
                    correctAnswers++;
                    // ƒê√°nh d·∫•u c√¢u tr·∫£ l·ªùi ƒë√∫ng
                    const labels = form.querySelectorAll(`input[name='${name}']`);
                    labels.forEach(input => {
                        if (input.value === correct) {
                            input.parentElement.innerHTML += ' <span class="correct-answer">‚úÖ ƒê√∫ng</span>';
                        }
                    });
                } else {
                    // ƒê√°nh d·∫•u c√¢u tr·∫£ l·ªùi sai (n·∫øu c√≥ ch·ªçn)
                    if (selected) {
                        selected.parentElement.innerHTML += ' <span class="wrong-answer">‚ùå Sai</span>';
                        // Hi·ªÉn th·ªã ƒë√°p √°n ƒë√∫ng
                        const correctInput = form.querySelector(`input[name='${name}'][value='${correct}']`);
                        //if (correctInput) {
                          //  correctInput.parentElement.innerHTML += ' <span class="correct-answer">‚úÖ ƒê√°p √°n ƒë√∫ng</span>';
                        //}
                    }
                }
            });
        } else {
            // X·ª≠ l√Ω c√¢u h·ªèi th∆∞·ªùng
            totalQuestions++;
            const name = `q${index + 1}`;
            const selected = form.querySelector(`input[name='${name}']:checked`);
            const correct = (window.answers && window.answers[name]) || quizAnswers[name];
            
            if (selected && selected.value === correct) {
                correctAnswers++;
                // ƒê√°nh d·∫•u c√¢u tr·∫£ l·ªùi ƒë√∫ng
                const labels = form.querySelectorAll(`input[name='${name}']`);
                labels.forEach(input => {
                    if (input.value === correct) {
                        input.parentElement.innerHTML += ' <span class="correct-answer">‚úÖ ƒê√∫ng</span>';
                    }
                });
            } else {
                // ƒê√°nh d·∫•u c√¢u tr·∫£ l·ªùi sai (n·∫øu c√≥ ch·ªçn)
                if (selected) {
                    selected.parentElement.innerHTML += ' <span class="wrong-answer">‚ùå Sai</span>';
                    // Hi·ªÉn th·ªã ƒë√°p √°n ƒë√∫ng
                    const correctInput = form.querySelector(`input[name='${name}'][value='${correct}']`);
                    if (correctInput) {
                        correctInput.parentElement.innerHTML += ' <span class="correct-answer">‚úÖ ƒê√°p √°n ƒë√∫ng</span>';
                    }
                }
            }
        }
    });

    // T√≠nh ƒëi·ªÉm v√† hi·ªÉn th·ªã k·∫øt qu·∫£
    const percentage = Math.round((correctAnswers / totalQuestions) * 100);
    const resultComment = getResultComment(percentage);
    
    // L∆∞u k·∫øt qu·∫£ v√†o localStorage
    const testId = window.location.pathname.split("/").pop().replace(".html", "");
    let testScores = JSON.parse(localStorage.getItem("testScores") || "{}");
    testScores[testId] = { score: correctAnswers, total: totalQuestions };
    localStorage.setItem("testScores", JSON.stringify(testScores));
    
    // G·ª≠i k·∫øt qu·∫£ v·ªÅ trang ch√≠nh (n·∫øu c√≥)
    try {
        if (window.opener && !window.opener.closed) {
            window.opener.postMessage({ 
                type: 'updateScore', 
                testId: testId,
                score: correctAnswers,
                total: totalQuestions
            }, '*');
        }
    } catch (e) {
        console.log("Kh√¥ng th·ªÉ g·ª≠i th√¥ng b√°o ƒë·∫øn trang ch√≠nh");
    }
    
    // Hi·ªÉn th·ªã k·∫øt qu·∫£
    document.getElementById('popupScore').textContent = `${correctAnswers}/${totalQuestions} (${percentage}%)`;
    document.getElementById('popupComment').innerHTML = resultComment;
    document.getElementById('resultPopup').style.display = 'block';
    
    document.getElementById('quizResult').innerHTML = `
        <p><strong>K·∫øt qu·∫£:</strong> ${correctAnswers}/${totalQuestions} (${percentage}%)</p>
        <p><strong>Nh·∫≠n x√©t:</strong> ${resultComment}</p>
    `;
    
    // L∆∞u l·ªãch s·ª≠ l√†m b√†i
    saveQuizHistory(correctAnswers, percentage);
    
    // Hi·ªÉn th·ªã n√∫t "Hi·ªán ƒë√°p √°n ƒë√∫ng"
    document.getElementById('showAnswersBtn').style.display = 'block';
    
    // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ input
    form.querySelectorAll('input').forEach(input => {
        input.disabled = true;
    });
    
    // D·ª´ng timer
    stopTimer();
}


    function closeResultPopup() {
      document.getElementById('resultPopup').style.display = 'none';
    }

    function showCorrectAnswers() {
    quizData.forEach((q, idx) => {
        if (q.isReading && q.subQuestions) {
            q.subQuestions.forEach((subQ, subIdx) => {
                const name = `q${idx + 1}_${subIdx}`;
                const correct = (window.answers && window.answers[name]) || quizAnswers[name];
                const labels = document.querySelectorAll(`input[name='${name}']`);
                labels.forEach(input => {
                    const label = input.parentElement;
                    // N·∫øu ƒë√°p √°n ƒë√∫ng, ch∆∞a c√≥ span ƒë√∫ng th√¨ th√™m v√†o
                    if (input.value === correct && !label.innerHTML.includes('‚úÖ ƒê√∫ng')) {
                        label.innerHTML += ' <span class="correct-answer">‚úÖ ƒê√°p √°n ƒë√∫ng</span>';
                    }
                });
            });
        } else {
            const name = `q${idx + 1}`;
            const correct = (window.answers && window.answers[name]) || quizAnswers[name];
            const labels = document.querySelectorAll(`input[name='${name}']`);
            labels.forEach(input => {
                const label = input.parentElement;
                if (input.value === correct && !label.innerHTML.includes('‚úÖ ƒê√∫ng')) {
                    label.innerHTML += ' <span class="correct-answer">‚úÖ ƒê√°p √°n ƒë√∫ng</span>';
                }
            });
        }
    });
}



    function getResultComment(percentage) {
      if (percentage >= 90) return "Gh√™ v·∫ßy n√®, ƒë√∫ng l√† Me iu c·ªßa anh &#128525; &#128525; &#128525;";
      if (percentage >= 70) return "Gi·ªèi gh√™ ta ∆∞i &#128525;";
      if (percentage >= 50) return "T·ªët r·ªìi ƒë√≥ b·∫°n ∆∞i &#128512;";
      return "H√¥ng sao n√®, l·∫ßn sau c·ªë g·∫Øng th√™m ha &#129402;";
    }

    function saveQuizHistory(score, percentage) {
      const list = document.getElementById('quizHistory');
      const time = new Date().toLocaleTimeString();
      const li = document.createElement('li');
      li.innerHTML = `
        ${time}: ${score}/${Object.keys(quizAnswers).length} (${percentage}%)
        <button onclick="this.parentElement.remove()">‚ùå</button>
      `;
      list.prepend(li);
    }

    function resetQuiz() {
      const form = document.getElementById('quizForm');
      form.reset();
      // D·ª´ng h·∫øt timer reading tr∆∞·ªõc khi render l·∫°i
      Object.values(readingTimers).forEach(obj => {
        if (obj.intervalId) clearInterval(obj.intervalId);
      });
      renderQuiz();
      closeResultPopup();
      document.getElementById('quizResult').innerHTML = '';
      document.getElementById('showAnswersBtn').style.display = 'none';
      resetTimer();
    }
      function findKeyBySubQNumber(number) {
        for (let i = 0; i < quizData.length; i++) {
            const q = quizData[i];
            if (!q.isReading) {
                if (q.number == number) return `q${i+1}`;
            } else if (q.subQuestions) {
                for (let j = 0; j < q.subQuestions.length; j++) {
                    const subQ = q.subQuestions[j];
                    if (subQ.number == number) return `q${i+1}_${j}`;
                }
            }
        }
        return null;
    }


    function updateAnswer() {
    let keyOrNumber = document.getElementById("editKey").value.trim();
    const value = document.getElementById("editValue").value.trim();
    if (!window.answers) window.answers = {};

    // N·∫øu nh·∫≠p s·ªë, t·ª± ƒë·ªông d√≤ key theo subQ.number
    if (/^\d+$/.test(keyOrNumber)) {
        const mappedKey = findKeyBySubQNumber(keyOrNumber);
        if (!mappedKey) {
            alert(`‚ùå Kh√¥ng t√¨m th·∫•y c√¢u h·ªèi s·ªë ${keyOrNumber}!`);
            return;
        }
        keyOrNumber = mappedKey;
    }

    if (keyOrNumber && value) {
        window.answers[keyOrNumber] = value;
        alert(`‚úÖ ƒê√°p √°n c·ªßa ${keyOrNumber} ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh ${value}.`);
    }
}


    function setTimer() {
      const inputMinutes = parseInt(document.getElementById('setTimeInput').value);
      if (!isNaN(inputMinutes) && inputMinutes > 0) {
        defaultTime = inputMinutes;
        remainingTime = defaultTime * 60;
        updateTimerDisplay();
        alert(`ƒê√£ ƒë·∫∑t th·ªùi gian l√†m b√†i l√† ${defaultTime} ph√∫t`);
      } else {
        alert('Nh·∫≠p cho ƒë√∫ng coi n√†o');
      }
    }

    function startTimer() {
      if (isTimerRunning) return;
      isTimerRunning = true;
      timerInterval = setInterval(() => {
        remainingTime--;
        updateTimerDisplay();
        if (remainingTime <= 0) {
          stopTimer();
          document.getElementById('timeUpAlert').style.display = 'block';
          setTimeout(() => {
            document.getElementById('timeUpAlert').style.display = 'none';
          }, 3000);
        }
      }, 1000);
    }

    function stopTimer() {
      clearInterval(timerInterval);
      isTimerRunning = false;
    }

    function resetTimer() {
      stopTimer();
      remainingTime = defaultTime * 60;
      updateTimerDisplay();
    }

    function updateTimerDisplay() {
      const minutes = Math.floor(remainingTime / 60);
      const seconds = remainingTime % 60;
      document.getElementById('timerDisplay').textContent = 
        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    window.addEventListener('scroll', function() {
      const timerContainer = document.querySelector('.timer-container');
      const scrollY = window.scrollY;
      if (scrollY > 100) {
        timerContainer.style.opacity = '0.9';
        timerContainer.style.transform = 'scale(0.95)';
      } else {
        timerContainer.style.opacity = '1';
        timerContainer.style.transform = 'scale(1)';
      }
    });

    window.onload = function() {
      renderQuiz();
      updateTimerDisplay();
    };
  </script>
</body>
</html>
